{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/constants.js","webpack:///./src/utils/animation.js","webpack:///./src/utils/base.js","webpack:///./src/utils/browser.js","webpack:///./src/utils/text.js","webpack:///./src/utils/dom.js","webpack:///./src/utils/events.js","webpack:///./src/utils/svg.js","webpack:///./src/utils/themes.js","webpack:///./src/utils/algorithms.js","webpack:///./src/utils/index.js","webpack:///./src/core/misc/EventEmitter.js","webpack:///./src/core/animation/AnimationSource.js","webpack:///./src/core/SvgRenderer.js","webpack:///./src/core/series/SeriesTypes.js","webpack:///./src/core/point/Point.js","webpack:///./src/core/series/Series.js","webpack:///./src/core/animation/Tween.js","webpack:///./src/core/chart/ChartTypes.js","webpack:///./src/core/chart/ChartEvents.js","webpack:///./src/core/chart/BaseChart.js","webpack:///./src/core/chart/Chart.js","webpack:///./src/core/misc/Clock.js","webpack:///./src/core/chart/NavigatorChart.js","webpack:///./src/Telechart.js","webpack:///./src/index.js","webpack:///./demo/telechart-demo.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TimeRanges","second","minute","hour","day","week","month","year","FRAMES_DELTA_SEC","warp","deltaTime","framesDeltaSec","warpRatio","animationTimeout","timeoutMs","_len","arguments","length","args","Array","_key","Promise","resolve","fulfillmentCallback","apply","concat","cb","requestAnimationFrame","setTimeout","_","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","objectEachKey","fn","keys","forEach","objectMapKey","map","clampNumber","min","max","Infinity","_ref","Math","ensureNumber","Number","isNaN","isObject","isDate","Date","valueOf","isBrowserSafari","test","navigator","userAgent","isTouchEventsSupported","document","documentElement","capitalize","text","String","toUpperCase","substr","cssText","styleObject","reduce","css","prop","camelToKebabCase","toLowerCase","replace","parseQueryString","href","queryString","split","slice","part","keyValue","result","obj","assign","createElement","tagName","options","children","element","createElementNS","attrs","useNS","setAttributesNS","attrsNS","setAttributes","isArray","node","innerHTML","textContent","appendChild","resolveElement","elementOrSelector","querySelector","getElementOffset","top","left","getClientRects","rect","getBoundingClientRect","win","ownerDocument","defaultView","pageYOffset","pageXOffset","getElementRelativeOffset","targetElement","relativeElement","targetOffset","relativeOffset","scrollTop","scrollLeft","getDocumentHeight","body","scrollHeight","offsetHeight","clientHeight","getWindowHeight","window","innerHeight","getElementHeight","getElementWidth","innerWidth","clientWidth","getElementScrollHeight","getElementScrollWidth","scrollWidth","offsetWidth","camelCaseAttrWhiteList","attr","includes","setAttribute","setAttributeNS","hasClass","className","classList","contains","RegExp","addClass","classNames","_element$classList","add","trim","removeClass","_element$classList2","remove","existingClasses","classesToDelete","Set","has","addEventListenerOnce","eventName","console","warn","addEventListener","listener","ev","removeEventListener","parseSimplePathText","pathText","parseRegex","segments","exec","index","lastIndex","type","x","y","push","segmentsToPathText","j","join","ROOT_CLASS_NAME","interpolateThemeClass","themeName","ChartThemes","default","dark","ChartThemesColors","arraysEqual","arrayA","arrayB","arrayMinIndex","array","startIndex","endIndex","minIndex","arrayMin","arrayMaxIndex","maxIndex","arrayMax","arrayMinMaxIndexes","arrayMinMax","_arrayMinMaxIndexes","arraySum","sum","arrayAvg","binarySearchIndexes","order","right","mid","binarySearchObjectIndexes","__webpack_exports__","EventEmitter","this","_eventListeners","_proto","emit","_fireEvent","on","context","once","_subscribeEvent","_this","_len2","_key2","listenerIndex","findIndex","splice","removeAllListeners","_allocateEvent","eventListeners","_len3","_key3","_eventListeners$i","AnimationSourceEvents","AnimationSource","_EventEmitter","updatesPerSecond","timeScale","_timeElapsed","_timeScale","_updateInvokes","_updatesPerSecond","_updateEach","_lastUpdateAt","_paused","FRAMES_PER_SECOND","update","_callUpdate","dispose","set","telechartTitle","TELECHART_NAME","INTERNAL_AUTOINCREMENT","SvgRenderer","contextElement","_id","_parentContainer","_svgContainer","_minHeight","_minWidth","_width","_height","_isInitialized","_init","createGroup","parent","group","NS","createClipPath","clipPath","createMask","mask","createLinearGradient","stops","stopElements","stopAttrs","gradient","createDesc","createText","tspan","textElement","createDefs","createPath","pathElement","updatePath","createRect","width","height","rectElement","selector","querySelectorAll","from","destroy","_detachEvents","_clearParentContainer","_updateDimensions","_createSvgContainer","_insertSvgContainer","_attachEvents","Error","xmlns","version","viewBox","class","_onResize","_attachResizeListener","_detachResizeListener","_resizeListener","SeriesTypes","POINT_AUTOINCREMENT","Point","_type","_x","_y","_svgX","_svgY","setType","pointType","setX","setY","setXY","addX","addY","addXY","setSvgX","svgX","setSvgY","svgY","setSvgXY","SERIES_AUTOINCREMENT","Series","renderer","settings","_parent","_renderer","_chart","_settings","_seriesOptions","_xAxis","_yAxis","_name","_label","_color","_strokeWidth","_visible","_group","_pathText","_pathElement","_pathUpdateNeeded","_points","_localMaxY","_localMinY","_parseSettings","initialize","_createPoints","_addEvents","updateViewportPoints","firstRender","_createGroup","_createPath","setChart","chart","setVisible","setInvisible","toggleVisible","updateLocalExtremes","_this$_chart$_viewpor","_viewportRangeIndexes","rangeStartIndex","rangeEndIndex","_arrayMinMax","minValue","maxValue","_useViewportPointsInterval","updateViewportPointsByInterval","updateViewportPointsByArray","indexes","_viewportPointsIndexes","pointIndex","point","_projectXToSvg","_projectYToSvg","_this$_chart$_viewpor2","_updatePathText","requestPathUpdate","_this$_settings","xAxis","yAxis","label","color","_this$_settings$optio","_options$strokeWidth","strokeWidth","id","fill","stroke","strokeLinejoin","strokeLinecap","_computePathTextByInterval","_computePathTextByArray","_toRelativeX","_viewportPixelX","chartHeight","currentLocalMinY","_viewportPixelY","_this2","_onRendererResize","_viewportRange","interval","TWEEN_ID","TweenState","NOT_STARTED","RUNNING","PAUSED","COMPLETED","CANCELLED","TweenEvents","DEFAULT_PARAMS","duration","timingFunction","Tween","target","properties","deltaValues","params","_params","_state","_duration","_timingFunctionName","_timingFunction","_target","_properties","_deltaValues","_startValues","_initParams","_construct","isRunning","_updateAnimation","_checkDuration","start","isNotStarted","_getPropertyValues","pause","finish","_dispose","cancel","patchAnimation","setTimeScale","_this$_params","_getTimingFunction","progress","timingProgress","values","_getPropertyValue","functionName","defaultFunctionName","timingFunctions","ChartTypes","navigatorChart","ChartEvents","CHART_ID","BaseChart","_options","_chartHeight","_groupingPixels","_series","_seriesGroup","_defs","_chartMask","_chartMaskId","_chartMaskPadding","_viewportDistance","_viewportLeftPaddingScale","_viewportRightPaddingScale","_viewportRangeUpdateNeeded","_viewportPointsGroupingNeeded","_currentLocalMinY","_currentLocalMaxY","_minMaxYAnimation","resolveDefs","createChartMask","createSeriesGroup","createSeries","addEvents","setInitialRange","approximateViewportPoints","extremesUpdated","updateViewportRange","updateViewportPixel","eachSeries","line","data","series","_ref$seriesOptions","seriesOptions","groupingOptions","grouping","pixels","columns","types","colors","names","xAxisIndex","column","yAxes","shift","extendSeriesOptions","defs","svgContainer","padding","gradientId","sharpGradient","gradientTransform","offset","stopColor","stopOpacity","chartWidth","setViewportRange","minX","maxX","_temp","_ref2","_ref2$skipExtremes","skipExtremes","_ref2$preservePadding","preservePadding","_clampViewportRange","oldRangeIndexes","_updateViewportIndexes","localExtremesUpdateRequested","updateExtremes","_this$_viewportRangeI","groupingDistanceLimitX","viewportIndexes","groupStartIndex","middleIndex","localMinY","localMaxY","isVisible","oldLocalMinY","oldLocalMaxY","updateAnimation","_patchMinMaxYAnimation","_createMinMaxYAnimation","computeViewportPixelX","currentLocalExtremeDifference","computeViewportPadding","localMinX","localMaxX","onRendererResize","onSeriesVisibleChange","getSeriesByLabel","findSeries","setSeriesVisible","setSeriesInvisible","toggleSeriesInvisible","predicate","setChartType","_this$_viewportRange","rangeStart","rangeEnd","_binarySearchIndexes","minUpperIndex","_binarySearchIndexes2","maxLowerIndex","globalMinX","globalMaxX","getTime","newMinX","newMaxX","actualPaddingX","receivedLeftPaddingX","receivedRightPaddingX","_this3","Chart","_BaseChart","transform","chartMaskId","style","shapeRendering","initialViewport","floor","viewportPadding","Clock","_lastUpdateMs","performance","now","getDelta","delta","NavigatorChart","Telechart","_rootElement","_themeName","_title","_titleElement","_clock","_animationSource","mountTo","setOptions","mount","root","setTheme","theme","setTitle","title","_createChart","_createNavigatorChart","_addEventsListeners","animate","_navigatorChart","rootElement","_updateTitle","_createTitle","textAnchor","opacity","Telechart_Telechart","query","location","search","currentThemeName","largeAxisX","largeAxisY1","largeAxisY2","initialDate","dateTick","random","sin","cos","sourceData","charts","chartData","animation","then","container","log","createChart","catch","error","updatePageTheme","themeButton","themeColor","metaTheme","content","head","newTheme","animations","toggleAnimation","indexOf","stopAnimation","startDate","endDate","curDate","tickDelta","sign","runAnimation"],"mappings":"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","file":"demo.8a2532fb98560ab57824.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","const hour = 3600 * 1000;\n\n/**\n * @type {{second: number, minute: number, hour: number, day: number, week: number, month: number, year: number}}\n */\nexport const TimeRanges = {\n  second: 1000,\n  minute: hour / 60,\n  hour,\n  day: hour * 24,\n  week: hour * 24 * 7,\n  month: hour * 24 * 30, // rude\n  year: hour * 24 * 365\n};\n","export const FRAMES_PER_SECOND = 60;\nexport const FRAMES_DELTA_SEC = 1 / 60;\nexport const FRAMES_DELTA_MS = 1000 / 60;\n\n/**\n * @param {number} value\n * @param {number} deltaTime\n * @param {number} framesDeltaSec\n * @returns {number}\n */\nexport function warp (value, deltaTime, framesDeltaSec = FRAMES_DELTA_SEC) {\n  return value * warpRatio( deltaTime, framesDeltaSec );\n}\n\n/**\n * @param {number} deltaTime\n * @param {number} framesDeltaSec\n * @returns {number}\n */\nexport function warpRatio (deltaTime, framesDeltaSec = FRAMES_DELTA_SEC) {\n  return deltaTime / framesDeltaSec;\n}\n\n/**\n * @param {number} timeoutMs\n * @param {*} args\n * @return {Promise<void>}\n */\nexport function animationTimeout (timeoutMs = 0, ...args) {\n  return new Promise(resolve => {\n    const fulfillmentCallback = resolve.bind( null, ...args );\n    const cb = () => requestAnimationFrame( fulfillmentCallback );\n\n    if (!timeoutMs) {\n      cb();\n    } else {\n      setTimeout( _ => cb(), timeoutMs );\n    }\n  });\n}\n\n// linear\nexport const linear = t => t;\n// accelerating from zero velocity\nexport const easeInQuad = t => t * t;\n// decelerating to zero velocity\nexport const easeOutQuad = t => t * (2 - t);\n// acceleration until halfway, then deceleration\nexport const easeInOutQuad = t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t);\n// accelerating from zero velocity\nexport const easeInCubic = t => t * t * t;\n// decelerating to zero velocity\nexport const easeOutCubic = t => --t * t * t + 1;\n// acceleration until halfway, then deceleration\nexport const easeInOutCubic = t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n// accelerating from zero velocity\nexport const easeInQuart = t => t * t * t * t;\n// decelerating to zero velocity\nexport const easeOutQuart = t => 1 - --t * t * t * t;\n// acceleration until halfway, then deceleration\nexport const easeInOutQuart = t => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t);\n// accelerating from zero velocity\nexport const easeInQuint = t => t * t * t * t * t;\n// decelerating to zero velocity\nexport const easeOutQuint = t => 1 + --t * t * t * t * t;\n// acceleration until halfway, then deceleration\nexport const easeInOutQuint = t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n","/**\n * @param {*} object\n * @param {Function} fn\n */\nexport function objectEachKey (object, fn = () => {}) {\n  Object.keys( object ).forEach( fn );\n}\n\n/**\n * @param {*} object\n * @param {Function} fn\n * @return {*[]}\n */\nexport function objectMapKey (object, fn = () => {}) {\n  return Object.keys( object ).map( fn );\n}\n\n/**\n * @param {number} value\n * @param {number} min\n * @param {number} max\n * @return {number}\n */\nexport function clampNumber (value, min = -Infinity, max = Infinity) {\n  if (min > max) {\n    [ min, max ] = [ max, min ];\n  }\n  return Math.min(\n    Math.max(ensureNumber(value), min),\n    max\n  );\n}\n\n/**\n * @param {*} value\n * @return {number}\n */\nexport function ensureNumber (value) {\n  value = Number(value);\n  if (Number.isNaN(value)) {\n    return 0;\n  }\n  return value;\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nexport function isObject (value) {\n  return typeof value === 'object' && value !== null;\n}\n\n/**\n * @param {Date|*} value\n * @return {boolean}\n */\nexport function isDate (value) {\n  return value instanceof Date && !isNaN( value.valueOf() );\n}\n","/**\n * @returns {boolean}\n */\nexport function isBrowserSafari () {\n  return /^((?!chrome|android|crios|fxios).)*safari/i.test( navigator.userAgent );\n}\n\n/**\n * @return {boolean}\n */\nexport function isTouchEventsSupported () {\n  return 'ontouchstart' in document.documentElement;\n}\n","/**\n * @param {string} text\n * @return {string}\n */\nexport function capitalize (text) {\n  if (!text) {\n    return '';\n  }\n  text = String( text );\n  return text[ 0 ].toUpperCase() + text.substr(1);\n}\n\n/**\n * @param {Object} styleObject\n * @returns {string}\n */\nexport function cssText (styleObject) {\n  return Object.keys( styleObject ).reduce((css, prop) => {\n    return `${css ? css + ' ' : ''}${camelToKebabCase( prop )}: ${styleObject[ prop ]};`;\n  }, '');\n}\n\n/**\n * @param {string} text\n * @returns {string}\n */\nexport function camelToKebabCase (text) {\n  if (!text) {\n    return '';\n  }\n  text = String( text );\n  return (\n    text[ 0 ].toLowerCase() + text.substr( 1 )\n  ).replace( /([A-Z])/g, '-$1' ).toLowerCase();\n}\n\n/**\n * @param {string} href\n * @return {*}\n */\nexport function parseQueryString (href) {\n  const queryString = href.split('?').slice(1);\n  if (!queryString.length) {\n    return {};\n  }\n\n  return queryString[ 0 ].split( '&' ).map(part => {\n    const keyValue = part.split( '=' );\n    return {\n      [keyValue[ 0 ]]: keyValue[ 1 ]\n    };\n  }).reduce((result, obj) => {\n    return Object.assign(result, obj);\n  })\n}\n","import { objectEachKey } from \"./base\";\nimport { camelToKebabCase } from './text';\n\n/**\n * @param {string} tagName\n * @param {Object} options\n * @param {Array|*} children\n * @param {string|*} ns\n * @return {Element}\n */\nexport function createElement (tagName, options = {}, children = [], ns = null) {\n  const element = !ns\n    ? document.createElement( tagName )\n    : document.createElementNS( ns, tagName );\n\n  if (options.attrs) {\n    !options.useNS\n      ? setAttributes( element, options.attrs )\n      : setAttributesNS( element, options.attrs, options.attrsNS || null );\n  }\n\n  if (children || Array.isArray( children )) {\n    children = [].concat( children );\n    children.forEach(node => {\n      if (typeof node === 'string') {\n        // optimistic way\n        if (/[<>]/i.test( node )) {\n          element.innerHTML += node;\n        } else {\n          element.textContent += node;\n        }\n      } else {\n        element.appendChild( node );\n      }\n    });\n  }\n\n  return element;\n}\n\n/**\n * @param {Element|string} elementOrSelector\n * @return {Element | null}\n */\nexport function resolveElement (elementOrSelector) {\n  if (typeof elementOrSelector !== 'string') {\n    return elementOrSelector;\n  }\n  return document.querySelector( elementOrSelector );\n}\n\n/**\n * @param {Element} element\n * @return {{top: number, left: number}}\n */\nexport function getElementOffset (element) {\n  if (!element) {\n    return { top: 0, left: 0 };\n  }\n\n  // Return zeros for disconnected and hidden (display: none) elements\n  // Support: IE <= 11 only\n  // Running getBoundingClientRect on a\n  // disconnected node in IE throws an error\n  if (element.getClientRects && !element.getClientRects().length) {\n    return { top: 0, left: 0 };\n  }\n\n  // Get document-relative position by adding viewport scroll to viewport-relative gBCR\n  const rect = element.getBoundingClientRect();\n  const win = element.ownerDocument.defaultView;\n  return {\n    top: rect.top + win.pageYOffset,\n    left: rect.left + win.pageXOffset\n  };\n}\n\n/**\n * @param {Element} targetElement\n * @param {Element} relativeElement\n * @return {{ top: number, left: number }}\n */\nexport function getElementRelativeOffset (targetElement, relativeElement) {\n  const targetOffset = getElementOffset(targetElement);\n  const relativeOffset = getElementOffset(relativeElement);\n\n  return {\n    top: targetOffset.top - relativeOffset.top + relativeElement.scrollTop,\n    left: targetOffset.left - relativeOffset.left + relativeElement.scrollLeft\n  };\n}\n\n/**\n * @returns {number}\n */\nexport function getDocumentHeight () {\n  return Math.max(\n    document.body.scrollHeight,\n    document.documentElement.scrollHeight,\n    document.body.offsetHeight,\n    document.documentElement.offsetHeight,\n    document.body.clientHeight,\n    document.documentElement.clientHeight\n  );\n}\n\n/**\n * @returns {number}\n */\nexport function getWindowHeight () {\n  return window.innerHeight ||\n    (document.documentElement || document.body).clientHeight;\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementHeight (element) {\n  return element.innerHeight || element.clientHeight;\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementWidth (element) {\n  return element.innerWidth || element.clientWidth;\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementScrollHeight (element) {\n  return Math.max(\n    element.scrollHeight,\n    element.offsetHeight,\n    element.clientHeight\n  );\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementScrollWidth (element) {\n  return Math.max(\n    element.scrollWidth,\n    element.offsetWidth,\n    element.clientWidth\n  );\n}\n\nconst camelCaseAttrWhiteList = [\n  'viewBox',\n  'gradientTransform'\n];\n\n/**\n * @param {Element} element\n * @param {Object} attrs\n */\nexport function setAttributes (element, attrs = {}) {\n  element = resolveElement( element );\n\n  objectEachKey(attrs, key => {\n    const attr = camelCaseAttrWhiteList.includes( key )\n      ? key\n      : camelToKebabCase( key );\n\n    element.setAttribute( attr, attrs[ key ] );\n  });\n}\n\n/**\n * @param {Element} element\n * @param {Object} attrs\n * @param {string | *} ns\n */\nexport function setAttributesNS (element, attrs = {}, ns = null) {\n  element = resolveElement( element );\n\n  objectEachKey(attrs, key => {\n    const attr = camelCaseAttrWhiteList.includes( key )\n      ? key\n      : camelToKebabCase( key );\n\n    element.setAttributeNS( ns, attr, attrs[ key ] );\n  });\n}\n\n/**\n * @param {Element} element\n * @param {string} attr\n * @param {*} value\n * @param {string | *} ns\n */\nexport function setAttributeNS (element, attr, value, ns) {\n  // it's a magic but it increases speed for 1-2ms on slow devices\n  // prevent from babel optimisation\n  ns = ns || null;\n  element.setAttributeNS( ns, attr, value );\n}\n\n/**\n * @param {Element} element\n * @param {string} className\n */\nexport function hasClass (element, className) {\n  if (element.classList) {\n    return element.classList.contains( className );\n  }\n  return new RegExp('(\\\\s|^)' + className + '(\\\\s|$)').test( element.className );\n}\n\n/**\n * @param {Element} element\n * @param {string|Array<string>} classNames\n */\nexport function addClass (element, classNames = []) {\n  classNames = [].concat( classNames );\n\n  if (element.classList) {\n    return element.classList.add( ...classNames );\n  }\n\n  let className = element.className;\n\n  for (let i = 0; i < classNames.length; ++i) {\n    if (!hasClass( element, classNames[ i ] )) {\n      className += ` ${classNames[ i ]}`;\n    }\n  }\n\n  element.className = className.trim();\n}\n\n/**\n * @param {Element} element\n * @param {string|Array<string>} classNames\n */\nexport function removeClass (element, classNames = []) {\n  classNames = [].concat( classNames );\n\n  if (element.classList) {\n    return element.classList.remove( ...classNames );\n  }\n\n  let existingClasses = element.className.split( ' ' );\n  let classesToDelete = new Set( classNames );\n  let className = '';\n\n  for (let i = 0; i < existingClasses.length; ++i) {\n    if (!classesToDelete.has( existingClasses[ i ] )) {\n      className += ` ${existingClasses[ i ]}`;\n    }\n  }\n\n  element.className = className.trim();\n}\n","/**\n * @param {Element | Window} element\n * @param {string} eventName\n * @param {Function} cb\n */\nexport function addEventListenerOnce (element, eventName, cb) {\n  if (!element) {\n    return console.warn( 'Element is missing' );\n  }\n\n  const listener = ev => {\n    cb( ev );\n    element.removeEventListener( eventName, listener );\n  };\n\n  element.addEventListener( eventName, listener );\n}\n","import { ensureNumber } from \"./index\";\n\n/**\n * Returns path segments\n *\n * @param {string} pathText\n * @return {Array<Array<Array<number>>>}\n */\nexport function parseSimplePathText (pathText) {\n  const parseRegex = /([ML])\\s?(-?\\d+\\.?(?:\\d+)?)\\s(-?\\d+\\.?(?:\\d+)?)/gi;\n\n  const segments = [];\n  let m;\n\n  while ((m = parseRegex.exec( pathText )) !== null) {\n    // This is necessary to avoid infinite loops with zero-width matches\n    if (m.index === parseRegex.lastIndex) {\n      parseRegex.lastIndex++;\n    }\n\n    const type = m[ 1 ];\n    const x = ensureNumber( m[2] );\n    const y = ensureNumber( m[3] );\n\n    if (type === 'm' || !segments.length) {\n      segments.push([ [ x, y ] ]);\n    } else {\n      const lastSegment = segments[ segments.length - 1 ];\n      lastSegment.push([ x, y ]);\n    }\n  }\n\n  return segments;\n}\n\n/**\n * @param {Array<Array<Array<number>>>} segments\n * @return {string}\n */\nexport function segmentsToPathText (segments) {\n  let result = '';\n\n  for (let i = 0; i < segments.length; ++i) {\n    result += 'M ';\n    for (let j = 0; j < segments[ i ].length; ++j) {\n      const coordinates = segments[ i ][ j ];\n      if (j !== 0) {\n        result += 'L ';\n      }\n      result += coordinates.join(' ') + ' ';\n    }\n  }\n\n  return result;\n}\n","export const ROOT_CLASS_NAME = 'telechart-root';\n\n/**\n * @param {string} themeName\n * @returns {string}\n */\nexport function interpolateThemeClass (themeName) {\n  return `${ROOT_CLASS_NAME}_theme_${themeName}`;\n}\n\n/**\n * @type {{default: string, dark: string}}\n */\nexport const ChartThemes = {\n  default: 'default',\n  dark: 'dark'\n};\n\n/**\n * @type {{default: string, dark: string}}\n */\nexport const ChartThemesColors = {\n  default: '#ffffff',\n  dark: '#242F3E'\n};\n","/**\n * @param {Array<*>} arrayA\n * @param {Array<*>} arrayB\n * @param {string | *} key\n * @return {boolean}\n */\nexport function arraysEqual (arrayA, arrayB, key = null) {\n  if (!Array.isArray(arrayA)\n    || !Array.isArray(arrayB)\n    || arrayA.length !== arrayB.length) {\n    return false;\n  }\n  for (let i = 0; i < arrayA.length; ++i) {\n    if (key) {\n      if (arrayA[ i ][ key ] !== arrayB[ i ][ key ]) {\n        return false;\n      }\n    } else if (arrayA[ i ] !== arrayB[ i ]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMinIndex (array, startIndex = 0, endIndex = array.length - 1) {\n  let minIndex = startIndex;\n  for (let i = startIndex + 1; i <= endIndex; ++i) {\n    if (array[ minIndex ] > array[ i ]) {\n      minIndex = i;\n    }\n  }\n  return minIndex;\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMin (array, startIndex = 0, endIndex = array.length - 1) {\n  return array[ arrayMinIndex( array, startIndex, endIndex ) ];\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMaxIndex (array, startIndex = 0, endIndex = array.length - 1) {\n  let maxIndex = startIndex;\n  for (let i = startIndex + 1; i <= endIndex; ++i) {\n    if (array[ maxIndex ] < array[ i ]) {\n      maxIndex = i;\n    }\n  }\n  return maxIndex;\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMax (array, startIndex = 0, endIndex = array.length - 1) {\n  return array[ arrayMaxIndex( array, startIndex, endIndex ) ];\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {Array<number>}\n */\nexport function arrayMinMaxIndexes (array, startIndex = 0, endIndex = array.length - 1) {\n  let minIndex = startIndex;\n  let maxIndex = startIndex;\n  for (let i = startIndex + 1; i <= endIndex; ++i) {\n    if (array[ maxIndex ] < array[ i ]) {\n      maxIndex = i;\n    }\n    if (array[ minIndex ] > array[ i ]) {\n      minIndex = i;\n    }\n  }\n  return [ minIndex, maxIndex ];\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {Array<number>}\n */\nexport function arrayMinMax (array, startIndex = 0, endIndex = array.length - 1) {\n  const [ minIndex, maxIndex ] = arrayMinMaxIndexes( array, startIndex, endIndex );\n  return [\n    array[ minIndex ],\n    array[ maxIndex ],\n  ];\n}\n\n/**\n * @param {Array<number>} array\n * @return {number}\n */\nexport function arraySum (array) {\n  let length = array.length;\n  let sum = 0;\n\n  while (length--) {\n    sum += array[ length ];\n  }\n\n  return sum;\n}\n\n/**\n * @param {Array<number>} array\n * @return {number}\n */\nexport function arrayAvg (array) {\n  let length = array.length;\n  let result = arraySum( array );\n\n  // prevent from dividing by zero\n  if (length) {\n    result = result / length;\n  }\n\n  return result;\n}\n\n/**\n * Finds boundary indexes in an array of numbers\n *\n * @param {Array<number>} array\n * @param {number} value\n * @param {number} order\n * @return {[number, number]} Indexes\n * @private\n */\nexport function binarySearchIndexes (array, value, order = 1) {\n  let [ left, right ] = [ 0, array.length - 1 ];\n\n  if (!array.length || order * value < order * array[ left ]) {\n    return [ -1, 0 ];\n  } else if (order * value > order * array[ right ]) {\n    return [ right, right + 1 ];\n  }\n\n  while (right - left > 1) {\n    let mid = left + (( right - left ) >> 1);\n    if (order * value <= order * array[ mid ]) {\n      right = mid;\n    } else {\n      left = mid;\n    }\n  }\n\n  if (array[ right ] === value) {\n    left = right;\n  } else if (array[ left ] === value) {\n    right = left;\n  }\n\n  return [ left, right ];\n}\n\n/**\n * Finds boundary indexes in an array of objects\n *\n * @param {Array<Object>} array\n * @param {number} value\n * @param {string} key\n * @param {number} order\n * @return {[number, number]} Indexes\n * @private\n */\nexport function binarySearchObjectIndexes (array, value, key, order = 1) {\n  let [ left, right ] = [ 0, array.length - 1 ];\n\n  if (!array.length || order * value < order * array[ left ][ key ]) {\n    return [ -1, 0 ];\n  } else if (order * value > order * array[ right ][ key ]) {\n    return [ right, right + 1 ];\n  }\n\n  while (right - left > 1) {\n    let mid = left + (( right - left ) >> 1);\n    if (order * value <= order * array[ mid ][ key ]) {\n      right = mid;\n    } else {\n      left = mid;\n    }\n  }\n\n  if (array[ right ][ key ] === value) {\n    left = right;\n  } else if (array[ left ][ key ] === value) {\n    right = left;\n  }\n\n  return [ left, right ];\n}\n","export * from './constants';\nexport * from './animation';\nexport * from './base';\nexport * from './browser';\nexport * from './dom';\nexport * from './events';\nexport * from './svg';\nexport * from './text';\nexport * from './themes';\nexport * from './algorithms';\n","/**\n * Simple event emitter for better performance and app size\n *\n * @author Alexander Belov\n */\nexport class EventEmitter {\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _eventListeners = {};\n\n  /**\n   * @param {string} eventName\n   * @param {*} args\n   */\n  emit (eventName, ...args) {\n    this._fireEvent( eventName, ...args );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  on (eventName, cb, context = null) {\n    this.addEventListener( eventName, cb, context );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  once (eventName, cb, context = null) {\n    this.addEventListenerOnce( eventName, cb, context );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  addEventListener (eventName, cb, context = null) {\n    if (!cb) {\n      return;\n    }\n\n    this._subscribeEvent( eventName, cb, context );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  addEventListenerOnce (eventName, cb, context = null) {\n    if (!cb) {\n      return;\n    }\n\n    const listener = (...args) => {\n      cb.apply( context, args );\n      this.removeEventListener( eventName, listener );\n    };\n\n    this.addEventListener( eventName, listener );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} listener\n   */\n  removeEventListener (eventName, listener) {\n    if (!this._eventListeners[ eventName ]) {\n      return;\n    }\n\n    const listenerIndex = this._eventListeners[ eventName ].findIndex(([ cb ]) => {\n      return listener === cb;\n    });\n\n    if (listenerIndex < 0) {\n      return;\n    }\n\n    this._eventListeners[ eventName ].splice( listenerIndex, 1 );\n  }\n\n  /**\n   * @param {string | *} eventName\n   */\n  removeAllListeners (eventName = null) {\n    if (!eventName) {\n      this._eventListeners = {};\n    } else if (this._eventListeners[ eventName ]) {\n      this._eventListeners[ eventName ] = null;\n      delete this._eventListeners[ eventName ];\n    }\n  }\n\n  /**\n   * @param {string} eventName\n   * @private\n   */\n  _allocateEvent (eventName) {\n    this._eventListeners[ eventName ] = this._eventListeners[ eventName ] || []\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  _subscribeEvent (eventName, cb, context) {\n    this._allocateEvent( eventName );\n    this._eventListeners[ eventName ].push([ cb, context ]);\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {*} args\n   * @private\n   */\n  _fireEvent (eventName, ...args) {\n    const eventListeners = this._eventListeners[ eventName ] || [];\n\n    for (let i = 0; i < eventListeners.length; ++i) {\n      const [ cb, context ] = eventListeners[ i ];\n      cb.apply( context, args );\n    }\n  }\n}\n","import { EventEmitter } from '../misc/EventEmitter';\nimport { FRAMES_PER_SECOND } from '../../utils';\n\nexport const AnimationSourceEvents = {\n  UPDATE: 'update'\n};\n\nexport class AnimationSource extends EventEmitter {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _timeElapsed = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _timeScale = 1;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _updateInvokes = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _updatesPerSecond = 60;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _updateEach = 1;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _lastUpdateAt = 0;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _paused = false;\n\n  /**\n   * @param {number} updatesPerSecond\n   * @param {number} timeScale\n   */\n  constructor (updatesPerSecond = 60, timeScale = 1) {\n    super();\n\n    this._updatesPerSecond = Math.min( 60, Math.max( 1e-8, updatesPerSecond ) );\n    this._updateEach = FRAMES_PER_SECOND / this._updatesPerSecond;\n    this._timeScale = timeScale;\n  }\n\n  /**\n   * @param {number} deltaTime\n   */\n  update (deltaTime) {\n    if (this._paused) {\n      return;\n    }\n\n    this._timeElapsed += deltaTime;\n    this._updateInvokes++;\n\n    if (this._updateInvokes % this._updateEach < 1) {\n      this._callUpdate( ( this._timeElapsed - this._lastUpdateAt ) * this._timeScale );\n      this._lastUpdateAt = this._timeElapsed;\n    }\n  }\n\n  /**\n   * Disposes the instance\n   */\n  dispose () {\n    this._paused = true;\n    this.removeAllListeners();\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isPaused () {\n    return this._paused;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isRunning () {\n    return !this._paused;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get timeScale () {\n    return this._timeScale;\n  }\n\n  /**\n   * @param {number} value\n   */\n  set timeScale (value) {\n    this._timeScale = value;\n  }\n\n  /**\n   * @param {number} deltaTime\n   * @private\n   */\n  _callUpdate (deltaTime) {\n    this.emit( AnimationSourceEvents.UPDATE, deltaTime );\n  }\n}\n","import { EventEmitter } from \"./misc/EventEmitter\";\nimport {\n  capitalize,\n  clampNumber,\n  createElement,\n  getElementWidth,\n  resolveElement, setAttributeNS,\n  setAttributes,\n  setAttributesNS\n} from \"../utils\";\n\nconst telechartTitle = `${capitalize( TELECHART_NAME )} ${TELECHART_VERSION} (c) ${TELECHART_AUTHOR}`;\n\nlet INTERNAL_AUTOINCREMENT = 1;\n\nexport class SvgRenderer extends EventEmitter {\n\n  static NS = 'http://www.w3.org/2000/svg';\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = INTERNAL_AUTOINCREMENT++;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _parentContainer = null;\n\n  /**\n   * @type {SVGElement}\n   * @private\n   */\n  _svgContainer = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _minHeight = 450;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _minWidth = 10;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _width = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _height = null;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _isInitialized = false;\n\n  /**\n   * @param {Element|string} contextElement\n   */\n  constructor (contextElement) {\n    super();\n\n    this._parentContainer = resolveElement( contextElement );\n    this._init();\n  }\n\n  /**\n   * @param {*} attrs\n   * @param {Array<Element>} children\n   * @param {Element} parent\n   * @return {Element}\n   */\n  createGroup (attrs = {}, children = [], parent = this._svgContainer) {\n    const group = createElement('g', {\n      useNS: true,\n      attrs\n    }, children, SvgRenderer.NS);\n\n    parent.appendChild( group );\n\n    return group;\n  }\n\n  /**\n   * @param {*} attrs\n   * @param {Array<Element>|*} children\n   * @param {Element} parent\n   * @return {SVGClipPathElement}\n   */\n  createClipPath (attrs = {}, children = [], parent = this._svgContainer) {\n    const clipPath = createElement('clipPath', {\n      useNS: true,\n      attrs\n    }, children, SvgRenderer.NS);\n\n    parent.appendChild( clipPath );\n\n    return clipPath;\n  }\n\n  /**\n   * @param {*} attrs\n   * @param {Array<Element>|*} children\n   * @param {Element} parent\n   * @return {SVGMaskElement}\n   */\n  createMask (attrs = {}, children = [], parent = this._svgContainer) {\n    const mask = createElement('mask', {\n      useNS: true,\n      attrs\n    }, children, SvgRenderer.NS);\n\n    parent.appendChild( mask );\n\n    return mask;\n  }\n\n  /**\n   * @param {*} attrs\n   * @param {Array<*>} stops\n   * @param {Element} parent\n   * @return {SVGLinearGradientElement}\n   */\n  createLinearGradient (attrs = {}, stops = [], parent = this._svgContainer) {\n    const stopElements = stops.map(stopAttrs => {\n      return createElement('stop', {\n        useNS: true,\n        attrs: stopAttrs\n      }, [], SvgRenderer.NS);\n    });\n\n    const gradient = createElement('linearGradient', {\n      useNS: true,\n      attrs\n    }, stopElements, SvgRenderer.NS);\n\n    parent.appendChild( gradient );\n\n    return gradient;\n  }\n\n  /**\n   * @param {string} text\n   * @param {Element} parent\n   * @return {SVGDescElement}\n   */\n  createDesc (text = '', parent = this._svgContainer) {\n    const group = createElement('desc', {\n      useNS: true\n    }, text, SvgRenderer.NS);\n    parent.appendChild( group );\n\n    return group;\n  }\n\n  /**\n   * @param {string} text\n   * @param {Object} attrs\n   * @param {Element} parent\n   * @return {SVGTextElement}\n   */\n  createText (text = '', attrs = {}, parent = this._svgContainer) {\n    const tspan = createElement('tspan', {\n      useNS: true\n    }, text, SvgRenderer.NS);\n\n    const textElement = createElement('text', {\n      useNS: true,\n      attrs\n    }, tspan, SvgRenderer.NS);\n\n    parent.appendChild( textElement );\n\n    return textElement;\n  }\n\n  /**\n   * @param {Element} parent\n   * @return {SVGDefsElement}\n   */\n  createDefs (parent = this._svgContainer) {\n    const element = createElement('defs', {\n      useNS: true\n    }, [], SvgRenderer.NS);\n\n    parent.appendChild( element );\n\n    return element;\n  }\n\n  /**\n   * @param {string} pathText\n   * @param {Object} attrs\n   * @param {Element} parent\n   * @return {SVGPathElement}\n   */\n  createPath (pathText, attrs = {}, parent = this._svgContainer) {\n    Object.assign(attrs, { d: pathText });\n\n    const pathElement = createElement('path', {\n      useNS: true,\n      attrs\n    }, [], SvgRenderer.NS);\n    parent.appendChild( pathElement );\n\n    return pathElement;\n  }\n\n  /**\n   * @param {SVGPathElement} pathElement\n   * @param {string} pathText\n   */\n  updatePath (pathElement, pathText) {\n    setAttributeNS( pathElement, 'd', pathText, null );\n  }\n\n  /**\n   * @param {number} width\n   * @param {number} height\n   * @param {*} attrs\n   * @param {SVGElement | Element} parent\n   * @return {SVGRectElement}\n   */\n  createRect (width, height, attrs = {}, parent = this._svgContainer) {\n    Object.assign(attrs, {\n      width, height\n    });\n\n    const rectElement = createElement('rect', {\n      useNS: true,\n      attrs\n    }, [], SvgRenderer.NS);\n\n    parent.appendChild( rectElement );\n\n    return rectElement;\n  }\n\n  /**\n   * @param {string} selector\n   * @return {Element}\n   */\n  querySelector (selector) {\n    return this._svgContainer.querySelector( selector );\n  }\n\n  /**\n   * @param {string} selector\n   * @return {Array<Element>}\n   */\n  querySelectorAll (selector) {\n    return Array.from( this._svgContainer.querySelectorAll( selector ) );\n  }\n\n  /**\n   * Destroy the renderer\n   */\n  destroy () {\n    this._detachEvents();\n    this._clearParentContainer();\n  }\n\n  /**\n   * @return {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @return {Element}\n   */\n  get parentContainer () {\n    return this._parentContainer;\n  }\n\n  /**\n   * @return {SVGElement}\n   */\n  get svgContainer () {\n    return this._svgContainer;\n  }\n\n  /**\n   * @return {number}\n   */\n  get width () {\n    return this._width;\n  }\n\n  /**\n   * @return {number}\n   */\n  get height () {\n    return this._height;\n  }\n\n  /**\n   * @return {string}\n   */\n  get viewBox () {\n    return [ 0, 0, this._width, this._height ].join( ' ' );\n  }\n\n  /**\n   * @private\n   */\n  _init () {\n    if (this._isInitialized) {\n      return;\n    }\n\n    this._updateDimensions();\n    this._svgContainer = this._createSvgContainer();\n    this._insertSvgContainer();\n\n    this.createDesc( telechartTitle );\n\n    this._attachEvents();\n\n    this._isInitialized = true;\n  }\n\n  /**\n   * @return {Element}\n   * @private\n   */\n  _createSvgContainer () {\n    const parentContainer = this._parentContainer;\n\n    if (!parentContainer) {\n      throw new Error( 'Parent container is not provided' );\n    }\n\n    return createElement('svg', {\n      useNS: false,\n      attrs: {\n        xmlns: SvgRenderer.NS,\n        version: '1.1',\n        width: this._width,\n        height: this._height,\n        viewBox: this.viewBox,\n        class: 'telechart-render'\n      }\n    }, [], SvgRenderer.NS);\n  }\n\n  /**\n   * @private\n   */\n  _insertSvgContainer () {\n    this._clearParentContainer();\n    this._parentContainer.appendChild( this._svgContainer );\n  }\n\n  /**\n   * @private\n   */\n  _updateDimensions () {\n    this._width = clampNumber(\n      getElementWidth( this._parentContainer ),\n      this._minWidth\n    );\n    this._height = this._minHeight;\n\n    if (this._svgContainer) {\n      setAttributes(this._svgContainer, {\n        width: this._width,\n        height: this._height,\n        viewBox: this.viewBox\n      });\n    }\n  }\n\n  /**\n   * @private\n   */\n  _clearParentContainer () {\n    // clears the child content\n    this._parentContainer.innerHTML = '';\n  }\n\n  /**\n   * @private\n   */\n  _onResize (ev) {\n    this._updateDimensions();\n    this.emit( 'resize', ev );\n  }\n\n  /**\n   * @private\n   */\n  _attachEvents () {\n    this._attachResizeListener();\n  }\n\n  /**\n   * @private\n   */\n  _detachEvents () {\n    this._detachResizeListener();\n  }\n\n  /**\n   * @private\n   */\n  _attachResizeListener () {\n    if (this._resizeListener) {\n      this._detachResizeListener();\n    }\n\n    this._resizeListener = this._onResize.bind( this );\n    window.addEventListener( 'resize', this._resizeListener );\n  }\n\n  /**\n   * @private\n   */\n  _detachResizeListener () {\n    if (!this._resizeListener) {\n      return;\n    }\n\n    window.removeEventListener( 'resize', this._resizeListener );\n    this._resizeListener = null;\n  }\n}\n","/**\n * @type {{x: string, line: string}}\n */\nexport const SeriesTypes = {\n  x: 'x',\n  line: 'line'\n};\n","export const PointTypes = {\n  point: 'point',\n  group: 'group',\n};\n\nlet POINT_AUTOINCREMENT = 1;\n\nexport class Point {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = POINT_AUTOINCREMENT++;\n\n  /**\n   * @enum 'point' | 'group'\n   * @type {string}\n   * @private\n   */\n  _type = 'point';\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _x = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _y = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _svgX = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _svgY = 0;\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  constructor (x = 0, y = 0) {\n    this._x = x;\n    this._y = y;\n  }\n\n  /**\n   * @param {string} pointType\n   */\n  setType (pointType = 'point') {\n    this._type = pointType;\n  }\n\n  /**\n   * @param {number} x\n   */\n  setX (x) {\n    this._x = x;\n  }\n\n  /**\n   * @param {number} y\n   */\n  setY (y) {\n    this._y = y;\n  }\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  setXY (x, y) {\n    this.setX( x );\n    this.setY( y );\n  }\n\n  /**\n   * @param {number} x\n   */\n  addX (x) {\n    this._x += x;\n  }\n\n  /**\n   * @param {number} y\n   */\n  addY (y) {\n    this._y += y;\n  }\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  addXY (x, y) {\n    this.addX( x );\n    this.addY( y );\n  }\n\n  /**\n   * @param {number} svgX\n   */\n  setSvgX (svgX) {\n    this._svgX = svgX;\n  }\n\n  /**\n   * @param {number} svgY\n   */\n  setSvgY (svgY) {\n    this._svgY = svgY;\n  }\n\n  /**\n   * @param {number} svgX\n   * @param {number} svgY\n   */\n  setSvgXY (svgX, svgY) {\n    this._svgX = svgX;\n    this._svgY = svgY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get x () {\n    return this._x;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get y () {\n    return this._y;\n  }\n\n  /**\n   * @return {number}\n   */\n  get svgX () {\n    return this._svgX;\n  }\n\n  /**\n   * @return {number}\n   */\n  get svgY () {\n    return this._svgY;\n  }\n\n  /**\n   * @returns {string}\n   */\n  get type () {\n    return this._type;\n  }\n}\n","import { EventEmitter } from '../misc/EventEmitter';\nimport { arrayMinMax, arraysEqual } from '../../utils';\nimport { Point } from '../point/Point';\nimport { PointGroup } from '../point/PointGroup';\n\nlet SERIES_AUTOINCREMENT = 1;\n\nexport class Series extends EventEmitter {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = SERIES_AUTOINCREMENT++;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _parent = null;\n\n  /**\n   * @type {SvgRenderer}\n   * @private\n   */\n  _renderer = null;\n\n  /**\n   * @type {Chart}\n   * @private\n   */\n  _chart = null;\n\n  /**\n   * @type {{xAxis: Array<number>, yAxis: Array<number>, label: string, type: string, name: string, color: string, options: *}}\n   * @private\n   */\n  _settings = {};\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _seriesOptions = {};\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _xAxis = [];\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _yAxis = [];\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _name = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _label = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _color = '#31a8dc';\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _strokeWidth = 1;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _visible = true;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _group = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _pathText = null;\n\n  /**\n   * @type {SVGPathElement}\n   * @private\n   */\n  _pathElement = null;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _pathUpdateNeeded = false;\n\n  /**\n   * @type {Array<Point>}\n   * @private\n   */\n  _points = [];\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMaxY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMinY = 0;\n\n  /**\n   * @param {SvgRenderer} renderer\n   * @param {Element} parent\n   * @param {*} settings\n   */\n  constructor (renderer, parent, settings = {}) {\n    super();\n\n    this._renderer = renderer;\n    this._parent = parent;\n    this._settings = settings;\n    this._parseSettings();\n  }\n\n  /**\n   * Initializes series with options\n   */\n  initialize () {\n    this._createPoints();\n    this._addEvents();\n  }\n\n  /**\n   * @param {number} deltaTime\n   */\n  update (deltaTime) {\n    if (this._pathUpdateNeeded) {\n      this.updateViewportPoints();\n      this.updatePath();\n\n      this._pathUpdateNeeded = false;\n    }\n  }\n\n  /**\n   * Creates path\n   */\n  firstRender () {\n    if (this._pathElement) {\n      return;\n    }\n\n    // update svgX & svgY for each point\n    this.updateViewportPoints();\n\n    // creates and stores wrapper for following path element\n    this._createGroup();\n\n    // creates and stores initial path element\n    this._createPath();\n  }\n\n  /**\n   * @param {Chart | NavigatorChart | BaseChart} chart\n   */\n  setChart (chart) {\n    this._chart = chart;\n  }\n\n  /**\n   * Shows series on the chart\n   */\n  setVisible () {\n    this._visible = true;\n\n    this.emit( 'visibleChange', this._visible );\n  }\n\n  /**\n   * Hides series from the chart\n   */\n  setInvisible () {\n    this._visible = false;\n\n    this.emit( 'visibleChange', this._visible );\n  }\n\n  /**\n   * Toggles series\n   */\n  toggleVisible () {\n    this._visible\n      ? this.setInvisible()\n      : this.setVisible();\n  }\n\n  /**\n   * @private\n   */\n  updateLocalExtremes () {\n    const [ rangeStartIndex, rangeEndIndex ] = this._chart._viewportRangeIndexes;\n\n    const [ minValue, maxValue ] = arrayMinMax(\n      this._yAxis, rangeStartIndex, rangeEndIndex\n    );\n\n    this._localMinY = minValue;\n    this._localMaxY = maxValue;\n  }\n\n  /**\n   * Updates viewport points\n   */\n  updateViewportPoints () {\n    this._chart._useViewportPointsInterval\n      ? this.updateViewportPointsByInterval()\n      : this.updateViewportPointsByArray();\n  }\n\n  /**\n   * Updates points by array of points\n   */\n  updateViewportPointsByArray () {\n    const indexes = this._chart._viewportPointsIndexes;\n\n    for (let i = 0; i < indexes.length; ++i) {\n      const pointIndex = indexes[ i ];\n      const point = this._points[ pointIndex ];\n      point.setSvgXY(\n        this._projectXToSvg( point.x ),\n        this._projectYToSvg( point.y ),\n      );\n    }\n  }\n\n  /**\n   * Updates points by interval\n   */\n  updateViewportPointsByInterval () {\n    const [ startIndex, endIndex ] = this._chart._viewportPointsIndexes;\n    for (let i = startIndex; i <= endIndex; ++i) {\n      const point = this._points[ i ];\n      point.setSvgXY(\n        this._projectXToSvg( point.x ),\n        this._projectYToSvg( point.y ),\n      );\n    }\n  }\n\n  /**\n   * Recompute path text\n   */\n  updatePath () {\n    this._updatePathText();\n    this._renderer.updatePath( this._pathElement, this._pathText );\n  }\n\n  /**\n   * Mark to update path in next animation frame\n   */\n  requestPathUpdate () {\n    this._pathUpdateNeeded = true;\n  }\n\n  /**\n   * @return {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @return {string}\n   */\n  get label () {\n    return this._label;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get isVisible () {\n    return this._visible;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMinY () {\n    return this._localMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMaxY () {\n    return this._localMaxY;\n  }\n\n  /**\n   * @private\n   */\n  _parseSettings () {\n    const {\n      xAxis, yAxis,\n      label, type,\n      color, name,\n      options = {}\n    } = this._settings;\n\n    this._xAxis = xAxis;\n    this._yAxis = yAxis;\n    this._label = label;\n    this._color = color;\n    this._name = name;\n\n    const {\n      strokeWidth = 1\n    } = options;\n\n    this._strokeWidth = strokeWidth;\n\n    this._seriesOptions = options;\n  }\n\n  /**\n   * @private\n   */\n  _createGroup () {\n    this._group = this._renderer.createGroup({\n      class: 'telechart-series-path-group',\n      id: `telechart-path-${this._id}`,\n      x: 0,\n      y: 0\n    }, [], this._parent);\n  }\n\n  /**\n   * @private\n   */\n  _createPath () {\n    this._updatePathText();\n\n    this._pathElement = this._renderer.createPath(this._pathText, {\n      class: 'telechart-series-path',\n      d: this._pathText,\n      fill: 'none',\n      stroke: this._color,\n      strokeWidth: this._strokeWidth,\n      strokeLinejoin: 'round',\n      strokeLinecap: 'round'\n    }, this._group);\n  }\n\n  /**\n   * @private\n   */\n  _updatePathText () {\n    this._pathText = this._chart._useViewportPointsInterval\n      ? this._computePathTextByInterval( this._chart._viewportPointsIndexes )\n      : this._computePathTextByArray( this._chart._viewportPointsIndexes );\n  }\n\n  /**\n   * @private\n   */\n  _createPoints () {\n    const xAxis = this._xAxis;\n    const yAxis = this._yAxis;\n\n    for (let i = 0; i < xAxis.length; ++i) {\n      this._points.push(\n        new Point( xAxis[ i ], yAxis[ i ] )\n      );\n    }\n  }\n\n  /**\n   * @param {number} x\n   * @return {number}\n   * @private\n   */\n  _projectXToSvg (x) {\n    return this._toRelativeX( x ) / this._chart._viewportPixelX;\n  }\n\n  /**\n   * @param {number} y\n   * @return {number}\n   * @private\n   */\n  _projectYToSvg (y) {\n    return this._chart.chartHeight - ( y - this._chart.currentLocalMinY ) / this._chart._viewportPixelY;\n  }\n\n  /**\n   * @private\n   */\n  _addEvents () {\n    this._renderer.on('resize', _ => {\n      this._onRendererResize();\n    });\n  }\n\n  /**\n   * @private\n   */\n  _onRendererResize () {\n    this._pathUpdateNeeded = true;\n  }\n\n  /**\n   * @param {number} x\n   * @return {number}\n   * @private\n   */\n  _toRelativeX (x) {\n    return x - this._chart._viewportRange[ 0 ];\n  }\n\n  /**\n   * @param {Array<number>} indexes\n   * @return {string}\n   * @private\n   */\n  _computePathTextByArray (indexes) {\n    let result = '';\n\n    if (!indexes.length) {\n      return result;\n    }\n\n    result += 'M';\n\n    let point;\n\n    for (let i = 0; i < indexes.length; ++i) {\n      if (i !== 0) {\n        result += 'L';\n      }\n\n      point = this._points[ indexes[ i ] ];\n\n      result += point.svgX + ' ' + point.svgY;\n    }\n\n    return result;\n  }\n\n  /**\n   * @param {Array<number>} interval\n   * @return {string}\n   * @private\n   */\n  _computePathTextByInterval (interval) {\n    let result = '';\n\n    if (!interval.length\n      || interval[ 1 ] - interval[ 0 ] <= 0) {\n      return result;\n    }\n\n    result += 'M';\n\n    const [ startIndex, endIndex ] = interval;\n\n    for (let i = startIndex; i <= endIndex; ++i) {\n      const point = this._points[ i ];\n\n      if (i !== startIndex) {\n        result += 'L';\n      }\n\n      result += point.svgX + ' ' + point.svgY;\n    }\n\n    return result;\n  }\n}\n","import { EventEmitter } from '../misc/EventEmitter';\nimport * as timingFunctions from '../../utils';\n\nlet TWEEN_ID = 1;\n\nexport const TweenState = {\n  NOT_STARTED: 1,\n  RUNNING: 2,\n  PAUSED: 3,\n  COMPLETED: 4,\n  CANCELLED: 5\n};\n\nexport const TweenEvents = {\n  STARTED: 'started',\n  PAUSED: 'paused',\n  COMPLETE: 'complete',\n  CANCELLED: 'cancelled'\n};\n\nconst DEFAULT_PARAMS = {\n  timeScale: 1,\n  duration: 500,\n  timingFunction: 'linear'\n};\n\nexport class Tween extends EventEmitter {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = TWEEN_ID++;\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _params = {};\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _state = TweenState.NOT_STARTED;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _timeScale = DEFAULT_PARAMS.timeScale;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _timeElapsed = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _duration = DEFAULT_PARAMS.duration;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _timingFunctionName = DEFAULT_PARAMS.timingFunction;\n\n  /**\n   * @type {Function}\n   * @private\n   */\n  _timingFunction = () => {};\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _target = null;\n\n  /**\n   * @type {Array<string>}\n   * @private\n   */\n  _properties = [];\n\n  /**\n   * @type {Array}\n   * @private\n   */\n  _deltaValues = [];\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _startValues = [];\n\n  /**\n   * @param {Array<*>} args\n   * @returns {Tween}\n   */\n  static create (...args) {\n    return new Tween( ...args );\n  }\n\n  /**\n   * @param {*} target\n   * @param {string|Array<string>} properties\n   * @param {number|Array<number>} deltaValues\n   * @param {*} params\n   */\n  constructor (target, properties = [], deltaValues = [], params = {}) {\n    super();\n\n    this._target = target;\n    this._properties = [].concat( properties );\n    this._deltaValues = [].concat( deltaValues );\n    this._initParams( params );\n  }\n\n  /**\n   * @param {number} deltaTime\n   */\n  update (deltaTime) {\n    if (!this.isRunning) {\n      return;\n    }\n\n    deltaTime *= this._timeScale;\n    this._timeElapsed += deltaTime;\n\n    this._updateAnimation( deltaTime );\n    this._checkDuration();\n  }\n\n  /**\n   * Runs animation\n   */\n  start () {\n    if (this.isNotStarted) {\n      this._startValues = this._getPropertyValues( this._properties );\n    }\n    this._state = TweenState.RUNNING;\n    this.emit( TweenEvents.STARTED );\n  }\n\n  /**\n   * Stops animation\n   */\n  pause () {\n    this._state = TweenState.PAUSED;\n    this.emit( TweenEvents.PAUSED );\n  }\n\n  /**\n   * Finish & dispose the tween\n   */\n  finish () {\n    this._state = TweenState.COMPLETED;\n    this.emit( TweenEvents.COMPLETE, this._timeElapsed );\n    this._dispose();\n  }\n\n  /**\n   * Cancels current animation\n   */\n  cancel () {\n    this._state = TweenState.CANCELLED;\n    this.emit( TweenEvents.CANCELLED, this._timeElapsed );\n    this._dispose();\n  }\n\n  /**\n   * @param {Array<number>} deltaValues\n   */\n  patchAnimation (deltaValues = []) {\n    for (let i = 0; i < deltaValues.length; ++i) {\n      this._deltaValues[ i ] += deltaValues[ i ];\n    }\n  }\n\n  /**\n   * @param {number} timeScale\n   */\n  setTimeScale (timeScale = 1) {\n    this._timeScale = timeScale;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isNotStarted () {\n    return this._state === TweenState.NOT_STARTED;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isRunning () {\n    return this._state === TweenState.RUNNING;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isPaused () {\n    return this._state === TweenState.PAUSED;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isCompleted () {\n    return this._state === TweenState.COMPLETED;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get timeScale () {\n    return this._timeScale;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get duration () {\n    return this._duration;\n  }\n\n  /**\n   * @returns {string}\n   */\n  get timingFunctionName () {\n    return this._timingFunctionName;\n  }\n\n  /**\n   * @returns {Function}\n   */\n  get timingFunction () {\n    return this._timingFunction;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get timeRemaining () {\n    return Math.max( 0, Math.min( this._duration, this._duration - this._timeElapsed ) );\n  }\n\n  /**\n   * @returns {number}\n   */\n  get progress () {\n    return Math.min( 1, Math.max( 0, this._timeElapsed / this._duration ) );\n  }\n\n  /**\n   * @param {*} params\n   * @private\n   */\n  _initParams (params) {\n    let {\n      timeScale,\n      duration,\n      timingFunction\n    } = this._params = Object.assign( {}, DEFAULT_PARAMS, params );\n\n    this._timeScale = timeScale;\n    this._duration = duration;\n    this._timingFunctionName = timingFunction;\n    this._timingFunction = this._getTimingFunction( timingFunction );\n  }\n\n  /**\n   * @param {number} deltaTime\n   * @private\n   */\n  _updateAnimation (deltaTime) {\n    const progress = this.progress;\n    const timingProgress = this._timingFunction( progress );\n\n    for (let i = 0, length = this._properties.length; i < length; ++i) {\n      const property = this._properties[ i ];\n      this._target[ property ] = this._startValues[ i ] + this._deltaValues[ i ] * timingProgress;\n    }\n  }\n\n  /**\n   * @private\n   */\n  _checkDuration () {\n    if (this._timeElapsed >= this._duration) {\n      this.finish();\n    }\n  }\n\n  /**\n   * @param {Array<string>} properties\n   * @returns {Array<number>}\n   * @private\n   */\n  _getPropertyValues (properties = []) {\n    let values = [];\n    for (let i = 0, length = properties.length; i < length; ++i) {\n      values[ i ] = this._getPropertyValue( properties[i] );\n    }\n    return values;\n  }\n\n  /**\n   * @param {string} property\n   * @returns {number}\n   * @private\n   */\n  _getPropertyValue (property) {\n    return this._target[ property ] || 0;\n  }\n\n  /**\n   * @param {string} functionName\n   * @returns {Function}\n   * @private\n   */\n  _getTimingFunction (functionName) {\n    const defaultFunctionName = DEFAULT_PARAMS.timingFunction;\n    return timingFunctions[ functionName ] || timingFunctions[ defaultFunctionName ];\n  }\n\n  /**\n   * Disposes the object\n   *\n   * @private\n   */\n  _dispose () {\n    this._params = null;\n    this._timingFunction = null;\n    this._deltaValues = null;\n    this._startValues = null;\n    this._properties = null;\n    this._target = null;\n\n    this.removeAllListeners();\n  }\n}\n","/**\n * @type {{navigatorChart: string, chart: string}}\n */\nexport const ChartTypes = {\n  chart: 'chart',\n  navigatorChart: 'navigatorChart'\n};\n","export const ChartEvents = {\n  SERIES_VISIBLE_CHANGE: 'seriesVisibleChange'\n};\n","import { EventEmitter } from '../misc/EventEmitter';\nimport { SeriesTypes } from '../series/SeriesTypes';\nimport { Series } from '../series/Series';\nimport { arraysEqual, binarySearchIndexes, clampNumber, ensureNumber, isDate } from '../../utils';\nimport { Tween, TweenEvents } from '../animation/Tween';\nimport { ChartTypes } from './ChartTypes';\nimport { ChartEvents } from './ChartEvents';\n\nlet CHART_ID = 1;\n\nexport class BaseChart extends EventEmitter {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = CHART_ID++;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _type = '';\n\n  /**\n   * @type {SvgRenderer}\n   * @private\n   */\n  _renderer = null;\n\n  /**\n   * @type {Object}\n   * @private\n   */\n  _options = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartHeight = 250;\n\n  /**\n   * @type {number}\n   * @private\n   * @default 2\n   */\n  _groupingPixels = 2;\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _xAxis = [];\n\n  /**\n   * @type {Array<Series>}\n   * @private\n   */\n  _series = [];\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _seriesGroup = null;\n\n  /**\n   * @type {SVGDefsElement}\n   * @private\n   */\n  _defs = null;\n\n  /**\n   * @type {SVGMaskElement}\n   * @private\n   */\n  _chartMask = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _chartMaskId = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartMaskPadding = 0;\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _viewportRange = [];\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _viewportRangeIndexes = [];\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _viewportPointsIndexes = [ 0, 0 ];\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _useViewportPointsInterval = false;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportDistance = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportPixelX = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportPixelY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportLeftPaddingScale = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportRightPaddingScale = 0;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _viewportRangeUpdateNeeded = false;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _viewportPointsGroupingNeeded = false;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMinY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMaxY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _currentLocalMinY = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _currentLocalMaxY = null;\n\n  /**\n   * @type {Tween}\n   * @private\n   */\n  _minMaxYAnimation = null;\n\n  /**\n   * @param {SvgRenderer} renderer\n   * @param {Object} options\n   */\n  constructor (renderer, options = {}) {\n    super();\n\n    this._renderer = renderer;\n    this._options = options;\n  }\n\n  initialize () {\n    this.resolveDefs();\n    this.createChartMask();\n\n    this.createSeriesGroup();\n    this.createSeries();\n\n    this.addEvents();\n\n    this.setInitialRange();\n    this.approximateViewportPoints();\n  }\n\n  /**\n   * @param {number} deltaTime\n   */\n  update (deltaTime) {\n    let extremesUpdated = false;\n\n    if (this._minMaxYAnimation && this._minMaxYAnimation.isRunning) {\n      this._minMaxYAnimation.update( deltaTime );\n\n      extremesUpdated = true;\n    }\n\n    if (this._viewportRangeUpdateNeeded) {\n      this.updateViewportRange();\n\n      this._viewportRangeUpdateNeeded = false;\n    }\n\n    if (this._viewportPointsGroupingNeeded) {\n      this.approximateViewportPoints();\n\n      this._viewportPointsGroupingNeeded = false;\n    }\n\n    if (extremesUpdated) {\n      this.updateViewportPixel();\n    }\n\n    this.eachSeries(line => {\n      if (extremesUpdated) {\n        line.requestPathUpdate();\n      }\n\n      line.update( deltaTime );\n    });\n  }\n\n  /**\n   * Draws initial chart\n   */\n  firstRender () {\n    this.eachSeries(line => line.firstRender());\n  }\n\n  /**\n   * Creates SVG group for storing series paths\n   * @abstract\n   */\n  createSeriesGroup () {\n  }\n\n  /**\n   * Creates array of series\n   */\n  createSeries () {\n    const {\n      series: data,\n      seriesOptions: options = {}\n    } = this._options || {};\n\n    const groupingOptions = options.grouping;\n    if (groupingOptions) {\n      if (groupingOptions.pixels) {\n        this._groupingPixels = ensureNumber( groupingOptions.pixels );\n      }\n    }\n\n    const {\n      columns,\n      types,\n      colors,\n      names\n    } = data;\n\n    const xAxisIndex = columns.findIndex(column => {\n      return types[ column[ 0 ] ] === SeriesTypes.x;\n    });\n    const xAxis = this._xAxis = columns[ xAxisIndex ].slice( 1 );\n\n    let yAxes = columns.slice(); // copy an array to change later\n    yAxes.splice( xAxisIndex, 1 ); // remove x axis from the array\n\n    for (let i = 0; i < yAxes.length; ++i) {\n      const yAxis = yAxes[ i ].slice();\n      const label = yAxis.shift();\n      const type = types[ label ];\n      const color = colors[ label ];\n      const name = names[ label ];\n\n      // prepare series settings\n      const settings = {\n        xAxis, yAxis, label, type,\n        color, name, options: this.extendSeriesOptions( options )\n      };\n\n      // create instance\n      const series = new Series( this._renderer, this._seriesGroup, settings );\n      series.initialize();\n\n      // provide context for each series\n      series.setChart( this );\n\n      this._series.push( series );\n    }\n  }\n\n  /**\n   * Creates or resolves defs element in SVG container\n   */\n  resolveDefs () {\n    if (this._defs) {\n      return;\n    }\n    const defs = this._renderer.svgContainer.querySelector( 'defs' );\n    this._defs = !defs\n      ? this._renderer.createDefs()\n      : defs;\n  }\n\n  /**\n   * Creates clip mask for the chart and top-bottom shadow mask\n   */\n  createChartMask () {\n    const padding = this._chartMaskPadding;\n\n    this._chartMaskId = `telechart-mask-${this.id}`;\n\n    this._chartMask = this.renderer.createMask({\n      id: this._chartMaskId\n    }, [], this.defs);\n\n    const gradientId = `telechart-mask-gradient-${this.id}`;\n    const sharpGradient = this._type === ChartTypes.navigatorChart;\n\n    // create gradient for rectangle\n    this.renderer.createLinearGradient({\n      id: gradientId,\n      gradientTransform: 'rotate(90)'\n    }, [\n      { offset: '0', stopColor: 'white', stopOpacity: 0 },\n      { offset: sharpGradient ? '0.1%' : '5%', stopColor: 'white', stopOpacity: 1 },\n      { offset: '99.9%', stopColor: 'white', stopOpacity: 1 },\n      { offset: '100%', stopColor: 'white', stopOpacity: 0 },\n    ], this.defs);\n\n    // create rectangle with gradient and append to mask\n    this.renderer.createRect(this.chartWidth, this.chartHeight + padding + 1, {\n      fill: `url(#${gradientId})`,\n      x: 0,\n      y: -padding,\n    }, this._chartMask);\n  }\n\n  /**\n   * Sets initial viewport range for the chart\n   */\n  setInitialRange () {\n    this.setViewportRange();\n  }\n\n  /**\n   * @param {number|Date} minX\n   * @param {number|Date} maxX\n   * @param {boolean} skipExtremes\n   * @param {boolean} preservePadding\n   */\n  setViewportRange (minX = -Infinity, maxX = Infinity, { skipExtremes = false, preservePadding = false } = {}) {\n    // recompute X boundaries\n    this._clampViewportRange( minX, maxX, preservePadding );\n\n    // remember last indexes\n    const oldRangeIndexes = this._viewportRangeIndexes;\n\n    // recompute indexes range\n    this._updateViewportIndexes();\n\n    let localExtremesUpdateRequested = false;\n\n    if (!arraysEqual( this._viewportRangeIndexes, oldRangeIndexes )) {\n      // do not recompute groups while first render\n      if (oldRangeIndexes.length > 0) {\n        // recompute approximation in next animation update\n        this._viewportPointsGroupingNeeded = true;\n      }\n\n      localExtremesUpdateRequested = true;\n    }\n\n    const updateExtremes = !skipExtremes && localExtremesUpdateRequested;\n\n    this.eachSeries(line => {\n      // update local extremes only if indexes range changed\n      if (updateExtremes) {\n        // update minY and maxY local values for each line\n        line.updateLocalExtremes();\n      }\n\n      // recompute and repaint path in next animation update\n      line.requestPathUpdate();\n    });\n\n    if (updateExtremes) {\n      // update local extremes on chart level\n      this.updateLocalExtremes();\n    }\n\n    // recompute pixel value (e.g. for animation)\n    this.updateViewportPixel();\n  }\n\n  /**\n   * Recompute key variables for viewport range\n   */\n  updateViewportRange () {\n    // recompute X boundaries\n    this.setViewportRange(\n      this._viewportRange[ 0 ],\n      this._viewportRange[ 1 ], {\n        skipExtremes: true,\n        preservePadding: true\n      }\n    );\n  }\n\n  /**\n   * Approximate points for better performance\n   */\n  approximateViewportPoints () {\n    let [ startIndex, endIndex ] = this._viewportRangeIndexes;\n\n    startIndex = Math.max( 0, startIndex - 1 );\n    endIndex = Math.min( this._xAxis.length - 1, endIndex + 1 );\n\n    // if we have no enough points\n    // then we don't need to approximate\n    if (endIndex - startIndex < 400) {\n      // just save indexes of points for increase performance\n      // [ startIndex, endIndex ]\n      this._viewportPointsIndexes[ 0 ] = startIndex;\n      this._viewportPointsIndexes[ 1 ] = endIndex;\n      this._useViewportPointsInterval = true;\n\n      // all work done here\n      return;\n    }\n\n    const boostLimit = 500;\n    const boostScale = 1 + this._xAxis.length > boostLimit\n      ? Math.max(0, ( endIndex - startIndex ) / this._xAxis.length ) * 2\n      : 0;\n\n    let groupingDistanceLimitX = boostScale * this._groupingPixels * this._viewportPixelX;\n\n    let viewportIndexes = [];\n    let groupStartIndex = startIndex;\n\n    for (let i = startIndex + 1; i <= endIndex; ++i) {\n      const pointX = this._xAxis[ i ];\n\n      const groupStartDifferenceX = pointX - this._xAxis[ groupStartIndex ];\n\n      if (groupStartDifferenceX >= groupingDistanceLimitX || i === endIndex) {\n        if (groupStartIndex !== i - 1) {\n          // we have 2 or more points to group\n          // [ startIndex, lastIndex ] all indexes inclusive\n          const endIndex = i - 1;\n          const middleIndex = ( groupStartIndex + endIndex ) >> 1;\n          viewportIndexes.push( middleIndex );\n        } else {\n          if (startIndex === i - 1) {\n            // add first point\n            viewportIndexes.push( startIndex );\n          }\n\n          viewportIndexes.push( i );\n        }\n\n        groupStartIndex = i;\n      }\n    }\n\n    this._viewportPointsIndexes = viewportIndexes;\n    this._useViewportPointsInterval = false;\n  }\n\n  /**\n   * Find new local min and max extremes among visible series\n   */\n  updateLocalExtremes () {\n    let localMinY = 0;\n    let localMaxY = 0;\n\n    this.eachSeries(line => {\n      if (!line.isVisible) {\n        // find among visible series\n        return;\n      }\n\n      if (localMinY > line.localMinY) {\n        localMinY = line.localMinY;\n      }\n      if (localMaxY < line.localMaxY) {\n        localMaxY = line.localMaxY;\n      }\n    });\n\n    let oldLocalMinY = this._localMinY;\n    let oldLocalMaxY = this._localMaxY;\n\n    this._localMinY = localMinY;\n    this._localMaxY = localMaxY;\n\n    let updateAnimation = false;\n\n    if (typeof this._currentLocalMinY !== 'number') {\n      // set initial local min y\n      this._currentLocalMinY = this._localMinY;\n    } else if (this._localMinY !== oldLocalMinY) {\n      updateAnimation = true;\n    }\n\n    if (typeof this._currentLocalMaxY !== 'number') {\n      // set initial local max y\n      this._currentLocalMaxY = this._localMaxY;\n    } else if (this._localMaxY !== oldLocalMaxY) {\n      updateAnimation = true;\n    }\n\n    if (updateAnimation) {\n      if (this._minMaxYAnimation) {\n        this._patchMinMaxYAnimation();\n      } else {\n        this._createMinMaxYAnimation();\n      }\n    }\n  }\n\n  /**\n   * @param {number} minX\n   * @param {number} maxX\n   * @return {number}\n   */\n  computeViewportPixelX (minX = this._viewportRange[ 0 ], maxX = this._viewportRange[ 1 ]) {\n    return ( maxX - minX ) / this.chartWidth;\n  }\n\n  /**\n   * Updates pixel value for each axis\n   */\n  updateViewportPixel () {\n    this._viewportPixelX = this._viewportDistance / this.chartWidth;\n    this._viewportPixelY = this.currentLocalExtremeDifference / this.chartHeight;\n  }\n\n  /**\n   * @param {number} localMinX\n   * @param {number} localMaxX\n   * @return {number}\n   */\n  computeViewportPadding (localMinX, localMaxX) {\n    return this.computeViewportPixelX( localMinX, localMaxX ) * 12;\n  }\n\n  /**\n   * Initialize chart events\n   */\n  addEvents () {\n    this._renderer.on('resize', _ => {\n      this.onRendererResize();\n    });\n\n    this.eachSeries(line => {\n      line.on('visibleChange', _ => {\n        this.onSeriesVisibleChange( line );\n      });\n    });\n  }\n\n  /**\n   * Resize event handler\n   */\n  onRendererResize () {\n    // making request for future animation update\n    this._viewportRangeUpdateNeeded = true;\n    this._viewportPointsGroupingNeeded = true;\n  }\n\n  /**\n   * @param {Series} line\n   */\n  onSeriesVisibleChange (line) {\n    // find new extremes and scale\n    this.updateLocalExtremes();\n    \n    this.emit( ChartEvents.SERIES_VISIBLE_CHANGE, line );\n  }\n\n  /**\n   * @param {string} label\n   * @return {Series}\n   */\n  getSeriesByLabel (label) {\n    return this.findSeries(line => {\n      return line.label === label;\n    });\n  }\n\n  /**\n   * @param {string} label\n   */\n  setSeriesVisible (label) {\n    const series = this.getSeriesByLabel( label );\n    if (series) {\n      series.setVisible();\n    }\n  }\n\n  /**\n   * @param {string} label\n   */\n  setSeriesInvisible (label) {\n    const series = this.getSeriesByLabel( label );\n    if (series) {\n      series.setInvisible();\n    }\n  }\n\n  /**\n   * @param {string} label\n   */\n  toggleSeriesInvisible (label) {\n    const series = this.getSeriesByLabel( label );\n    if (series) {\n      series.toggleVisible();\n    }\n  }\n\n  /**\n   * @param {Function} predicate\n   * @return {Series}\n   */\n  findSeries (predicate) {\n    for (let i = 0; i < this._series.length; ++i) {\n      if (predicate( this._series[ i ] )) {\n        return this._series[ i ];\n      }\n    }\n  }\n\n  /**\n   * @param {Function} fn\n   */\n  eachSeries (fn = () => {}) {\n    for (let i = 0; i < this._series.length; ++i) {\n      fn( this._series[ i ] );\n    }\n  }\n\n  /**\n   * @param {Object} options\n   * @return {*}\n   */\n  extendSeriesOptions (options) {\n    return options;\n  }\n\n  /**\n   * @param {string} type\n   */\n  setChartType (type) {\n    this._type = type;\n  }\n\n  /**\n   * @return {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @return {string}\n   */\n  get chartType () {\n    return this._type;\n  }\n\n  /**\n   * @return {SvgRenderer}\n   */\n  get renderer () {\n    return this._renderer;\n  }\n\n  /**\n   * @return {Array<number>}\n   */\n  get xAxis () {\n    return this._xAxis;\n  }\n\n  /**\n   * @return {Array<number>}\n   */\n  get viewportRange () {\n    return this._viewportRange;\n  }\n\n  /**\n   * @return {Array<number>}\n   */\n  get viewportRangeIndexes () {\n    return this._viewportRangeIndexes;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localExtremeDifference () {\n    return this._localMaxY - this._localMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get currentLocalExtremeDifference () {\n    return this._currentLocalMaxY - this._currentLocalMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMinY () {\n    return this._localMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMaxY () {\n    return this._localMaxY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get currentLocalMinY () {\n    return this._currentLocalMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get currentLocalMaxY () {\n    return this._currentLocalMaxY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get chartWidth () {\n    return this._renderer.width;\n  }\n\n  /**\n   * @return {number}\n   */\n  get chartHeight () {\n    return this._chartHeight;\n  }\n\n  /**\n   * @return {string}\n   */\n  get chartMaskId () {\n    return this._chartMaskId;\n  }\n\n  /**\n   * @return {Tween}\n   */\n  get minMaxYAnimation () {\n    return this._minMaxYAnimation;\n  }\n\n  /**\n   * @return {SVGDefsElement}\n   */\n  get defs () {\n    return this._defs;\n  }\n\n  /**\n   * @private\n   */\n  _updateViewportIndexes () {\n    const [ rangeStart, rangeEnd ] = this._viewportRange;\n    const [ minLowerIndex, minUpperIndex ] = binarySearchIndexes( this._xAxis, rangeStart );\n    const [ maxLowerIndex, maxUpperIndex ] = binarySearchIndexes( this._xAxis, rangeEnd );\n\n    this._viewportRangeIndexes = [ minUpperIndex, maxLowerIndex ];\n  }\n\n  /**\n   * @param {number | Date} minX\n   * @param {number | Date} maxX\n   * @param {boolean} preservePadding\n   * @private\n   */\n  _clampViewportRange (minX, maxX, preservePadding = false) {\n    const xAxis = this._xAxis;\n\n    const globalMinX = xAxis[ 0 ];\n    const globalMaxX = xAxis[ xAxis.length - 1 ];\n\n    if (isDate( minX )) {\n      minX = minX.getTime();\n    }\n    if (isDate( maxX )) {\n      maxX = maxX.getTime();\n    }\n\n    let newMinX = Math.max( minX, globalMinX );\n    let newMaxX = Math.min( maxX, globalMaxX );\n\n    const actualPaddingX = this.computeViewportPadding( newMinX, newMaxX );\n\n    const receivedLeftPaddingX = clampNumber( newMinX - minX, 0, actualPaddingX );\n    const receivedRightPaddingX = clampNumber( maxX - newMaxX, 0, actualPaddingX );\n\n    if (!preservePadding) {\n      this._viewportLeftPaddingScale = receivedLeftPaddingX / actualPaddingX;\n    }\n    if (this._viewportLeftPaddingScale > 0) {\n      newMinX -= actualPaddingX * this._viewportLeftPaddingScale;\n    }\n\n    if (!preservePadding) {\n      this._viewportRightPaddingScale = receivedRightPaddingX / actualPaddingX;\n    }\n    if (this._viewportRightPaddingScale > 0) {\n      newMaxX += actualPaddingX * this._viewportRightPaddingScale;\n    }\n\n    this._viewportRange = [ newMinX, newMaxX ];\n    this._viewportDistance = newMaxX - newMinX;\n  }\n\n  /**\n   * @private\n   */\n  _createMinMaxYAnimation () {\n    if (this._minMaxYAnimation) {\n      this._minMaxYAnimation.cancel();\n    }\n\n    this._minMaxYAnimation = new Tween(this, [\n      '_currentLocalMinY',\n      '_currentLocalMaxY'\n    ], [\n      this._localMinY - this._currentLocalMinY,\n      this._localMaxY - this._currentLocalMaxY\n    ], {\n      duration: 300,\n      timingFunction: 'easeInOutQuad'\n    });\n\n    this._minMaxYAnimation.start();\n\n    this._minMaxYAnimation.on(TweenEvents.COMPLETE, _ => {\n      // console.log( this._minMaxYAnimation.id, 'complete' );\n      this._minMaxYAnimation = null;\n    });\n\n    this._minMaxYAnimation.on(TweenEvents.CANCELLED, _ => {\n      // console.log( this._minMaxYAnimation.id, 'cancelled' );\n      this._minMaxYAnimation = null;\n    });\n  }\n\n  /**\n   * @private\n   */\n  _patchMinMaxYAnimation () {\n    // console.log(this._minMaxYAnimation.id, 'local deltas (min, max):', this._minMaxYAnimation._deltaValues);\n\n    this._createMinMaxYAnimation();\n\n    /*this._minMaxYAnimation.patchAnimation([\n      this._localMinY - this._currentLocalMinY,\n      this._localMaxY - this._currentLocalMaxY\n    ]);*/\n  }\n}\n","import { BaseChart } from './BaseChart';\nimport { cssText } from '../../utils';\nimport { ChartTypes } from './ChartTypes';\nimport { ChartEvents } from './ChartEvents';\n\nexport class Chart extends BaseChart {\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _type = ChartTypes.chart;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartHeight = 250;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartMaskPadding = 20;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _seriesGroup = null;\n\n  /**\n   * Creates SVG group for storing series paths\n   */\n  createSeriesGroup () {\n    this._seriesGroup = this.renderer.createGroup({\n      class: 'telechart-series-group',\n      transform: `translate(0, 70) scale(1 1)`,\n      mask: `url(#${this.chartMaskId})`\n    });\n\n    this.renderer.createRect(this.renderer.width, '1px', {\n      fill: '#ccc',\n      y: 1,\n      style: cssText({\n        shapeRendering: 'crispEdges'\n      })\n    }, this._seriesGroup);\n\n    this.renderer.createRect(this.renderer.width, '1px', {\n      fill: '#ccc',\n      y: this.chartHeight,\n      style: cssText({\n        shapeRendering: 'crispEdges'\n      })\n    }, this._seriesGroup);\n  }\n\n  /**\n   * Sets initial viewport range for the chart\n   */\n  setInitialRange () {\n    const globalMinX = this.xAxis[ 0 ];\n    const globalMaxX = this.xAxis[ this.xAxis.length - 1 ];\n    const initialViewport = Math.floor( ( globalMaxX - globalMinX ) * .15 );\n    const viewportPadding = this.computeViewportPadding(\n      globalMaxX - initialViewport,\n      globalMaxX\n    );\n\n    // set initial range\n    this.setViewportRange(\n      globalMaxX - initialViewport - viewportPadding,\n      globalMaxX + viewportPadding\n    );\n  }\n\n  /**\n   * @param {*} options\n   * @return {*}\n   */\n  extendSeriesOptions (options) {\n    return Object.assign({}, options, {\n      strokeWidth: 2\n    });\n  }\n\n  /**\n   * @return {number}\n   */\n  get chartHeight () {\n    return this._chartHeight;\n  }\n}\n","export class Clock {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _lastUpdateMs = 0;\n\n  constructor () {\n    this._lastUpdateMs = performance.now();\n  }\n\n  /**\n   * @return {number}\n   */\n  getDelta () {\n    const now = performance.now();\n    const delta = now - this._lastUpdateMs;\n    this._lastUpdateMs = now;\n\n    return delta;\n  }\n}\n","import { BaseChart } from './BaseChart';\nimport { cssText } from '../../utils';\nimport { ChartTypes } from './ChartTypes';\n\nexport class NavigatorChart extends BaseChart {\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _type = ChartTypes.navigatorChart;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartHeight = 45;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartMaskPadding = 1;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _seriesGroup = null;\n\n  /**\n   * Creates SVG group for storing series paths\n   */\n  createSeriesGroup () {\n    this._seriesGroup = this.renderer.createGroup({\n      class: 'telechart-navigator-series-group',\n      transform: `translate(0, 358) scale(1 1)`,\n      mask: `url(#${this.chartMaskId})`\n    });\n\n    this.renderer.createRect(this.renderer.width, '1px', {\n      fill: '#ccc',\n      y: 0,\n      style: cssText({\n        shapeRendering: 'crispEdges'\n      })\n    }, this._seriesGroup);\n\n    this.renderer.createRect(this.renderer.width, '1px', {\n      fill: '#ccc',\n      y: this.chartHeight,\n      style: cssText({\n        shapeRendering: 'crispEdges'\n      })\n    }, this._seriesGroup);\n  }\n\n  /**\n   * @return {number}\n   */\n  get chartHeight () {\n    return this._chartHeight;\n  }\n}\n","import './style/telechart.scss';\n\nimport { AnimationSource, AnimationSourceEvents } from './core/animation/AnimationSource';\nimport { SvgRenderer } from \"./core/SvgRenderer\";\nimport { Chart } from './core/chart/Chart';\nimport { Clock } from './core/misc/Clock';\n\nimport {\n  addClass,\n  interpolateThemeClass,\n  removeClass,\n  resolveElement,\n  ChartThemes,\n  setAttributesNS,\n  cssText, createElement, ROOT_CLASS_NAME\n} from \"./utils\";\nimport { NavigatorChart } from './core/chart/NavigatorChart';\nimport { ChartEvents } from './core/chart/ChartEvents';\n\nexport class Telechart {\n\n  /**\n   * @type {Object}\n   * @private\n   */\n  _options = null;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _rootElement = null;\n\n  /**\n   * @type {SvgRenderer}\n   * @private\n   */\n  _renderer = null;\n\n  /**\n   * @type {Chart}\n   * @private\n   */\n  _chart = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _themeName = ChartThemes.default;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _title = '';\n\n  /**\n   * @type {SVGTextElement}\n   * @private\n   */\n  _titleElement = null;\n\n  /**\n   * @type {Clock}\n   * @private\n   */\n  _clock = null;\n\n  /**\n   * @type {AnimationSource}\n   * @private\n   */\n  _animationSource = null;\n\n  /**\n   * @static\n   * @param {Element | string} mountTo Element or selector\n   * @param {Object} options\n   */\n  static create (mountTo, options = {}) {\n    const chart = new Telechart();\n\n    chart.setOptions( options );\n    chart.mount( resolveElement( mountTo ) );\n    chart.initialize();\n\n    chart.firstRender();\n\n    return chart;\n  }\n\n  /**\n   * @param {Object} options\n   */\n  setOptions (options = {}) {\n    this._options = options;\n  }\n\n  /**\n   * @param {Element} parent\n   */\n  mount (parent) {\n    const root = createElement('div', {\n      attrs: {\n        class: ROOT_CLASS_NAME\n      }\n    });\n\n    parent.appendChild( root );\n\n    this._rootElement = root;\n    this._renderer = new SvgRenderer( root );\n  }\n\n  /**\n   * Initialize the chart\n   */\n  initialize () {\n    this.setTheme( this._options.theme || ChartThemes.default );\n    this.setTitle( this._options.title );\n\n    // create components\n    this._createChart();\n    this._createNavigatorChart();\n    this._addEventsListeners();\n\n    // create animation loop\n    this._clock = new Clock();\n    this._animationSource = new AnimationSource( 60, 1 ); // fps, timeScale\n    this._animationSource.on(AnimationSourceEvents.UPDATE, deltaTime => {\n      this.update( deltaTime );\n    });\n\n    requestAnimationFrame(_ => {\n      this.animate();\n    });\n  }\n\n  /**\n   * Draws first frame\n   */\n  firstRender () {\n    this._chart.firstRender();\n    this._navigatorChart.firstRender();\n  }\n\n  /**\n   * Animation loop\n   */\n  animate () {\n    const deltaTime = this._clock.getDelta();\n    this._animationSource.update( deltaTime );\n\n    requestAnimationFrame(_ => this.animate());\n  }\n\n  /**\n   * Update loop\n   */\n  update (deltaTime) {\n    this._chart.update( deltaTime );\n    this._navigatorChart.update( deltaTime );\n  }\n\n  /**\n   * @param {string} themeName\n   */\n  setTheme (themeName) {\n    const rootElement = this._rootElement;\n\n    removeClass(\n      rootElement,\n      Object.keys( ChartThemes )\n        .map( interpolateThemeClass )\n    );\n\n    addClass(\n      rootElement,\n      interpolateThemeClass( themeName )\n    );\n\n    this._themeName = themeName;\n  }\n\n  /**\n   * @param {string} title\n   */\n  setTitle (title) {\n    this._title = title;\n\n    !this._titleElement\n      ? this._createTitle( title )\n      : this._updateTitle( title );\n  }\n\n  /**\n   * Destroys the chart instance\n   */\n  destroy () {\n    this._renderer && this._renderer.destroy();\n    this._rootElement = null;\n    this._renderer = null;\n  }\n\n  /**\n   * @return {string}\n   */\n  get themeName () {\n    return this._themeName;\n  }\n\n  /**\n   * @param {string} title\n   * @private\n   */\n  _createTitle (title = this._options.title) {\n    if (!title) {\n      return;\n    }\n\n    const text = this._renderer.createText(title, {\n      class: 'telechart-title',\n      x: 16,\n      y: 36,\n      textAnchor: 'start',\n      style: cssText({\n        opacity: 0\n      })\n    });\n\n    setTimeout(_ => {\n      setAttributesNS(text, {\n        style: cssText({\n          opacity: 1\n        })\n      });\n    }, 200);\n\n    this._titleElement = text;\n  }\n\n  /**\n   * @param {string} title\n   * @private\n   */\n  _updateTitle (title) {\n    if (!this._titleElement) {\n      return;\n    }\n    const tspan = this._titleElement.querySelector( 'tspan' );\n    tspan.textContent = title;\n  }\n\n  /**\n   * @private\n   */\n  _createChart () {\n    this._chart = new Chart(\n      this._renderer,\n      this._options\n    );\n\n    this._chart.initialize();\n  }\n\n  /**\n   * @private\n   */\n  _createNavigatorChart () {\n    this._navigatorChart = new NavigatorChart(\n      this._renderer,\n      this._options\n    );\n\n    this._navigatorChart.initialize();\n  }\n\n  /**\n   * @private\n   */\n  _addEventsListeners () {\n    this._chart.on(ChartEvents.SERIES_VISIBLE_CHANGE, line => {\n      this._navigatorChart.toggleSeriesInvisible( line.label );\n    });\n  }\n}\n","export * from './Telechart';\n","import sourceData from '../samples/chart_data.json';\nimport { Telechart } from '../src';\nimport {\n  addClass, animationTimeout,\n  ChartThemes, ChartThemesColors, clampNumber,\n  createElement,\n  cssText, isBrowserSafari,\n  parseQueryString,\n  removeClass,\n  setAttributes, TimeRanges\n} from '../src/utils';\n\nconst query = parseQueryString( location.search );\nlet currentThemeName = query && query.theme || 'default';\n\nconst largeAxisX = [ 'x' ];\nconst largeAxisY1 = [ 'y0' ];\nconst largeAxisY2 = [ 'y1' ];\nconst size = 1e3;\nconst initialDate = Date.now() - TimeRanges.year * 5;\nconst endDate = Date.now();\nconst dateTick = (endDate - initialDate) / size;\n\nfor (let i = 0; i < size; ++i) {\n  largeAxisX.push( Math.floor( initialDate + dateTick * i + dateTick * (Math.random() * .5 - .5 / 2) ) );\n  largeAxisY1.push( Math.sin( i * .004 ) * 1000 + Math.random() * 10 - 10 / 2 );\n  largeAxisY2.push( Math.cos( i * .004 ) * 600 + Math.random() * 20 - 20 / 2 );\n}\n\nsourceData.push({\n  columns: [\n    largeAxisX,\n    largeAxisY1,\n    largeAxisY2\n  ],\n  names: Object.assign( {}, sourceData[ 0 ].names ),\n  types: Object.assign( {}, sourceData[ 0 ].types ),\n  colors: Object.assign( {}, sourceData[ 0 ].colors )\n});\n\nconst charts = window.charts = [];\n\nconst from = 0;\nconst count = 6;\n\n// initialize charts using requestAnimationFrame\n// for better user experience\nsourceData\n  .slice(from, from + count)\n  .map((chartData, index) => {\n    return animationTimeout( 0 * 20 * index, [ chartData, index ] );\n  })\n  .map(animation => {\n    animation.then(([ chartData, index ]) => createChart( chartData, index )).catch( console.error );\n    return animation;\n  });\n\nupdatePageTheme();\n\nlet buttonContent = `\n  <span class=\"text-switcher\">\n    <span>Switch to </span>\n    <span class=\"text-switcher__switcher\">\n      <span>Night</span>\n      <span>Day</span>\n    </span>\n    <span> Mode</span>\n  </span>\n`;\n\nconst themeButton = createElement('button', {\n  attrs: {\n    class: 'demo-theme-button',\n    style: cssText({\n      opacity: 0\n    })\n  }\n}, buttonContent);\n\nwindow.addEventListener('load', _ => {\n  document.body.appendChild( themeButton );\n\n  themeButton.addEventListener('click', ev => {\n    updateChartsTheme();\n    updatePageTheme();\n  });\n\n  setTimeout(_ => {\n    setAttributes(themeButton, {\n      style: cssText({\n        opacity: 1\n      })\n    });\n  }, 100);\n});\n\nfunction updateChartsTheme () {\n  const isDefaultTheme = currentThemeName === ChartThemes.default;\n  const newTheme = isDefaultTheme\n    ? ChartThemes.dark\n    : ChartThemes.default;\n  currentThemeName = newTheme;\n\n  charts.forEach(chart => {\n    chart.setTheme( newTheme );\n  });\n}\n\nfunction updatePageTheme () {\n  removeClass( document.body, [ 'default-theme', 'dark-theme' ] );\n  addClass( document.body, `${currentThemeName}-theme` );\n\n  if (isBrowserSafari()) {\n    addClass( document.body, 'browser-safari' );\n  }\n\n  setTimeout(_ => {\n    updatePageThemeColor();\n  }, 300);\n}\n\nfunction updatePageThemeColor () {\n  const themeColor = ChartThemesColors[ currentThemeName ];\n\n  let metaTheme = document.querySelector( '[name=\"theme-color\"]' );\n\n  if (!metaTheme) {\n    metaTheme = createElement('meta', {\n      attrs: {\n        name: 'theme-color',\n        content: themeColor\n      }\n    });\n    document.head.appendChild( metaTheme );\n  } else {\n    metaTheme.setAttribute( 'content', themeColor );\n  }\n}\n\nfunction createChart (chartData, index) {\n  const container = document.querySelector( `#telechart-${index + 1}` );\n\n  const start = performance.now();\n  const chart = Telechart.create(container, {\n    title: 'Followers',\n    series: {\n      columns: chartData.columns,\n      names: chartData.names,\n      types: chartData.types,\n      colors: chartData.colors,\n    },\n    seriesOptions: {\n      grouping: {\n        pixels: 2\n      }\n    }\n  });\n\n  console.log( `#${index}`, performance.now() - start, chart );\n\n  // set initial theme\n  chart.setTheme( currentThemeName );\n\n  charts.push( chart );\n}\n\nconst animations = [];\n\nfunction runAnimation (index) {\n  const chart = charts[ index ];\n  let startDate = chart._chart._xAxis[ 0 ];\n  let endDate = chart._chart._xAxis[ chart._chart._xAxis.length - 1 ];\n  let curDate = endDate - (endDate - startDate) * .23;\n  const tickDelta = (endDate - startDate) * .001;\n  let sign = -1;\n\n  function animate () {\n    curDate += sign * tickDelta;\n    chart._chart.setViewportRange( curDate, clampNumber(curDate + tickDelta * 60, startDate + tickDelta ) );\n\n    if (curDate < startDate + 2 * tickDelta) {\n      sign *= -1;\n    } else if (curDate > endDate - tickDelta * 2) {\n      sign *= -1;\n    }\n\n    // stop animation\n    if (!animations.includes( index )) {\n      return;\n    }\n\n    requestAnimationFrame( animate );\n  }\n\n  animations.push( index );\n\n  animate();\n}\n\nfunction stopAnimation (index) {\n  const i = animations.indexOf( index );\n  animations.splice( i, 1 );\n}\n\nfunction toggleAnimation (index) {\n  animations.includes( index )\n    ? stopAnimation( index )\n    : runAnimation( index );\n}\n\nwindow.toggleAnimation = toggleAnimation;\n"],"sourceRoot":""}