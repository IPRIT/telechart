{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/constants.js","webpack:///./src/utils/animation.js","webpack:///./src/utils/base.js","webpack:///./src/utils/browser.js","webpack:///./src/utils/text.js","webpack:///./src/utils/dom.js","webpack:///./src/utils/themes.js","webpack:///./src/utils/algorithms.js","webpack:///./src/utils/index.js","webpack:///./src/core/misc/EventEmitter.js","webpack:///./src/core/animation/AnimationSource.js","webpack:///./src/core/SvgRenderer.js","webpack:///./src/core/chart/ChartTypes.js","webpack:///./src/core/point/Point.js","webpack:///./src/core/point/PointGroup.js","webpack:///./src/core/series/Series.js","webpack:///./src/core/chart/Chart.js","webpack:///./src/core/misc/Clock.js","webpack:///./src/Telechart.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TimeRanges","second","minute","hour","day","week","month","year","animationTimeout","timeoutMs","arguments","length","undefined","_len","args","Array","_key","Promise","resolve","fulfillmentCallback","apply","concat","cb","requestAnimationFrame","setTimeout","_","objectEachKey","fn","keys","forEach","clampNumber","min","Infinity","max","_ref","Math","ensureNumber","Number","isNaN","isDate","Date","valueOf","isBrowserSafari","test","navigator","userAgent","capitalize","text","String","toUpperCase","substr","cssText","styleObject","reduce","css","prop","camelToKebabCase","toLowerCase","replace","parseQueryString","href","queryString","split","slice","map","part","keyValue","result","obj","assign","createElement","tagName","options","children","element","document","createElementNS","attrs","useNS","setAttributesNS","attrsNS","setAttributes","isArray","node","innerHTML","appendChild","resolveElement","elementOrSelector","querySelector","getElementWidth","innerWidth","clientWidth","camelCaseAttrWhiteList","attr","includes","setAttribute","setAttributeNS","hasClass","className","classList","contains","RegExp","addClass","_element$classList","classNames","add","_toConsumableArray","trim","removeClass","_element$classList2","remove","existingClasses","classesToDelete","Set","has","ROOT_CLASS_NAME","interpolateThemeClass","themeName","ChartThemes","default","dark","ChartThemesColors","arraysEqual","arrayA","arrayB","arrayMinMax","array","_arrayMinMaxIndexes2","_slicedToArray","startIndex","endIndex","minIndex","maxIndex","arrayMinMaxIndexes","arrayAvg","sum","arraySum","binarySearchIndexes","order","left","right","mid","__webpack_exports__","EventEmitter","_classCallCheck","this","eventName","_fireEvent","context","addEventListener","addEventListenerOnce","_subscribeEvent","_this","listener","_len2","_key2","removeEventListener","_eventListeners","listenerIndex","findIndex","splice","_allocateEvent","push","eventListeners","_len3","_key3","_eventListeners$i","AnimationSourceEvents","AnimationSource","_EventEmitter","updatesPerSecond","timeScale","AnimationSource_classCallCheck","_getPrototypeOf","AnimationSource_defineProperty","_assertThisInitialized","_updatesPerSecond","_updateEach","FRAMES_PER_SECOND","_timeScale","_inherits","deltaTime","_paused","_timeElapsed","_updateInvokes","_callUpdate","_lastUpdateAt","removeAllListeners","emit","set","telechartTitle","TELECHART_NAME","TELECHART_VERSION","TELECHART_AUTHOR","INTERNAL_AUTOINCREMENT","SvgRenderer","contextElement","SvgRenderer_classCallCheck","SvgRenderer_getPrototypeOf","SvgRenderer_defineProperty","SvgRenderer_assertThisInitialized","_parentContainer","_init","SvgRenderer_inherits","parent","_svgContainer","group","NS","tspan","textElement","defs","pathText","pathElement","updatingAttrs","width","height","rectElement","selector","from","querySelectorAll","_detachEvents","_clearParentContainer","_isInitialized","_updateDimensions","_createSvgContainer","_insertSvgContainer","createDesc","_attachEvents","Error","xmlns","version","_width","_height","viewBox","class","_minWidth","_minHeight","ev","_attachResizeListener","_detachResizeListener","_resizeListener","_onResize","window","_id","join","ChartTypes","PointTypes","point","POINT_AUTOINCREMENT","Point","x","y","Point_classCallCheck","Point_defineProperty","_x","_y","pointType","_type","setX","setY","addX","addY","svgX","_svgX","svgY","_svgY","PointGroup","_Point","points","autoCompute","PointGroup_classCallCheck","PointGroup_getPrototypeOf","PointGroup_defineProperty","PointGroup_assertThisInitialized","setType","setPointsGroup","PointGroup_inherits","_pointsGroup","approximate","_approximateX","_approximateY","_approximationFn","SERIES_AUTOINCREMENT","Series","renderer","settings","Series_classCallCheck","Series_getPrototypeOf","Series_defineProperty","Series_assertThisInitialized","_renderer","_parent","_settings","_parseSettings","initialize","Series_inherits","_createPoints","_updateGlobalExtremes","_addEvents","_viewportPointsGroupingNeeded","approximateViewportPoints","_pathUpdateNeeded","updateViewportPoints","updatePath","_pathElement","_createGroup","_createPath","chart","_chart","_pathText","_visible","setInvisible","setVisible","range","rangeIndexes","updateExtremes","oldRangeIndexes","_viewportRangeIndexes","_viewportRange","_viewportDistance","_updateLocalExtremes","_viewportPoints","setSvgXY","_projectXToSvg","_projectYToSvg","_this$_viewportRangeI","Series_slicedToArray","_points","localMinMaxDistanceX","_xAxis","localMinMaxDistanceY","localExtremeDifference","boostScale","additionalApproximationDistanceX","additionalApproximationDistanceY","groupingDistanceLimitX","_groupingPixels","_viewportPixelX","groupingDistanceLimitY","_viewportPixelY","viewportPoints","groupStartIndex","groupStartDifferenceX","groupStartDifferenceY","abs","pointGroup","currentYScale","desiredYScale","_currentYScale","_localYScale","chartWidth","globalExtremeDifference","chartHeight","_computePathText","_this$_settings","xAxis","yAxis","label","color","type","_this$_settings$optio","_yAxis","_label","_color","_name","groupingOptions","grouping","pixels","_seriesOptions","_group","createGroup","id","createPath","fill","stroke","strokeWidth","strokeLinejoin","strokeLinecap","_arrayMinMax2","minValue","maxValue","_globalMinY","_globalMaxY","_this$_viewportRangeI2","rangeStartIndex","rangeEndIndex","_arrayMinMax4","_localMinY","_localMaxY","_toRelativeX","localMinY","_this2","on","_onRendererResize","updateViewportPixel","_viewportPixelUpdateNeeded","Chart","Chart_classCallCheck","Chart_getPrototypeOf","Chart_defineProperty","Chart_assertThisInitialized","_options","_initialize","Chart_inherits","_viewportRangeUpdateNeeded","updateViewportRange","_eachSeries","line","update","firstRender","minX","maxX","_setViewportRange","_updateViewportIndexes","setViewportRange","_updateExtremes","_updateSeriesScale","_this3","_createSeriesGroup","_createSeries","_setInitialRange","_seriesGroup","transform","data","series","_ref$seriesOptions","seriesOptions","columns","types","colors","names","xAxisIndex","column","yAxes","shift","setChart","_series","_this$_viewportRange","Chart_slicedToArray","rangeStart","rangeEnd","_binarySearchIndexes2","minUpperIndex","_binarySearchIndexes4","maxLowerIndex","localMaxY","globalMinY","globalMaxY","isVisible","_computeYScale","_this4","setScale","preservePadding","globalMinX","globalMaxX","getTime","newMinX","newMaxX","actualPaddingX","_computeViewportPadding","receivedLeftPaddingX","receivedRightPaddingX","_viewportLeftPaddingScale","_viewportRightPaddingScale","_this5","_onSeriesVisibleChange","difference","initialViewport","floor","viewportPadding","globalHeight","localHeight","localMinX","localMaxX","_computeViewportPixelX","_chartHeight","Clock","Clock_classCallCheck","_lastUpdateMs","now","delta","performance","Telechart","Telechart_classCallCheck","Telechart_defineProperty","mountTo","setOptions","mount","root","_rootElement","setTheme","theme","setTitle","title","_createChart","_clock","_animationSource","animate","getDelta","rootElement","_themeName","_title","_titleElement","_updateTitle","_createTitle","destroy","createText","textAnchor","style","opacity","Telechart_Telechart"],"mappings":"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","file":"telechart.a699afff19d069693241.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","const hour = 3600 * 1000;\n\n/**\n * @type {{second: number, minute: number, hour: number, day: number, week: number, month: number, year: number}}\n */\nexport const TimeRanges = {\n  second: 1000,\n  minute: hour / 60,\n  hour,\n  day: hour * 24,\n  week: hour * 24 * 7,\n  month: hour * 24 * 30, // rude\n  year: hour * 24 * 365\n};\n","export const FRAMES_PER_SECOND = 60;\nexport const FRAMES_DELTA_SEC = 1 / 60;\nexport const FRAMES_DELTA_MS = 1000 / 60;\n\n/**\n * @param {number} value\n * @param {number} deltaTime\n * @param {number} framesDeltaSec\n * @returns {number}\n */\nexport function warp (value, deltaTime, framesDeltaSec = FRAMES_DELTA_SEC) {\n  return value * warpRatio( deltaTime, framesDeltaSec );\n}\n\n/**\n * @param {number} deltaTime\n * @param {number} framesDeltaSec\n * @returns {number}\n */\nexport function warpRatio (deltaTime, framesDeltaSec = FRAMES_DELTA_SEC) {\n  return deltaTime / framesDeltaSec;\n}\n\n/**\n * @param {number} timeoutMs\n * @param {*} args\n * @return {Promise<void>}\n */\nexport function animationTimeout (timeoutMs = 0, ...args) {\n  return new Promise(resolve => {\n    const fulfillmentCallback = resolve.bind( null, ...args );\n    const cb = () => requestAnimationFrame( fulfillmentCallback );\n\n    if (!timeoutMs) {\n      cb();\n    } else {\n      setTimeout( _ => cb(), timeoutMs );\n    }\n  });\n}\n\n// linear\nexport const linear = t => t;\n// accelerating from zero velocity\nexport const easeInQuad = t => t * t;\n// decelerating to zero velocity\nexport const easeOutQuad = t => t * (2 - t);\n// acceleration until halfway, then deceleration\nexport const easeInOutQuad = t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t);\n// accelerating from zero velocity\nexport const easeInCubic = t => t * t * t;\n// decelerating to zero velocity\nexport const easeOutCubic = t => --t * t * t + 1;\n// acceleration until halfway, then deceleration\nexport const easeInOutCubic = t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n// accelerating from zero velocity\nexport const easeInQuart = t => t * t * t * t;\n// decelerating to zero velocity\nexport const easeOutQuart = t => 1 - --t * t * t * t;\n// acceleration until halfway, then deceleration\nexport const easeInOutQuart = t => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t);\n// accelerating from zero velocity\nexport const easeInQuint = t => t * t * t * t * t;\n// decelerating to zero velocity\nexport const easeOutQuint = t => 1 + --t * t * t * t * t;\n// acceleration until halfway, then deceleration\nexport const easeInOutQuint = t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n","/**\n * @param {*} object\n * @param {Function} fn\n */\nexport function objectEachKey (object, fn = () => {}) {\n  Object.keys( object ).forEach( fn );\n}\n\n/**\n * @param {*} object\n * @param {Function} fn\n * @return {*[]}\n */\nexport function objectMapKey (object, fn = () => {}) {\n  return Object.keys( object ).map( fn );\n}\n\n/**\n * @param {number} value\n * @param {number} min\n * @param {number} max\n * @return {number}\n */\nexport function clampNumber (value, min = -Infinity, max = Infinity) {\n  if (min > max) {\n    [ min, max ] = [ max, min ];\n  }\n  return Math.min(\n    Math.max(ensureNumber(value), min),\n    max\n  );\n}\n\n/**\n * @param {*} value\n * @return {number}\n */\nexport function ensureNumber (value) {\n  value = Number(value);\n  if (Number.isNaN(value)) {\n    return 0;\n  }\n  return value;\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nexport function isObject (value) {\n  return typeof value === 'object' && value !== null;\n}\n\n/**\n * @param {Date|*} value\n * @return {boolean}\n */\nexport function isDate (value) {\n  return value instanceof Date && !isNaN( value.valueOf() );\n}\n","/**\n * @returns {boolean}\n */\nexport function isBrowserSafari () {\n  return /^((?!chrome|android|crios|fxios).)*safari/i.test( navigator.userAgent );\n}\n","/**\n * @param {string} text\n * @return {string}\n */\nexport function capitalize (text) {\n  if (!text) {\n    return '';\n  }\n  text = String( text );\n  return text[ 0 ].toUpperCase() + text.substr(1);\n}\n\n/**\n * @param {Object} styleObject\n * @returns {string}\n */\nexport function cssText (styleObject) {\n  return Object.keys( styleObject ).reduce((css, prop) => {\n    return `${css ? css + ' ' : ''}${camelToKebabCase( prop )}: ${styleObject[ prop ]};`;\n  }, '');\n}\n\n/**\n * @param {string} text\n * @returns {string}\n */\nexport function camelToKebabCase (text) {\n  if (!text) {\n    return '';\n  }\n  text = String( text );\n  return (\n    text[ 0 ].toLowerCase() + text.substr( 1 )\n  ).replace( /([A-Z])/g, '-$1' ).toLowerCase();\n}\n\n/**\n * @param {string} href\n * @return {*}\n */\nexport function parseQueryString (href) {\n  const queryString = href.split('?').slice(1);\n  if (!queryString.length) {\n    return {};\n  }\n\n  return queryString[ 0 ].split( '&' ).map(part => {\n    const keyValue = part.split( '=' );\n    return {\n      [keyValue[ 0 ]]: keyValue[ 1 ]\n    };\n  }).reduce((result, obj) => {\n    return Object.assign(result, obj);\n  })\n}\n","import { objectEachKey } from \"./base\";\nimport { camelToKebabCase } from './text';\n\n/**\n * @param {string} tagName\n * @param {Object} options\n * @param {Array|*} children\n * @param {string|*} ns\n * @return {Element}\n */\nexport function createElement (tagName, options = {}, children = [], ns = null) {\n  const element = !ns\n    ? document.createElement( tagName )\n    : document.createElementNS( ns, tagName );\n\n  if (options.attrs) {\n    !options.useNS\n      ? setAttributes( element, options.attrs )\n      : setAttributesNS( element, options.attrs, options.attrsNS || null );\n  }\n\n  if (children || Array.isArray( children )) {\n    children = [].concat( children );\n    children.forEach(node => {\n      if (typeof node === 'string') {\n        element.innerHTML += node;\n      } else {\n        element.appendChild( node );\n      }\n    });\n  }\n\n  return element;\n}\n\n/**\n * @param {Element|string} elementOrSelector\n * @return {Element | null}\n */\nexport function resolveElement (elementOrSelector) {\n  if (typeof elementOrSelector !== 'string') {\n    return elementOrSelector;\n  }\n  return document.querySelector( elementOrSelector );\n}\n\n/**\n * @param {Element} element\n * @return {{top: number, left: number}}\n */\nexport function getElementOffset (element) {\n  if (!element) {\n    return { top: 0, left: 0 };\n  }\n\n  // Return zeros for disconnected and hidden (display: none) elements\n  // Support: IE <= 11 only\n  // Running getBoundingClientRect on a\n  // disconnected node in IE throws an error\n  if (element.getClientRects && !element.getClientRects().length) {\n    return { top: 0, left: 0 };\n  }\n\n  // Get document-relative position by adding viewport scroll to viewport-relative gBCR\n  const rect = element.getBoundingClientRect();\n  const win = element.ownerDocument.defaultView;\n  return {\n    top: rect.top + win.pageYOffset,\n    left: rect.left + win.pageXOffset\n  };\n}\n\n/**\n * @param {Element} targetElement\n * @param {Element} relativeElement\n * @return {{ top: number, left: number }}\n */\nexport function getElementRelativeOffset (targetElement, relativeElement) {\n  const targetOffset = getElementOffset(targetElement);\n  const relativeOffset = getElementOffset(relativeElement);\n\n  return {\n    top: targetOffset.top - relativeOffset.top + relativeElement.scrollTop,\n    left: targetOffset.left - relativeOffset.left + relativeElement.scrollLeft\n  };\n}\n\n/**\n * @returns {number}\n */\nexport function getDocumentHeight () {\n  return Math.max(\n    document.body.scrollHeight,\n    document.documentElement.scrollHeight,\n    document.body.offsetHeight,\n    document.documentElement.offsetHeight,\n    document.body.clientHeight,\n    document.documentElement.clientHeight\n  );\n}\n\n/**\n * @returns {number}\n */\nexport function getWindowHeight () {\n  return window.innerHeight ||\n    (document.documentElement || document.body).clientHeight;\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementHeight (element) {\n  return element.innerHeight || element.clientHeight;\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementWidth (element) {\n  return element.innerWidth || element.clientWidth;\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementScrollHeight (element) {\n  return Math.max(\n    element.scrollHeight,\n    element.offsetHeight,\n    element.clientHeight\n  );\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementScrollWidth (element) {\n  return Math.max(\n    element.scrollWidth,\n    element.offsetWidth,\n    element.clientWidth\n  );\n}\n\nconst camelCaseAttrWhiteList = [\n  'viewBox'\n];\n\n/**\n * @param {Element} element\n * @param {Object} attrs\n */\nexport function setAttributes (element, attrs = {}) {\n  element = resolveElement( element );\n\n  objectEachKey(attrs, key => {\n    const attr = camelCaseAttrWhiteList.includes( key )\n      ? key\n      : camelToKebabCase( key );\n\n    element.setAttribute( attr, attrs[ key ] );\n  });\n}\n\n/**\n * @param {Element} element\n * @param {Object} attrs\n * @param {string | *} ns\n */\nexport function setAttributesNS (element, attrs = {}, ns = null) {\n  element = resolveElement( element );\n\n  objectEachKey(attrs, key => {\n    const attr = camelCaseAttrWhiteList.includes( key )\n      ? key\n      : camelToKebabCase( key );\n\n    element.setAttributeNS( ns, attr, attrs[ key ] );\n  });\n}\n\n/**\n * @param {Element} element\n * @param {string} className\n */\nexport function hasClass (element, className) {\n  if (element.classList) {\n    return element.classList.contains( className );\n  }\n  return new RegExp('(\\\\s|^)' + className + '(\\\\s|$)').test( element.className );\n}\n\n/**\n * @param {Element} element\n * @param {string|Array<string>} classNames\n */\nexport function addClass (element, classNames = []) {\n  classNames = [].concat( classNames );\n\n  if (element.classList) {\n    return element.classList.add( ...classNames );\n  }\n\n  let className = element.className;\n\n  for (let i = 0; i < classNames.length; ++i) {\n    if (!hasClass( element, classNames[ i ] )) {\n      className += ` ${classNames[ i ]}`;\n    }\n  }\n\n  element.className = className.trim();\n}\n\n/**\n * @param {Element} element\n * @param {string|Array<string>} classNames\n */\nexport function removeClass (element, classNames = []) {\n  classNames = [].concat( classNames );\n\n  if (element.classList) {\n    return element.classList.remove( ...classNames );\n  }\n\n  let existingClasses = element.className.split( ' ' );\n  let classesToDelete = new Set( classNames );\n  let className = '';\n\n  for (let i = 0; i < existingClasses.length; ++i) {\n    if (!classesToDelete.has( existingClasses[ i ] )) {\n      className += ` ${existingClasses[ i ]}`;\n    }\n  }\n\n  element.className = className.trim();\n}\n","export const ROOT_CLASS_NAME = 'telechart-root';\n\n/**\n * @param {string} themeName\n * @returns {string}\n */\nexport function interpolateThemeClass (themeName) {\n  return `${ROOT_CLASS_NAME}_theme_${themeName}`;\n}\n\n/**\n * @type {{default: string, dark: string}}\n */\nexport const ChartThemes = {\n  default: 'default',\n  dark: 'dark'\n};\n\n/**\n * @type {{default: string, dark: string}}\n */\nexport const ChartThemesColors = {\n  default: '#ffffff',\n  dark: '#242F3E'\n};\n","/**\n * @param {Array<*>} arrayA\n * @param {Array<*>} arrayB\n * @param {string | *} key\n * @return {boolean}\n */\nexport function arraysEqual (arrayA, arrayB, key = null) {\n  if (!Array.isArray(arrayA)\n    || !Array.isArray(arrayB)\n    || arrayA.length !== arrayB.length) {\n    return false;\n  }\n  for (let i = 0; i < arrayA.length; ++i) {\n    if (key) {\n      if (arrayA[ i ][ key ] !== arrayB[ i ][ key ]) {\n        return false;\n      }\n    } else if (arrayA[ i ] !== arrayB[ i ]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMinIndex (array, startIndex = 0, endIndex = array.length - 1) {\n  let minIndex = startIndex;\n  for (let i = startIndex + 1; i <= endIndex; ++i) {\n    if (array[ minIndex ] > array[ i ]) {\n      minIndex = i;\n    }\n  }\n  return minIndex;\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMin (array, startIndex = 0, endIndex = array.length - 1) {\n  return array[ arrayMinIndex( array, startIndex, endIndex ) ];\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMaxIndex (array, startIndex = 0, endIndex = array.length - 1) {\n  let maxIndex = startIndex;\n  for (let i = startIndex + 1; i <= endIndex; ++i) {\n    if (array[ maxIndex ] < array[ i ]) {\n      maxIndex = i;\n    }\n  }\n  return maxIndex;\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMax (array, startIndex = 0, endIndex = array.length - 1) {\n  return array[ arrayMaxIndex( array, startIndex, endIndex ) ];\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {Array<number>}\n */\nexport function arrayMinMaxIndexes (array, startIndex = 0, endIndex = array.length - 1) {\n  let minIndex = startIndex;\n  let maxIndex = startIndex;\n  for (let i = startIndex + 1; i <= endIndex; ++i) {\n    if (array[ maxIndex ] < array[ i ]) {\n      maxIndex = i;\n    }\n    if (array[ minIndex ] > array[ i ]) {\n      minIndex = i;\n    }\n  }\n  return [ minIndex, maxIndex ];\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {Array<number>}\n */\nexport function arrayMinMax (array, startIndex = 0, endIndex = array.length - 1) {\n  const [ minIndex, maxIndex ] = arrayMinMaxIndexes( array, startIndex, endIndex );\n  return [\n    array[ minIndex ],\n    array[ maxIndex ],\n  ];\n}\n\n/**\n * @param {Array<number>} array\n * @return {number}\n */\nexport function arraySum (array) {\n  let length = array.length;\n  let sum = 0;\n\n  while (length--) {\n    sum += array[ length ];\n  }\n\n  return sum;\n}\n\n/**\n * @param {Array<number>} array\n * @return {number}\n */\nexport function arrayAvg (array) {\n  let length = array.length;\n  let result = arraySum( array );\n\n  // prevent from dividing by zero\n  if (length) {\n    result = result / length;\n  }\n\n  return result;\n}\n\n/**\n * Finds boundary indexes in an array of numbers\n *\n * @param {Array<number>} array\n * @param {number} value\n * @param {number} order\n * @return {[number, number]} Indexes\n * @private\n */\nexport function binarySearchIndexes (array, value, order = 1) {\n  let [ left, right ] = [ 0, array.length - 1 ];\n\n  if (!array.length || order * value < order * array[ left ]) {\n    return [ -1, 0 ];\n  } else if (order * value > order * array[ right ]) {\n    return [ right, right + 1 ];\n  }\n\n  while (right - left > 1) {\n    let mid = left + (( right - left ) >> 1);\n    if (order * value <= order * array[ mid ]) {\n      right = mid;\n    } else {\n      left = mid;\n    }\n  }\n\n  if (array[ right ] === value) {\n    left = right;\n  } else if (array[ left ] === value) {\n    right = left;\n  }\n\n  return [ left, right ];\n}\n\n/**\n * Finds boundary indexes in an array of objects\n *\n * @param {Array<Object>} array\n * @param {number} value\n * @param {string} key\n * @param {number} order\n * @return {[number, number]} Indexes\n * @private\n */\nexport function binarySearchObjectIndexes (array, value, key, order = 1) {\n  let [ left, right ] = [ 0, array.length - 1 ];\n\n  if (!array.length || order * value < order * array[ left ][ key ]) {\n    return [ -1, 0 ];\n  } else if (order * value > order * array[ right ][ key ]) {\n    return [ right, right + 1 ];\n  }\n\n  while (right - left > 1) {\n    let mid = left + (( right - left ) >> 1);\n    if (order * value <= order * array[ mid ][ key ]) {\n      right = mid;\n    } else {\n      left = mid;\n    }\n  }\n\n  if (array[ right ][ key ] === value) {\n    left = right;\n  } else if (array[ left ][ key ] === value) {\n    right = left;\n  }\n\n  return [ left, right ];\n}\n","export * from './constants';\nexport * from './animation';\nexport * from './base';\nexport * from './browser';\nexport * from './dom';\nexport * from './events';\nexport * from './svg';\nexport * from './text';\nexport * from './themes';\nexport * from './algorithms';\n","/**\n * Simple event emitter for better performance and app size\n *\n * @author Alexander Belov\n */\nexport class EventEmitter {\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _eventListeners = {};\n\n  /**\n   * @param {string} eventName\n   * @param {*} args\n   */\n  emit (eventName, ...args) {\n    this._fireEvent( eventName, ...args );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  on (eventName, cb, context = null) {\n    this.addEventListener( eventName, cb, context );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  once (eventName, cb, context = null) {\n    this.addEventListenerOnce( eventName, cb, context );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  addEventListener (eventName, cb, context = null) {\n    if (!cb) {\n      return;\n    }\n\n    this._subscribeEvent( eventName, cb, context );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  addEventListenerOnce (eventName, cb, context = null) {\n    if (!cb) {\n      return;\n    }\n\n    const listener = (...args) => {\n      cb.apply( context, args );\n      this.removeEventListener( eventName, listener );\n    };\n\n    this.addEventListener( eventName, listener );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} listener\n   */\n  removeEventListener (eventName, listener) {\n    if (!this._eventListeners[ eventName ]) {\n      return;\n    }\n\n    const listenerIndex = this._eventListeners[ eventName ].findIndex(([ cb ]) => {\n      return listener === cb;\n    });\n\n    if (listenerIndex < 0) {\n      return;\n    }\n\n    this._eventListeners[ eventName ].splice( listenerIndex, 1 );\n  }\n\n  /**\n   * @param {string | *} eventName\n   */\n  removeAllListeners (eventName = null) {\n    if (!eventName) {\n      this._eventListeners = {};\n    } else if (this._eventListeners[ eventName ]) {\n      this._eventListeners[ eventName ] = null;\n      delete this._eventListeners[ eventName ];\n    }\n  }\n\n  /**\n   * @param {string} eventName\n   * @private\n   */\n  _allocateEvent (eventName) {\n    this._eventListeners[ eventName ] = this._eventListeners[ eventName ] || []\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  _subscribeEvent (eventName, cb, context) {\n    this._allocateEvent( eventName );\n    this._eventListeners[ eventName ].push([ cb, context ]);\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {*} args\n   * @private\n   */\n  _fireEvent (eventName, ...args) {\n    const eventListeners = this._eventListeners[ eventName ] || [];\n\n    for (let i = 0; i < eventListeners.length; ++i) {\n      const [ cb, context ] = eventListeners[ i ];\n      cb.apply( context, args );\n    }\n  }\n}\n","import { EventEmitter } from '../misc/EventEmitter';\nimport { FRAMES_PER_SECOND } from '../../utils';\n\nexport const AnimationSourceEvents = {\n  UPDATE: 'update'\n};\n\nexport class AnimationSource extends EventEmitter {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _timeElapsed = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _timeScale = 1;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _updateInvokes = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _updatesPerSecond = 60;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _updateEach = 1;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _lastUpdateAt = 0;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _paused = false;\n\n  /**\n   * @param {number} updatesPerSecond\n   * @param {number} timeScale\n   */\n  constructor (updatesPerSecond = 60, timeScale = 1) {\n    super();\n\n    this._updatesPerSecond = Math.min( 60, Math.max( 1e-8, updatesPerSecond ) );\n    this._updateEach = FRAMES_PER_SECOND / this._updatesPerSecond;\n    this._timeScale = timeScale;\n  }\n\n  /**\n   * @param {number} deltaTime\n   */\n  update (deltaTime) {\n    if (this._paused) {\n      return;\n    }\n\n    this._timeElapsed += deltaTime;\n    this._updateInvokes++;\n\n    if (this._updateInvokes % this._updateEach < 1) {\n      this._callUpdate( (this._timeElapsed - this._lastUpdateAt) * this._timeScale );\n      this._lastUpdateAt = this._timeElapsed;\n    }\n  }\n\n  /**\n   * Disposes the instance\n   */\n  dispose () {\n    this._paused = true;\n    this.removeAllListeners();\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isPaused () {\n    return this._paused;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isRunning () {\n    return !this._paused;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get timeScale () {\n    return this._timeScale;\n  }\n\n  /**\n   * @param {number} value\n   */\n  set timeScale (value) {\n    this._timeScale = value;\n  }\n\n  /**\n   * @param {number} deltaTime\n   * @private\n   */\n  _callUpdate (deltaTime) {\n    this.emit( AnimationSourceEvents.UPDATE, deltaTime );\n  }\n}\n","import { EventEmitter } from \"./misc/EventEmitter\";\nimport {\n  capitalize,\n  clampNumber,\n  createElement,\n  getElementWidth,\n  resolveElement,\n  setAttributes,\n  setAttributesNS\n} from \"../utils\";\n\nconst telechartTitle = `${capitalize( TELECHART_NAME )} ${TELECHART_VERSION} (c) ${TELECHART_AUTHOR}`;\n\nlet INTERNAL_AUTOINCREMENT = 1;\n\nexport class SvgRenderer extends EventEmitter {\n\n  static NS = 'http://www.w3.org/2000/svg';\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = INTERNAL_AUTOINCREMENT++;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _parentContainer = null;\n\n  /**\n   * @type {SVGElement}\n   * @private\n   */\n  _svgContainer = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _minHeight = 400;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _minWidth = 10;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _width = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _height = null;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _isInitialized = false;\n\n  /**\n   * @param {Element|string} contextElement\n   */\n  constructor (contextElement) {\n    super();\n\n    this._parentContainer = resolveElement( contextElement );\n    this._init();\n  }\n\n  /**\n   * @param {*} attrs\n   * @param {Array<Element>} children\n   * @param {Element} parent\n   * @return {Element}\n   */\n  createGroup (attrs = {}, children = [], parent = this._svgContainer) {\n    const group = createElement('g', {\n      useNS: true,\n      attrs\n    }, children, SvgRenderer.NS);\n    parent.appendChild( group );\n\n    return group;\n  }\n\n  /**\n   * @param {string} text\n   * @param {Element} parent\n   * @return {SVGDescElement}\n   */\n  createDesc (text = '', parent = this._svgContainer) {\n    const group = createElement('desc', {\n      useNS: true\n    }, text, SvgRenderer.NS);\n    parent.appendChild( group );\n\n    return group;\n  }\n\n  /**\n   * @param {string} text\n   * @param {Object} attrs\n   * @param {Element} parent\n   * @return {SVGTextElement}\n   */\n  createText (text = '', attrs = {}, parent = this._svgContainer) {\n    const tspan = createElement('tspan', {\n      useNS: true\n    }, text, SvgRenderer.NS);\n\n    const textElement = createElement('text', {\n      useNS: true,\n      attrs\n    }, tspan, SvgRenderer.NS);\n\n    parent.appendChild( textElement );\n\n    return textElement;\n  }\n\n  /**\n   * @param {Element[]} defs\n   * @param {Element} parent\n   * @return {SVGDefsElement}\n   */\n  createDefs (defs = [], parent = this._svgContainer) {\n    defs = [].concat( defs );\n\n    const element = createElement('defs', {\n      useNS: true\n    }, defs, SvgRenderer.NS);\n    parent.appendChild( element );\n\n    return element;\n  }\n\n  /**\n   * @param {string} pathText\n   * @param {Object} attrs\n   * @param {Element} parent\n   * @return {SVGPathElement}\n   */\n  createPath (pathText, attrs = {}, parent = this._svgContainer) {\n    Object.assign(attrs, { d: pathText });\n\n    const pathElement = createElement('path', {\n      useNS: true,\n      attrs\n    }, [], SvgRenderer.NS);\n    parent.appendChild( pathElement );\n\n    return pathElement;\n  }\n\n  /**\n   * @param {SVGPathElement} pathElement\n   * @param {Object} updatingAttrs\n   */\n  updatePath (pathElement, pathText, updatingAttrs = {}) {\n    updatingAttrs.d = pathText;\n    setAttributesNS( pathElement, updatingAttrs, null );\n  }\n\n  /**\n   * @param {number} width\n   * @param {number} height\n   * @param {*} attrs\n   * @param {SVGElement | Element} parent\n   * @return {SVGRectElement}\n   */\n  createRect (width, height, attrs = {}, parent = this._svgContainer) {\n    Object.assign(attrs, {\n      width, height\n    });\n\n    const rectElement = createElement('rect', {\n      useNS: true,\n      attrs\n    }, [], SvgRenderer.NS);\n\n    parent.appendChild( rectElement );\n\n    return rectElement;\n  }\n\n  /**\n   * @param {string} selector\n   * @return {Element}\n   */\n  querySelector (selector) {\n    return this._svgContainer.querySelector( selector );\n  }\n\n  /**\n   * @param {string} selector\n   * @return {Array<Element>}\n   */\n  querySelectorAll (selector) {\n    return Array.from( this._svgContainer.querySelectorAll( selector ) );\n  }\n\n  /**\n   * Destroy the renderer\n   */\n  destroy () {\n    this._detachEvents();\n    this._clearParentContainer();\n  }\n\n  /**\n   * @return {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @return {Element}\n   */\n  get parentContainer () {\n    return this._parentContainer;\n  }\n\n  /**\n   * @return {SVGElement}\n   */\n  get svgContainer () {\n    return this._svgContainer;\n  }\n\n  /**\n   * @return {number}\n   */\n  get width () {\n    return this._width;\n  }\n\n  /**\n   * @return {number}\n   */\n  get height () {\n    return this._height;\n  }\n\n  /**\n   * @return {string}\n   */\n  get viewBox () {\n    return [ 0, 0, this._width, this._height ].join( ' ' );\n  }\n\n  /**\n   * @private\n   */\n  _init () {\n    if (this._isInitialized) {\n      return;\n    }\n\n    this._updateDimensions();\n    this._svgContainer = this._createSvgContainer();\n    this._insertSvgContainer();\n\n    this.createDesc( telechartTitle );\n\n    this._attachEvents();\n\n    this._isInitialized = true;\n  }\n\n  /**\n   * @return {Element}\n   * @private\n   */\n  _createSvgContainer () {\n    const parentContainer = this._parentContainer;\n\n    if (!parentContainer) {\n      throw new Error( 'Parent container is not provided' );\n    }\n\n    return createElement('svg', {\n      useNS: false,\n      attrs: {\n        xmlns: SvgRenderer.NS,\n        version: '1.1',\n        width: this._width,\n        height: this._height,\n        viewBox: this.viewBox,\n        class: 'telechart-render'\n      }\n    }, [], SvgRenderer.NS);\n  }\n\n  /**\n   * @private\n   */\n  _insertSvgContainer () {\n    this._clearParentContainer();\n    this._parentContainer.appendChild( this._svgContainer );\n  }\n\n  /**\n   * @private\n   */\n  _updateDimensions () {\n    this._width = clampNumber(\n      getElementWidth( this._parentContainer ),\n      this._minWidth\n    );\n    this._height = this._minHeight;\n\n    if (this._svgContainer) {\n      setAttributes(this._svgContainer, {\n        width: this._width,\n        height: this._height,\n        viewBox: this.viewBox\n      });\n    }\n  }\n\n  /**\n   * @private\n   */\n  _clearParentContainer () {\n    // clears the child content\n    this._parentContainer.innerHTML = '';\n  }\n\n  /**\n   * @private\n   */\n  _onResize (ev) {\n    this._updateDimensions();\n    this.emit( 'resize', ev );\n  }\n\n  /**\n   * @private\n   */\n  _attachEvents () {\n    this._attachResizeListener();\n  }\n\n  /**\n   * @private\n   */\n  _detachEvents () {\n    this._detachResizeListener();\n  }\n\n  /**\n   * @private\n   */\n  _attachResizeListener () {\n    if (this._resizeListener) {\n      this._detachResizeListener();\n    }\n\n    this._resizeListener = this._onResize.bind( this );\n    window.addEventListener( 'resize', this._resizeListener );\n  }\n\n  /**\n   * @private\n   */\n  _detachResizeListener () {\n    if (!this._resizeListener) {\n      return;\n    }\n\n    window.removeEventListener( 'resize', this._resizeListener );\n    this._resizeListener = null;\n  }\n}\n","/**\n * @type {{x: string, line: string}}\n */\nexport const ChartTypes = {\n  x: 'x',\n  line: 'line'\n};\n","export const PointTypes = {\n  point: 'point',\n  group: 'group',\n};\n\nlet POINT_AUTOINCREMENT = 1;\n\nexport class Point {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = POINT_AUTOINCREMENT++;\n\n  /**\n   * @enum 'point' | 'group'\n   * @type {string}\n   * @private\n   */\n  _type = 'point';\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _x = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _y = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _svgX = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _svgY = 0;\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  constructor (x = 0, y = 0) {\n    this._x = x;\n    this._y = y;\n  }\n\n  /**\n   * @param {string} pointType\n   */\n  setType (pointType = 'point') {\n    this._type = pointType;\n  }\n\n  /**\n   * @param {number} x\n   */\n  setX (x) {\n    this._x = x;\n  }\n\n  /**\n   * @param {number} y\n   */\n  setY (y) {\n    this._y = y;\n  }\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  setXY (x, y) {\n    this.setX( x );\n    this.setY( y );\n  }\n\n  /**\n   * @param {number} x\n   */\n  addX (x) {\n    this._x += x;\n  }\n\n  /**\n   * @param {number} y\n   */\n  addY (y) {\n    this._y += y;\n  }\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  addXY (x, y) {\n    this.addX( x );\n    this.addY( y );\n  }\n\n  /**\n   * @param {number} svgX\n   */\n  setSvgX (svgX) {\n    this._svgX = svgX;\n  }\n\n  /**\n   * @param {number} svgY\n   */\n  setSvgY (svgY) {\n    this._svgY = svgY;\n  }\n\n  /**\n   * @param {number} svgX\n   * @param {number} svgY\n   */\n  setSvgXY (svgX, svgY) {\n    this._svgX = svgX;\n    this._svgY = svgY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get x () {\n    return this._x;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get y () {\n    return this._y;\n  }\n\n  /**\n   * @return {number}\n   */\n  get svgX () {\n    return this._svgX;\n  }\n\n  /**\n   * @return {number}\n   */\n  get svgY () {\n    return this._svgY;\n  }\n\n  /**\n   * @returns {string}\n   */\n  get type () {\n    return this._type;\n  }\n}\n","import { Point, PointTypes } from './Point';\nimport { arrayAvg } from '../../utils/index';\n\nexport class PointGroup extends Point {\n\n  /**\n   * @type {Array<Point>}\n   * @private\n   */\n  _pointsGroup = [];\n\n  /**\n   * @type {arrayAvg}\n   * @private\n   */\n  _approximationFn = arrayAvg;\n\n  /**\n   * @param {Array<Point>} points\n   * @param {boolean?} autoCompute\n   */\n  constructor (points = [], autoCompute = true) {\n    super();\n    this.setType( PointTypes.group );\n    this.setPointsGroup( points, autoCompute );\n  }\n\n  /**\n   * @param {Array<Point>} points\n   * @param {boolean?} autoCompute\n   */\n  setPointsGroup (points, autoCompute = true) {\n    this._pointsGroup = points;\n\n    if (autoCompute) {\n      this.approximate();\n    }\n  }\n\n  /**\n   * @private\n   */\n  approximate () {\n    this.setX( this._approximateX() );\n    this.setY( this._approximateY() );\n  }\n\n  /**\n   * @return {number}\n   * @private\n   */\n  _approximateX () {\n    return this._approximationFn(\n      this._pointsGroup.map(p => p.x)\n    );\n  }\n\n  /**\n   * @return {number}\n   * @private\n   */\n  _approximateY () {\n    return this._approximationFn(\n      this._pointsGroup.map(p => p.y)\n    );\n  }\n}\n","import { EventEmitter } from '../misc/EventEmitter';\nimport { animationTimeout, arrayMinMax, arraysEqual, ensureNumber } from '../../utils';\nimport { Point } from '../point/Point';\nimport { PointGroup } from '../point/PointGroup';\n\nlet SERIES_AUTOINCREMENT = 1;\n\nexport class Series extends EventEmitter {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = SERIES_AUTOINCREMENT++;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _group = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _pathText = null;\n\n  /**\n   * @type {SVGPathElement}\n   * @private\n   */\n  _pathElement = null;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _pathUpdateNeeded = false;\n\n  /**\n   * @type {SvgRenderer}\n   * @private\n   */\n  _renderer = null;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _parent = null;\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _xAxis = [];\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _yAxis = [];\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _name = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _label = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _color = '#31a8dc';\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _visible = true;\n\n  /**\n   * @type {Array<Point>}\n   * @private\n   */\n  _points = [];\n\n  /**\n   * @type {{xAxis: Array<number>, yAxis: Array<number>, label: string, type: string, name: string, color: string, options: *}}\n   * @private\n   */\n  _settings = {};\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _seriesOptions = {};\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _groupingPixels = 2;\n\n  /**\n   * @type {Chart}\n   * @private\n   */\n  _chart = null;\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _viewportRange = [];\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportDistance = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportPixelX = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportPixelY = 0;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _viewportPixelUpdateNeeded = true;\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _viewportRangeIndexes = [];\n\n  /**\n   * @type {Array<Point | PointGroup>}\n   * @private\n   */\n  _viewportPoints = [];\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _viewportPointsGroupingNeeded = false;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _globalMaxY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _globalMinY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMaxY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMinY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _currentYScale = 1;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localYScale = 1;\n\n  /**\n   * @param {SvgRenderer} renderer\n   * @param {Element} parent\n   * @param {*} settings\n   */\n  constructor (renderer, parent, settings = {}) {\n    super();\n\n    this._renderer = renderer;\n    this._parent = parent;\n    this._settings = settings;\n    this._parseSettings();\n\n    this.initialize();\n  }\n\n  /**\n   * Initializes series with options\n   */\n  initialize () {\n    this._createPoints();\n    this._updateGlobalExtremes();\n    this._addEvents();\n  }\n\n  /**\n   * @param {number} deltaTime\n   */\n  update (deltaTime) {\n    if (this._viewportPointsGroupingNeeded) {\n      this.approximateViewportPoints();\n\n      this._viewportPointsGroupingNeeded = false;\n    }\n\n    if (this._pathUpdateNeeded) {\n      this.updateViewportPoints();\n      this.updatePath();\n\n      this._pathUpdateNeeded = false;\n    }\n  }\n\n  /**\n   * Creates path\n   */\n  firstRender () {\n    if (this._pathElement) {\n      return;\n    }\n\n    // approximate viewport points for large data set\n    this.approximateViewportPoints();\n\n    // update svgX & svgY for each point\n    this.updateViewportPoints();\n\n    // creates and stores wrapper for following path element\n    this._createGroup();\n\n    // creates and stores initial path element\n    this._createPath();\n  }\n\n  /**\n   * @param {Chart} chart\n   */\n  setChart (chart) {\n    this._chart = chart;\n  }\n\n  /**\n   * @param {string} pathText\n   */\n  setPathText (pathText) {\n    this._pathText = pathText;\n  }\n\n  /**\n   * @param {SVGPathElement} pathElement\n   */\n  setPathElement (pathElement) {\n    this._pathElement = pathElement;\n  }\n\n  /**\n   * Shows series on the chart\n   */\n  setVisible () {\n    this._visible = true;\n\n    this.emit( 'visibleChange', this._visible );\n  }\n\n  /**\n   * Hides series from the chart\n   */\n  setInvisible () {\n    this._visible = false;\n\n    this.emit( 'visibleChange', this._visible );\n  }\n\n  /**\n   * Toggles series\n   */\n  toggleVisible () {\n    this._visible\n      ? this.setInvisible()\n      : this.setVisible();\n  }\n\n  /**\n   * @param {Array<number>} range\n   * @param {Array<number>} rangeIndexes\n   * @param {boolean} updateExtremes\n   */\n  setViewportRange (range, rangeIndexes, updateExtremes = true) {\n    const oldRangeIndexes = this._viewportRangeIndexes;\n\n    this._viewportRange = range;\n    this._viewportRangeIndexes = rangeIndexes;\n    this._viewportDistance = this._viewportRange[ 1 ] - this._viewportRange[ 0 ];\n\n    if (!arraysEqual( rangeIndexes, oldRangeIndexes ) && oldRangeIndexes.length > 0) {\n      // mark to re-compute approximation in next animation update\n      this._viewportPointsGroupingNeeded = true;\n    }\n\n    this._pathUpdateNeeded = true;\n\n    if (updateExtremes) {\n      // update minY and maxY local values\n      this._updateLocalExtremes();\n    }\n  }\n\n  /**\n   * Updates points array of viewport\n   */\n  updateViewportPoints () {\n    for (let i = 0; i < this._viewportPoints.length; ++i) {\n      const point = this._viewportPoints[ i ];\n      point.setSvgXY(\n        this._projectXToSvg( point.x ),\n        this._projectYToSvg( point.y ),\n      );\n    }\n  }\n\n  /**\n   * Approximate points for better performance\n   */\n  approximateViewportPoints () {\n    let [ startIndex, endIndex ] = this._viewportRangeIndexes;\n\n    startIndex = Math.max( 0, startIndex - 1 );\n    endIndex = Math.min( this._points.length - 1, endIndex + 1 );\n\n    // if we have no enough points\n    // then we don't need to approximate\n    if (endIndex - startIndex < 100) {\n      // just slice points from the original array\n      // [ startIndex, endIndex ]\n      this._viewportPoints = this._points.slice(\n        startIndex,\n        endIndex + 1\n      );\n\n      // all work done here\n      return;\n    }\n\n    const localMinMaxDistanceX = this._xAxis[ endIndex ] - this._xAxis[ startIndex ];\n    const localMinMaxDistanceY = this._chart.localExtremeDifference;\n\n    const boostLimit = 500;\n    const boostScale = this._xAxis.length > boostLimit\n      ? Math.max(0, ( endIndex - startIndex ) / this._xAxis.length ) / boostLimit * 5\n      : 0;\n\n    const additionalApproximationDistanceX = localMinMaxDistanceX * boostScale;\n    const additionalApproximationDistanceY = localMinMaxDistanceY * boostScale;\n\n    let groupingDistanceLimitX = this._groupingPixels * this._viewportPixelX + additionalApproximationDistanceX;\n    let groupingDistanceLimitY = this._groupingPixels * this._viewportPixelY + additionalApproximationDistanceY;\n\n    let viewportPoints = [];\n    let groupStartIndex = startIndex;\n\n    for (let i = startIndex + 1; i <= endIndex; ++i) {\n      const point = this._points[ i ];\n\n      const groupStartDifferenceX = point.x - this._points[ groupStartIndex ].x;\n      const groupStartDifferenceY = Math.abs( point.y - this._points[ groupStartIndex ].y );\n\n      // using chebyshev distance determine if we reach the group limit\n      if (groupStartDifferenceX >= groupingDistanceLimitX\n        || groupStartDifferenceY >= groupingDistanceLimitY\n        || i === endIndex) {\n        if (groupStartIndex !== i - 1) {\n          // we have 2 or more points to group\n          // [ startIndex, lastIndex ] all indexes inclusive\n          const group = this._points.slice( groupStartIndex, i );\n          const pointGroup = new PointGroup( group, true );\n          viewportPoints.push( pointGroup );\n        } else {\n          if (startIndex === i - 1) {\n            // add first point\n            viewportPoints.push( this._points[ startIndex ] );\n          }\n          viewportPoints.push( point );\n        }\n\n        groupStartIndex = i;\n      }\n    }\n\n    this._viewportPoints = viewportPoints;\n  }\n\n  /**\n   * @param {number} currentYScale\n   * @param {number} desiredYScale\n   */\n  setScale (currentYScale, desiredYScale) {\n    this._currentYScale = currentYScale;\n    this._localYScale = desiredYScale;\n  }\n\n  /**\n   * Updates pixel value for each axis\n   */\n  updateViewportPixel () {\n    this._viewportPixelX = this._viewportDistance / this._chart.chartWidth;\n    this._viewportPixelY = this._chart.globalExtremeDifference / this._chart.chartHeight;\n  }\n\n  /**\n   * Recompute path text\n   */\n  updatePath () {\n    this._pathText = this._computePathText( this._viewportPoints );\n    this._renderer.updatePath( this._pathElement, this._pathText );\n  }\n\n  /**\n   * Mark to update path in next animation frame\n   */\n  requestPathUpdate () {\n    this._pathUpdateNeeded = true;\n  }\n\n  /**\n   * Mark to regroup points in next animation frame\n   */\n  requestPointsApproximation () {\n    this._viewportPointsGroupingNeeded = true;\n  }\n\n  /**\n   * @return {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @return {Array<number>}\n   */\n  get xAxis () {\n    return this._xAxis;\n  }\n\n  /**\n   * @return {Array<number>}\n   */\n  get yAxis () {\n    return this._yAxis;\n  }\n\n  /**\n   * @return {string}\n   */\n  get pathText () {\n    return this._pathText;\n  }\n\n  /**\n   * @return {SVGPathElement}\n   */\n  get pathElement () {\n    return this._pathElement;\n  }\n\n  /**\n   * @return {{xAxis: Array<number>, yAxis: Array<number>, label: string, type: string, name: string, color: string, options: *}}\n   */\n  get settings () {\n    return this._settings;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get isVisible () {\n    return this._visible;\n  }\n\n  /**\n   * @return {number}\n   */\n  get globalMinY () {\n    return this._globalMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get globalMaxY () {\n    return this._globalMaxY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMinY () {\n    return this._localMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMaxY () {\n    return this._localMaxY;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get viewportPixelUpdateNeeded () {\n    return this._viewportPixelUpdateNeeded;\n  }\n\n  /**\n   * @private\n   */\n  _parseSettings () {\n    const {\n      xAxis, yAxis,\n      label, type,\n      color, name,\n      options = {}\n    } = this._settings;\n\n    this._xAxis = xAxis;\n    this._yAxis = yAxis;\n    this._label = label;\n    this._color = color;\n    this._name = name;\n\n    const groupingOptions = options.grouping;\n    if (groupingOptions) {\n      if (groupingOptions.pixels) {\n        this._groupingPixels = ensureNumber( groupingOptions.pixels );\n      }\n    }\n\n    this._seriesOptions = options;\n  }\n\n  /**\n   * @private\n   */\n  _createGroup () {\n    this._group = this._renderer.createGroup({\n      class: 'telechart-series-path-group',\n      id: `telechart-path-${this._id}`,\n      x: 0,\n      y: 0\n    }, [], this._parent);\n  }\n\n  /**\n   * @private\n   */\n  _createPath () {\n    this._pathText = this._computePathText( this._viewportPoints );\n\n    this._pathElement = this._renderer.createPath(this._pathText, {\n      class: 'telechart-series-path',\n      d: this._pathText,\n      fill: 'none',\n      stroke: this._color,\n      strokeWidth: '2',\n      strokeLinejoin: 'round',\n      strokeLinecap: 'round'\n    }, this._group);\n  }\n\n  /**\n   * @private\n   */\n  _createPoints () {\n    const xAxis = this._xAxis;\n    const yAxis = this._yAxis;\n\n    for (let i = 0; i < xAxis.length; ++i) {\n      this._points.push(\n        new Point( xAxis[ i ], yAxis[ i ] )\n      );\n    }\n  }\n\n  /**\n   * @private\n   */\n  _updateGlobalExtremes () {\n    const [ minValue, maxValue ] = arrayMinMax( this._yAxis );\n\n    this._globalMinY = Math.min( 0, minValue );\n    this._globalMaxY = maxValue;\n  }\n\n  /**\n   * @private\n   */\n  _updateLocalExtremes () {\n    const [ rangeStartIndex, rangeEndIndex ] = this._viewportRangeIndexes;\n\n    const [ minValue, maxValue ] = arrayMinMax(\n      this._yAxis, rangeStartIndex, rangeEndIndex\n    );\n\n    this._localMinY = Math.min( 0, minValue );\n    this._localMaxY = maxValue;\n  }\n\n  /**\n   * @param {number} x\n   * @return {number}\n   * @private\n   */\n  _projectXToSvg (x) {\n    return this._toRelativeX( x ) / this._viewportPixelX;\n  }\n\n  /**\n   * @param {number} y\n   * @return {number}\n   * @private\n   */\n  _projectYToSvg (y) {\n    return this._chart.chartHeight\n      - (\n        y - this._chart.localMinY\n      ) / (\n        this._viewportPixelY * this._currentYScale\n      );\n  }\n\n  /**\n   * @private\n   */\n  _addEvents () {\n    this._renderer.on('resize', _ => {\n      this._onRendererResize();\n    });\n  }\n\n  /**\n   * @private\n   */\n  _onRendererResize () {\n    // update value-per-pixel and min-max distance\n    this.updateViewportPixel();\n\n    this._pathUpdateNeeded = true;\n    this._viewportPointsGroupingNeeded = true;\n  }\n\n  /**\n   * @param {number} x\n   * @return {number}\n   * @private\n   */\n  _toRelativeX (x) {\n    return x - this._viewportRange[ 0 ];\n  }\n\n  /**\n   * @param {Array<Point | PointGroup>} points\n   * @return {string}\n   * @private\n   */\n  _computePathText (points = []) {\n    let result = '';\n\n    if (!points.length) {\n      return result;\n    }\n\n    result += 'M';\n\n    for (let i = 0; i < points.length; ++i) {\n      const point = points[ i ];\n\n      if (i !== 0) {\n        result += 'L';\n      }\n\n      result += [ point.svgX, point.svgY ].join(' ') + ' ';\n    }\n\n    return result;\n  }\n}\n","import { EventEmitter } from '../misc/EventEmitter';\nimport { ChartTypes } from './ChartTypes';\nimport { Series } from '../series/Series';\nimport { binarySearchIndexes, clampNumber, isDate, TimeRanges } from '../../utils';\n\nexport class Chart extends EventEmitter {\n\n  /**\n   * @type {SvgRenderer}\n   * @private\n   */\n  _renderer = null;\n\n  /**\n   * @type {Object}\n   * @private\n   */\n  _options = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartHeight = 250; // chart height will be constant\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _xAxis = [];\n\n  /**\n   * @type {Array<Series>}\n   * @private\n   */\n  _series = [];\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _seriesGroup = null;\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _viewportRange = [];\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _viewportRangeIndexes = [];\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportLeftPaddingScale = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportRightPaddingScale = 0;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _viewportRangeUpdateNeeded = false;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _globalMinY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _globalMaxY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMinY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMaxY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localYScale = 1;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _currentYScale = null;\n\n  /**\n   * @param {SvgRenderer} renderer\n   * @param {Object} options\n   */\n  constructor (renderer, options = {}) {\n    super();\n\n    this._renderer = renderer;\n    this._options = options;\n\n    this._initialize();\n  }\n\n  /**\n   * @param {number} deltaTime\n   */\n  update (deltaTime) {\n    if (this._viewportRangeUpdateNeeded) {\n      this.updateViewportRange();\n\n      this._viewportRangeUpdateNeeded = false;\n    }\n\n    this._eachSeries(line => {\n      line.update( deltaTime );\n    });\n  }\n\n  /**\n   * Draws initial chart\n   */\n  firstRender () {\n    this._eachSeries(line => line.firstRender());\n  }\n\n  /**\n   * @param {number|Date} minX\n   * @param {number|Date} maxX\n   */\n  setViewportRange (minX, maxX) {\n    // recompute X boundaries\n    this._setViewportRange( minX, maxX );\n\n    // recompute indexes range\n    this._updateViewportIndexes();\n\n    this._eachSeries(line => {\n      // set X viewport interval for line\n      line.setViewportRange( this._viewportRange, this._viewportRangeIndexes );\n    });\n\n    // update global and local extremes\n    // update local scale\n    this._updateExtremes();\n\n    // update scales for each line\n    this._updateSeriesScale();\n  }\n\n  /**\n   * Recompute key variables for viewport range\n   */\n  updateViewportRange () {\n    // recompute X boundaries\n    this._setViewportRange( this._viewportRange[ 0 ], this._viewportRange[ 1 ], true );\n\n    this._eachSeries(line => {\n      // update X viewport interval for line\n      line.setViewportRange( this._viewportRange, this._viewportRangeIndexes, false );\n\n      // update X pixel value\n      line.updateViewportPixel();\n    });\n  }\n\n  /**\n   * @return {Array<number>}\n   */\n  get viewportRange () {\n    return this._viewportRange;\n  }\n\n  /**\n   * @return {Array<number>}\n   */\n  get viewportRangeIndexes () {\n    return this._viewportRangeIndexes;\n  }\n\n  /**\n   * @return {number}\n   */\n  get globalExtremeDifference () {\n    return this._globalMaxY - this._globalMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localExtremeDifference () {\n    return this._localMaxY - this._localMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMinY () {\n    return this._localMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMaxY () {\n    return this._localMaxY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get globalMinY () {\n    return this._globalMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get globalMaxY () {\n    return this._globalMaxY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get chartWidth () {\n    return this._renderer.width;\n  }\n\n  /**\n   * @return {number}\n   */\n  get chartHeight () {\n    return this._chartHeight;\n  }\n\n  /**\n   * @private\n   */\n  _initialize () {\n    this._createSeriesGroup();\n    this._createSeries();\n    this._addEvents();\n    this._setInitialRange();\n  }\n\n  /**\n   * @private\n   */\n  _createSeriesGroup () {\n    this._seriesGroup = this._renderer.createGroup({\n      class: 'telechart-series-group',\n      transform: `translate(0, 70) scale(1 1)`\n    });\n  }\n\n  /**\n   * @private\n   */\n  _createSeries () {\n    const {\n      series: data,\n      seriesOptions: options = {}\n    } = this._options || {};\n\n    const {\n      columns,\n      types,\n      colors,\n      names\n    } = data;\n\n    const xAxisIndex = columns.findIndex(column => {\n      return types[ column[ 0 ] ] === ChartTypes.x;\n    });\n    const xAxis = this._xAxis = columns[ xAxisIndex ].slice( 1 );\n\n    let yAxes = columns.slice(); // copy an array to change later\n    yAxes.splice( xAxisIndex, 1 ); // remove x axis from the array\n\n    for (let i = 0; i < yAxes.length; ++i) {\n      const yAxis = yAxes[ i ];\n      const label = yAxis.shift();\n      const type = types[ label ];\n      const color = colors[ label ];\n      const name = names[ label ];\n\n      // prepare series settings\n      const settings = {\n        xAxis, yAxis, label, type,\n        color, name, options\n      };\n\n      // create instance\n      const series = new Series( this._renderer, this._seriesGroup, settings );\n\n      // provide context for each series\n      series.setChart( this );\n\n      this._series.push( series );\n    }\n  }\n\n  /**\n   * @private\n   */\n  _updateViewportIndexes () {\n    const [ rangeStart, rangeEnd ] = this._viewportRange;\n    const [ minLowerIndex, minUpperIndex ] = binarySearchIndexes( this._xAxis, rangeStart );\n    const [ maxLowerIndex, maxUpperIndex ] = binarySearchIndexes( this._xAxis, rangeEnd );\n\n    this._viewportRangeIndexes = [ minUpperIndex, maxLowerIndex ];\n  }\n\n  /**\n   * @private\n   */\n  _updateExtremes () {\n    let localMinY = 0;\n    let localMaxY = 0;\n    let globalMinY = 0;\n    let globalMaxY = 0;\n\n    this._eachSeries(line => {\n      if (!line.isVisible) {\n        // filter only visible series\n        return;\n      }\n\n      if (localMinY > line.localMinY) {\n        localMinY = line.localMinY;\n      }\n      if (localMaxY < line.localMaxY) {\n        localMaxY = line.localMaxY;\n      }\n\n      if (globalMinY > line.globalMinY) {\n        globalMinY = line.globalMinY;\n      }\n      if (globalMaxY < line.globalMaxY) {\n        globalMaxY = line.globalMaxY;\n      }\n    });\n\n    this._localMinY = localMinY;\n    this._localMaxY = localMaxY;\n\n    this._globalMinY = globalMinY;\n    this._globalMaxY = globalMaxY;\n\n    this._localYScale = this._computeYScale();\n\n    if (typeof this._currentYScale !== 'number') {\n      // set initial scale\n      this._currentYScale = this._localYScale;\n    }\n  }\n\n  /**\n   * @private\n   */\n  _updateSeriesScale () {\n    this._eachSeries(line => {\n      line.setScale( this._currentYScale, this._localYScale );\n      line.updateViewportPixel();\n    });\n  }\n\n  /**\n   * @param {number | Date} minX\n   * @param {number | Date} maxX\n   * @param {boolean} preservePadding\n   * @private\n   */\n  _setViewportRange (minX, maxX, preservePadding = false) {\n    const xAxis = this._xAxis;\n\n    const globalMinX = xAxis[ 0 ];\n    const globalMaxX = xAxis[ xAxis.length - 1 ];\n\n    if (isDate( minX )) {\n      minX = minX.getTime();\n    }\n    if (isDate( maxX )) {\n      maxX = maxX.getTime();\n    }\n\n    let newMinX = Math.max( minX, globalMinX );\n    let newMaxX = Math.min( maxX, globalMaxX );\n\n    const actualPaddingX = this._computeViewportPadding( newMinX, newMaxX );\n\n    const receivedLeftPaddingX = clampNumber( newMinX - minX, 0, actualPaddingX );\n    const receivedRightPaddingX = clampNumber( maxX - newMaxX, 0, actualPaddingX );\n\n    if (!preservePadding) {\n      this._viewportLeftPaddingScale = receivedLeftPaddingX / actualPaddingX;\n    }\n    if (this._viewportLeftPaddingScale > 0) {\n      newMinX -= actualPaddingX * this._viewportLeftPaddingScale;\n    }\n\n    if (!preservePadding) {\n      this._viewportRightPaddingScale = receivedRightPaddingX / actualPaddingX;\n    }\n    if (this._viewportRightPaddingScale > 0) {\n      newMaxX += actualPaddingX * this._viewportRightPaddingScale;\n    }\n\n    this._viewportRange = [ newMinX, newMaxX ];\n  }\n\n  /**\n   * @private\n   */\n  _addEvents () {\n    this._renderer.on('resize', _ => {\n      this._onRendererResize();\n    });\n\n    this._eachSeries(line => {\n      line.on('visibleChange', _ => {\n        this._onSeriesVisibleChange( line );\n      });\n    });\n  }\n\n  /**\n   * @private\n   */\n  _setInitialRange () {\n    const globalMinX = this._xAxis[ 0 ];\n    const globalMaxX = this._xAxis[ this._xAxis.length - 1 ];\n    const difference = globalMaxX - globalMinX;\n    const initialViewport = Math.floor( difference * 1 );\n    const viewportPadding = this._computeViewportPadding(\n      globalMaxX - initialViewport,\n      globalMaxX\n    );\n\n    // set initial range\n    this.setViewportRange(\n      globalMaxX - initialViewport - viewportPadding,\n      globalMaxX + viewportPadding\n    );\n  }\n\n  /**\n   * @private\n   */\n  _onRendererResize () {\n    // request for future animation update\n    this._viewportRangeUpdateNeeded = true;\n  }\n\n  /**\n   * @param {Series} series\n   * @private\n   */\n  _onSeriesVisibleChange (series) {\n    // find new extremes and scale\n    this._updateExtremes();\n\n    // setup new scale for each line\n    this._updateSeriesScale();\n  }\n\n  /**\n   * @return {number}\n   * @private\n   */\n  _computeYScale () {\n    const globalHeight = this.globalExtremeDifference;\n    const localHeight = this.localExtremeDifference;\n\n    // prevent dividing by zero\n    if (!globalHeight) {\n      return 1;\n    }\n\n    return localHeight / globalHeight;\n  }\n\n  /**\n   * @param {number} minX\n   * @param {number} maxX\n   * @return {number}\n   * @private\n   */\n  _computeViewportPixelX (minX = this._viewportRange[ 0 ], maxX = this._viewportRange[ 1 ]) {\n    return ( maxX - minX ) / this.chartWidth;\n  }\n\n  /**\n   * @param {number} localMinX\n   * @param {number} localMaxX\n   * @return {number}\n   * @private\n   */\n  _computeViewportPadding (localMinX, localMaxX) {\n    return this._computeViewportPixelX( localMinX, localMaxX ) * 16;\n  }\n\n  /**\n   * @param {Function} fn\n   * @private\n   */\n  _eachSeries (fn = () => {}) {\n    for (let i = 0; i < this._series.length; ++i) {\n      fn( this._series[ i ] );\n    }\n  }\n}\n","export class Clock {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _lastUpdateMs = 0;\n\n  constructor () {\n    this._lastUpdateMs = this.now;\n  }\n\n  /**\n   * @return {number}\n   */\n  getDelta () {\n    const now = this.now;\n    const delta = now - this._lastUpdateMs;\n    this._lastUpdateMs = now;\n\n    return delta;\n  }\n\n  /**\n   * @return {number}\n   */\n  get now () {\n    return (performance || Date).now();\n  }\n}\n","import './style/telechart.scss';\n\nimport { AnimationSource, AnimationSourceEvents } from './core/animation/AnimationSource';\nimport { SvgRenderer } from \"./core/SvgRenderer\";\nimport { Chart } from './core/chart/Chart';\nimport { Clock } from './core/misc/Clock';\n\nimport {\n  addClass,\n  interpolateThemeClass,\n  removeClass,\n  resolveElement,\n  ChartThemes,\n  setAttributesNS,\n  cssText, createElement, ROOT_CLASS_NAME\n} from \"./utils\";\n\nexport class Telechart {\n\n  /**\n   * @type {Object}\n   * @private\n   */\n  _options = null;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _rootElement = null;\n\n  /**\n   * @type {SvgRenderer}\n   * @private\n   */\n  _renderer = null;\n\n  /**\n   * @type {Chart}\n   * @private\n   */\n  _chart = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _themeName = ChartThemes.default;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _title = '';\n\n  /**\n   * @type {SVGTextElement}\n   * @private\n   */\n  _titleElement = null;\n\n  /**\n   * @type {Clock}\n   * @private\n   */\n  _clock = null;\n\n  /**\n   * @type {AnimationSource}\n   * @private\n   */\n  _animationSource = null;\n\n  /**\n   * @static\n   * @param {Element | string} mountTo Element or selector\n   * @param {Object} options\n   */\n  static create (mountTo, options = {}) {\n    const chart = new Telechart();\n\n    chart.setOptions( options );\n    chart.mount( resolveElement( mountTo ) );\n    chart.initialize();\n\n    chart.firstRender();\n\n    return chart;\n  }\n\n  /**\n   * @param {Object} options\n   */\n  setOptions (options = {}) {\n    this._options = options;\n  }\n\n  /**\n   * @param {Element} parent\n   */\n  mount (parent) {\n    const root = createElement('div', {\n      attrs: {\n        class: ROOT_CLASS_NAME\n      }\n    });\n\n    parent.appendChild( root );\n\n    this._rootElement = root;\n    this._renderer = new SvgRenderer( root );\n  }\n\n  /**\n   * Initialize the chart\n   */\n  initialize () {\n    this.setTheme( this._options.theme || ChartThemes.default );\n    this.setTitle( this._options.title );\n\n    // create components\n    this._createChart();\n\n    // create animation loop\n    this._clock = new Clock();\n    this._animationSource = new AnimationSource( 60, 1 ); // fps, timeScale\n    this._animationSource.on(AnimationSourceEvents.UPDATE, deltaTime => {\n      this.update( deltaTime );\n    });\n\n    requestAnimationFrame(_ => {\n      this.animate();\n    });\n  }\n\n  /**\n   * Draws first frame\n   */\n  firstRender () {\n    this._chart.firstRender();\n  }\n\n  /**\n   * Animation loop\n   */\n  animate () {\n    const deltaTime = this._clock.getDelta();\n    this._animationSource.update( deltaTime );\n\n    requestAnimationFrame(_ => this.animate());\n  }\n\n  /**\n   * Update loop\n   */\n  update (deltaTime) {\n    this._chart.update( deltaTime );\n  }\n\n  /**\n   * @param {string} themeName\n   */\n  setTheme (themeName) {\n    const rootElement = this._rootElement;\n\n    removeClass(\n      rootElement,\n      Object.keys( ChartThemes )\n        .map( interpolateThemeClass )\n    );\n\n    addClass(\n      rootElement,\n      interpolateThemeClass( themeName )\n    );\n\n    this._themeName = themeName;\n  }\n\n  /**\n   * @param {string} title\n   */\n  setTitle (title) {\n    this._title = title;\n\n    !this._titleElement\n      ? this._createTitle( title )\n      : this._updateTitle( title );\n  }\n\n  /**\n   * Destroys the chart instance\n   */\n  destroy () {\n    this._renderer && this._renderer.destroy();\n    this._rootElement = null;\n    this._renderer = null;\n  }\n\n  /**\n   * @return {string}\n   */\n  get themeName () {\n    return this._themeName;\n  }\n\n  /**\n   * @param {string} title\n   * @private\n   */\n  _createTitle (title = this._options.title) {\n    if (!title) {\n      return;\n    }\n\n    const text = this._renderer.createText(title, {\n      class: 'telechart-title',\n      x: 16,\n      y: 36,\n      textAnchor: 'start',\n      style: cssText({\n        opacity: 0\n      })\n    });\n\n    setTimeout(_ => {\n      setAttributesNS(text, {\n        style: cssText({\n          opacity: 1\n        })\n      });\n    }, 200);\n\n    this._titleElement = text;\n  }\n\n  /**\n   * @param {string} title\n   * @private\n   */\n  _updateTitle (title) {\n    if (!this._titleElement) {\n      return;\n    }\n    const tspan = this._titleElement.querySelector( 'tspan' );\n    tspan.innerHTML = title;\n  }\n\n  /**\n   * @private\n   */\n  _createChart () {\n    this._chart = new Chart(\n      this._renderer,\n      this._options\n    );\n  }\n}\n","export * from './Telechart';\n"],"sourceRoot":""}