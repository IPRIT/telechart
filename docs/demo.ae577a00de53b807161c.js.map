{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/core/misc/EventEmitter.js","webpack:///./src/utils/constants.js","webpack:///./src/utils/animation.js","webpack:///./src/utils/base.js","webpack:///./src/utils/browser.js","webpack:///./src/utils/text.js","webpack:///./src/utils/dom.js","webpack:///./src/utils/events.js","webpack:///./src/utils/svg.js","webpack:///./src/utils/themes.js","webpack:///./src/utils/algorithms.js","webpack:///./src/core/animation/AnimationSource.js","webpack:///./src/core/SvgRenderer.js","webpack:///./src/core/series/SeriesTypes.js","webpack:///./src/core/point/Point.js","webpack:///./src/core/animation/Tween.js","webpack:///./src/core/series/Series.js","webpack:///./src/core/chart/ChartTypes.js","webpack:///./src/core/chart/events/ChartEvents.js","webpack:///./src/core/chart/BaseChart.js","webpack:///./src/core/chart/Chart.js","webpack:///./src/core/misc/Clock.js","webpack:///./src/core/chart/events/NavigatorChartEvents.js","webpack:///./src/core/chart/NavigatorChart.js","webpack:///./demo/telechart-demo.js","webpack:///./src/Telechart.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","EventEmitter","this","_eventListeners","_proto","emit","eventName","_len","arguments","length","args","Array","_key","_fireEvent","apply","concat","on","cb","context","addEventListener","once","addEventListenerOnce","_subscribeEvent","_this","listener","_len2","_key2","removeEventListener","listenerIndex","findIndex","_ref","splice","removeAllListeners","_allocateEvent","push","eventListeners","_len3","_key3","_eventListeners$i","TimeRanges","second","minute","hour","day","week","month","year","FRAMES_PER_SECOND","FRAMES_DELTA_SEC","FRAMES_DELTA_MS","warp","deltaTime","framesDeltaSec","warpRatio","animationTimeout","timeoutMs","Promise","resolve","fulfillmentCallback","requestAnimationFrame","setTimeout","_","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","objectEachKey","fn","keys","forEach","objectMapKey","map","clampNumber","min","max","Infinity","Math","ensureNumber","Number","isNaN","isObject","isDate","Date","valueOf","isBrowserSafari","test","navigator","userAgent","isTouchEventsSupported","document","documentElement","passiveSupported","options","passive","window","err","isPassiveEventSupported","passiveIfSupported","passiveIfSupportedFn","capitalize","text","String","toUpperCase","substr","cssText","styleObject","reduce","css","prop","camelToKebabCase","toLowerCase","replace","parseQueryString","href","queryString","split","slice","part","keyValue","result","obj","assign","createElement","tagName","children","element","createElementNS","attrs","useNS","setAttributesNS","attrsNS","setAttributes","isArray","node","innerHTML","textContent","appendChild","resolveElement","elementOrSelector","querySelector","getElementOffset","top","left","rect","getBoundingClientRect","win","ownerDocument","defaultView","pageYOffset","pageXOffset","e","getElementRelativeOffset","targetElement","relativeElement","targetOffset","relativeOffset","scrollTop","scrollLeft","getDocumentHeight","body","scrollHeight","offsetHeight","clientHeight","getWindowHeight","innerHeight","getElementHeight","getElementWidth","innerWidth","clientWidth","getElementScrollHeight","getElementScrollWidth","scrollWidth","offsetWidth","camelCaseAttrWhiteList","attr","includes","setAttribute","setAttributeNS","hasClass","className","classList","contains","RegExp","addClass","classNames","_element$classList","add","trim","removeClass","_element$classList2","remove","existingClasses","classesToDelete","Set","has","console","warn","ev","parseSimplePathText","pathText","parseRegex","segments","exec","index","lastIndex","type","x","y","segmentsToPathText","j","join","ROOT_CLASS_NAME","interpolateThemeClass","themeName","ChartThemes","default","dark","ChartThemesColors","arraysEqual","arrayA","arrayB","arrayMinIndex","array","startIndex","endIndex","minIndex","arrayMin","arrayMaxIndex","maxIndex","arrayMax","arrayMinMaxIndexes","arrayMinMax","_arrayMinMaxIndexes","arraySum","sum","arrayAvg","binarySearchIndexes","order","right","mid","binarySearchObjectIndexes","AnimationSourceEvents","AnimationSource","_EventEmitter","updatesPerSecond","timeScale","_timeElapsed","_timeScale","_updateInvokes","_updatesPerSecond","_updateEach","_lastUpdateAt","_paused","update","_callUpdate","dispose","set","telechartTitle","TELECHART_NAME","INTERNAL_AUTOINCREMENT","SvgRenderer","contextElement","_id","_parentContainer","_svgContainer","_minHeight","_minWidth","_width","_height","_isInitialized","_init","createGroup","parent","group","NS","createClipPath","clipPath","createMask","mask","createLinearGradient","stops","stopElements","stopAttrs","gradient","createDesc","createText","tspan","textElement","createDefs","createPath","pathElement","updatePath","createRect","width","height","rectElement","selector","querySelectorAll","from","destroy","_detachEvents","_clearParentContainer","_updateDimensions","_createSvgContainer","_insertSvgContainer","_attachEvents","Error","xmlns","version","viewBox","class","_onResize","_attachResizeListener","_detachResizeListener","_resizeListener","SeriesTypes","POINT_AUTOINCREMENT","Point","_type","_x","_y","_svgX","_svgY","setType","pointType","setX","setY","setXY","addX","addY","addXY","setSvgX","svgX","setSvgY","svgY","setSvgXY","TWEEN_ID","TweenState","NOT_STARTED","RUNNING","PAUSED","COMPLETED","CANCELLED","TweenEvents","DEFAULT_PARAMS","duration","timingFunction","Tween","target","properties","targetValues","params","_params","_state","_duration","_timingFunctionName","_timingFunction","_target","_properties","_targetValues","_startValues","_initParams","_construct","isRunning","_updateAnimation","_checkDuration","start","isNotStarted","_getPropertyValues","pause","finish","_dispose","cancel","patchAnimation","setTimeScale","_this$_params","_getTimingFunction","progress","timingProgress","delta","values","_getPropertyValue","functionName","defaultFunctionName","timingFunctions","SERIES_AUTOINCREMENT","OpacityAnimationType","Series","renderer","settings","_parent","_renderer","_chart","_settings","_seriesOptions","_xAxis","_yAxis","_name","_label","_color","_strokeWidth","_visible","_group","_pathText","_pathElement","_pathUpdateNeeded","_points","_localMaxY","_localMinY","_opacity","_opacityAnimation","_opacityAnimationType","_parseSettings","initialize","_createPoints","_addEvents","updateViewportPoints","updatePathOpacity","firstRender","_createGroup","_createPath","setChart","chart","setVisible","_createShowingAnimation","setInvisible","_createHidingAnimation","toggleVisible","updateLocalExtremes","_this$_chart$_viewpor","_viewportRangeIndexes","rangeStartIndex","rangeEndIndex","_arrayMinMax","minValue","maxValue","_useViewportPointsInterval","updateViewportPointsByInterval","updateViewportPointsByArray","indexes","_viewportPointsIndexes","pointIndex","point","_projectXToSvg","_projectYToSvg","_this$_chart$_viewpor2","_updatePathText","requestPathUpdate","_this$_settings","xAxis","yAxis","label","color","_this$_settings$optio","_options$strokeWidth","strokeWidth","id","fill","stroke","strokeLinejoin","strokeLinecap","_computePathTextByInterval","_computePathTextByArray","_toRelativeX","_viewportPixelX","chartHeight","currentLocalMinY","_viewportPixelY","_this2","_onRendererResize","_viewportRange","interval","_createOpacityAnimation","opacity","_this3","onFinished","ChartTypes","navigatorChart","ChartEvents","CHART_ID","BaseChart","_options","_chartHeight","_groupingPixels","_series","_seriesGroup","_defs","_chartMask","_chartMaskId","_chartMaskPadding","_viewportDistance","_viewportPadding","_viewportLeftPaddingScale","_viewportRightPaddingScale","_viewportRangeUpdateNeeded","_viewportPointsGroupingNeeded","_currentLocalMinY","_currentLocalMaxY","_minMaxYAnimation","_minMaxYAnimationSign","_rangeAnimation","_rangeAnimationObject","resolveDefs","createChartMask","createSeriesGroup","createSeries","addEvents","setInitialRange","approximateViewportPoints","extremesUpdated","hasRangeAnimation","updateViewportRange","to","skipExtremes","updateViewportPixel","eachSeries","line","hasOpacityAnimation","isHiding","isNavigatorPath","data","series","_ref$seriesOptions","seriesOptions","groupingOptions","grouping","pixels","columns","types","colors","names","xAxisIndex","column","yAxes","shift","extendSeriesOptions","defs","svgContainer","padding","gradientId","sharpGradient","gradientTransform","offset","stopColor","stopOpacity","chartWidth","setViewportRange","animateViewportRangeTo","minX","maxX","_options$duration","_options$timingFuncti","_options$preservePadd","preservePadding","_this$_clampViewportR","_clampViewportRange","newMinX","newMaxX","_temp","_ref2","_ref2$skipExtremes","_ref2$preservePadding","_setViewportRange","oldRangeIndexes","_updateViewportIndexes","localExtremesUpdateRequested","updateExtremes","viewportRange","_options2","_options2$skipExtreme","_options2$preservePad","_this$_viewportRangeI","groupingDistanceLimitX","viewportIndexes","groupStartIndex","middleIndex","localMinY","localMaxY","isVisible","oldLocalMinY","oldLocalMaxY","updateAnimation","_updateOrCreateMinMaxYAnimation","computeViewportPixelX","currentLocalExtremeDifference","computeViewportPadding","localMinX","localMaxX","_this4","onRendererResize","onSeriesVisibleChange","_updateMaskDimensions","getSeriesByLabel","findSeries","setSeriesVisible","setSeriesInvisible","toggleSeriesInvisible","predicate","setChartType","_this$_viewportRange","rangeStart","rangeEnd","_binarySearchIndexes","minUpperIndex","_binarySearchIndexes2","maxLowerIndex","_this$_clampViewportR2","globalMinX","globalMaxX","getTime","_ref3","actualPaddingX","receivedLeftPaddingX","receivedRightPaddingX","localExtremeDifference","_createMinMaxYAnimation","_patchMinMaxYAnimation","_this5","_updateMinMaxAnimationSign","_navigatorDistanceScale","Chart","_BaseChart","transform","chartMaskId","style","shapeRendering","setNavigationRange","_this$_resolveNavigat","_resolveNavigationRange","animateNavigationRangeTo","_this$_resolveNavigat2","initialViewport","floor","viewportPadding","globalDistance","Clock","_lastUpdateMs","performance","now","getDelta","NavigatorChartEvents","NavigatorChart","_offsetY","_paddingTopBottom","_paddingLeftRight","_navigatorGroup","_sliderGroup","_slider","_sliderControllerLeft","_sliderControllerRight","_sliderControllerWidth","_sliderControllerOffset","_sliderWidth","_sliderLeftRightBorderWidth","_overlayLeft","_overlayRight","_overlayLeftWidth","_overlayRightWidth","_overlayColor","_sliderUpdateNeeded","_navigatorRange","_navigatorRangeAnimation","_navigationRangeAnimationObject","_navigatorMinRangeDistance","_navigatorChangeDirection","_updateNavigatorDimensions","_createNavigatorGroup","_createOverlays","_createSliderEventsListeners","updateNavigationRange","_updateNavigatorElements","_this$_clampNavigatio","_clampNavigationRange","newMin","newMax","_ref$emitChange","emitChange","_this$_clampNavigatio2","overlayLeftScale","overlayRightScale","navigatorWidth","offsetY","navigatorHeight","maskId","_sliderMask","_sliderMaskOuter","_sliderMaskInner","preserveDistance","preservedDistance","isRightController","distance","minDistance","touchStartListener","_onSliderTouchStart","touchMoveListener","_onSliderTouchMove","mouseDownListener","_onSliderMouseDown","controllerLeftTouchStartListener","_onSliderControllerTouchStart","controllerLeftTouchMoveListener","_onSliderControllerTouchMove","controllerLeftMouseDownListener","_onSliderControllerMouseDown","controllerRightTouchStartListener","controllerRightTouchMoveListener","controllerRightMouseDownListener","overlayLeftClickListener","_onSliderOverlayClick","overlayRightClickListener","_ev$targetTouches$","targetTouches","pageX","pageY","_sliderStartEvent","_sliderStartPosition","targetTouch","startPageX","_targetTouch$pageX","positionDelta","startPosition","_this$_clampNavigatio3","sliderMouseMoveListener","_onSliderMouseMove","lastBodyStyle","getAttribute","cursor","removeAttribute","preventDefault","_ev$pageX","_this$_clampNavigatio4","direction","_ev$targetTouches$2","_sliderControllerStartPosition","_sliderControllerStartEvent","cancelable","_targetTouch$pageX2","isLeft","_this$_clampNavigatio5","mouseMoveListener","_onSliderControllerMouseMove","_ev$pageX2","_this$_clampNavigatio6","position","_resolveNavigatorPosition","halfDistance","_this$_clampNavigatio7","Telechart","_rootElement","_navigatorChart","_themeName","_title","_titleElement","_clock","_animationSource","mountTo","setOptions","mount","root","setTheme","theme","setTitle","title","_createChart","_createNavigatorChart","_addEventsListeners","animate","rootElement","_updateTitle","_createTitle","textAnchor","range","_this3$_chart","_this3$_chart2","query","location","search","currentThemeName","largeAxisX","largeAxisY1","largeAxisY2","initialDate","dateTick","random","sin","cos","sourceData","charts","chartData","animation","then","container","log","createChart","catch","error","updatePageTheme","themeButton","themeColor","metaTheme","content","head","newTheme","animations","toggleAnimation","indexOf","stopAnimation","startDate","endDate","curDate","tickDelta","sign","runAnimation"],"mappings":"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","file":"demo.ae577a00de53b807161c.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","/**\n * Simple event emitter for better performance and app size\n *\n * @author Alexander Belov\n */\nexport class EventEmitter {\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _eventListeners = {};\n\n  /**\n   * @param {string} eventName\n   * @param {*} args\n   */\n  emit (eventName, ...args) {\n    this._fireEvent( eventName, ...args );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  on (eventName, cb, context = null) {\n    this.addEventListener( eventName, cb, context );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  once (eventName, cb, context = null) {\n    this.addEventListenerOnce( eventName, cb, context );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  addEventListener (eventName, cb, context = null) {\n    if (!cb) {\n      return;\n    }\n\n    this._subscribeEvent( eventName, cb, context );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  addEventListenerOnce (eventName, cb, context = null) {\n    if (!cb) {\n      return;\n    }\n\n    const listener = (...args) => {\n      cb.apply( context, args );\n      this.removeEventListener( eventName, listener );\n    };\n\n    this.addEventListener( eventName, listener );\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} listener\n   */\n  removeEventListener (eventName, listener) {\n    if (!this._eventListeners[ eventName ]) {\n      return;\n    }\n\n    const listenerIndex = this._eventListeners[ eventName ].findIndex(([ cb ]) => {\n      return listener === cb;\n    });\n\n    if (listenerIndex < 0) {\n      return;\n    }\n\n    this._eventListeners[ eventName ].splice( listenerIndex, 1 );\n  }\n\n  /**\n   * @param {string | *} eventName\n   */\n  removeAllListeners (eventName = null) {\n    if (!eventName) {\n      this._eventListeners = {};\n    } else if (this._eventListeners[ eventName ]) {\n      this._eventListeners[ eventName ] = null;\n      delete this._eventListeners[ eventName ];\n    }\n  }\n\n  /**\n   * @param {string} eventName\n   * @private\n   */\n  _allocateEvent (eventName) {\n    this._eventListeners[ eventName ] = this._eventListeners[ eventName ] || []\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Function} cb\n   * @param {*} context\n   */\n  _subscribeEvent (eventName, cb, context) {\n    this._allocateEvent( eventName );\n    this._eventListeners[ eventName ].push([ cb, context ]);\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {*} args\n   * @private\n   */\n  _fireEvent (eventName, ...args) {\n    const eventListeners = this._eventListeners[ eventName ] || [];\n\n    for (let i = 0; i < eventListeners.length; ++i) {\n      const [ cb, context ] = eventListeners[ i ];\n      cb.apply( context, args );\n    }\n  }\n}\n","const hour = 3600 * 1000;\n\n/**\n * @type {{second: number, minute: number, hour: number, day: number, week: number, month: number, year: number}}\n */\nexport const TimeRanges = {\n  second: 1000,\n  minute: hour / 60,\n  hour,\n  day: hour * 24,\n  week: hour * 24 * 7,\n  month: hour * 24 * 30, // rude\n  year: hour * 24 * 365\n};\n","export const FRAMES_PER_SECOND = 60;\nexport const FRAMES_DELTA_SEC = 1 / 60;\nexport const FRAMES_DELTA_MS = 1000 / 60;\n\n/**\n * @param {number} value\n * @param {number} deltaTime\n * @param {number} framesDeltaSec\n * @returns {number}\n */\nexport function warp (value, deltaTime, framesDeltaSec = FRAMES_DELTA_SEC) {\n  return value * warpRatio( deltaTime, framesDeltaSec );\n}\n\n/**\n * @param {number} deltaTime\n * @param {number} framesDeltaSec\n * @returns {number}\n */\nexport function warpRatio (deltaTime, framesDeltaSec = FRAMES_DELTA_SEC) {\n  return deltaTime / framesDeltaSec;\n}\n\n/**\n * @param {number} timeoutMs\n * @param {*} args\n * @return {Promise<void>}\n */\nexport function animationTimeout (timeoutMs = 0, ...args) {\n  return new Promise(resolve => {\n    const fulfillmentCallback = resolve.bind( null, ...args );\n    const cb = () => requestAnimationFrame( fulfillmentCallback );\n\n    if (!timeoutMs) {\n      cb();\n    } else {\n      setTimeout( _ => cb(), timeoutMs );\n    }\n  });\n}\n\n// linear\nexport const linear = t => t;\n// accelerating from zero velocity\nexport const easeInQuad = t => t * t;\n// decelerating to zero velocity\nexport const easeOutQuad = t => t * (2 - t);\n// acceleration until halfway, then deceleration\nexport const easeInOutQuad = t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t);\n// accelerating from zero velocity\nexport const easeInCubic = t => t * t * t;\n// decelerating to zero velocity\nexport const easeOutCubic = t => --t * t * t + 1;\n// acceleration until halfway, then deceleration\nexport const easeInOutCubic = t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n// accelerating from zero velocity\nexport const easeInQuart = t => t * t * t * t;\n// decelerating to zero velocity\nexport const easeOutQuart = t => 1 - --t * t * t * t;\n// acceleration until halfway, then deceleration\nexport const easeInOutQuart = t => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t);\n// accelerating from zero velocity\nexport const easeInQuint = t => t * t * t * t * t;\n// decelerating to zero velocity\nexport const easeOutQuint = t => 1 + --t * t * t * t * t;\n// acceleration until halfway, then deceleration\nexport const easeInOutQuint = t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n","/**\n * @param {*} object\n * @param {Function} fn\n */\nexport function objectEachKey (object, fn = () => {}) {\n  Object.keys( object ).forEach( fn );\n}\n\n/**\n * @param {*} object\n * @param {Function} fn\n * @return {*[]}\n */\nexport function objectMapKey (object, fn = () => {}) {\n  return Object.keys( object ).map( fn );\n}\n\n/**\n * @param {number} value\n * @param {number} min\n * @param {number} max\n * @return {number}\n */\nexport function clampNumber (value, min = -Infinity, max = Infinity) {\n  if (min > max) {\n    [ min, max ] = [ max, min ];\n  }\n  return Math.min( Math.max( value, min ), max );\n}\n\n/**\n * @param {*} value\n * @return {number}\n */\nexport function ensureNumber (value) {\n  value = Number(value);\n  if (Number.isNaN(value)) {\n    return 0;\n  }\n  return value;\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nexport function isObject (value) {\n  return typeof value === 'object' && value !== null;\n}\n\n/**\n * @param {Date|*} value\n * @return {boolean}\n */\nexport function isDate (value) {\n  return value instanceof Date && !isNaN( value.valueOf() );\n}\n","/**\n * @returns {boolean}\n */\nexport function isBrowserSafari () {\n  return /^((?!chrome|android|crios|fxios).)*safari/i.test( navigator.userAgent );\n}\n\n/**\n * @return {boolean}\n */\nexport function isTouchEventsSupported () {\n  return 'ontouchstart' in document.documentElement;\n}\n\nlet passiveSupported = false;\n\ntry {\n  const options = {\n    get passive() { // This function will be called when the browser\n      //   attempts to access the passive property.\n      passiveSupported = true;\n    }\n  };\n\n  window.addEventListener('test', options, options);\n  window.removeEventListener('test', options, options);\n} catch(err) {\n  passiveSupported = false;\n}\n\nexport const isPassiveEventSupported = passiveSupported;\nexport const passiveIfSupported = passiveSupported ? { passive: true } : false;\nexport const passiveIfSupportedFn = (passive = true) => passiveSupported ? { passive } : false;\n","/**\n * @param {string} text\n * @return {string}\n */\nexport function capitalize (text) {\n  if (!text) {\n    return '';\n  }\n  text = String( text );\n  return text[ 0 ].toUpperCase() + text.substr(1);\n}\n\n/**\n * @param {Object} styleObject\n * @returns {string}\n */\nexport function cssText (styleObject = {}) {\n  return Object.keys( styleObject ).reduce((css, prop) => {\n    return `${css ? css + ' ' : ''}${camelToKebabCase( prop )}: ${styleObject[ prop ]};`;\n  }, '');\n}\n\n/**\n * @param {string} text\n * @returns {string}\n */\nexport function camelToKebabCase (text) {\n  if (!text) {\n    return '';\n  }\n  text = String( text );\n  return (\n    text[ 0 ].toLowerCase() + text.substr( 1 )\n  ).replace( /([A-Z])/g, '-$1' ).toLowerCase();\n}\n\n/**\n * @param {string} href\n * @return {*}\n */\nexport function parseQueryString (href) {\n  const queryString = href.split('?').slice(1);\n  if (!queryString.length) {\n    return {};\n  }\n\n  return queryString[ 0 ].split( '&' ).map(part => {\n    const keyValue = part.split( '=' );\n    return {\n      [keyValue[ 0 ]]: keyValue[ 1 ]\n    };\n  }).reduce((result, obj) => {\n    return Object.assign(result, obj);\n  })\n}\n","import { objectEachKey } from \"./base\";\nimport { camelToKebabCase } from './text';\n\n/**\n * @param {string} tagName\n * @param {Object} options\n * @param {Array|*} children\n * @param {string|*} ns\n * @return {Element}\n */\nexport function createElement (tagName, options = {}, children = [], ns = null) {\n  const element = !ns\n    ? document.createElement( tagName )\n    : document.createElementNS( ns, tagName );\n\n  if (options.attrs) {\n    !options.useNS\n      ? setAttributes( element, options.attrs )\n      : setAttributesNS( element, options.attrs, options.attrsNS || null );\n  }\n\n  if (children || Array.isArray( children )) {\n    children = [].concat( children );\n    children.forEach(node => {\n      if (typeof node === 'string') {\n        // optimistic way\n        if (/[<>]/i.test( node )) {\n          element.innerHTML += node;\n        } else {\n          element.textContent += node;\n        }\n      } else {\n        element.appendChild( node );\n      }\n    });\n  }\n\n  return element;\n}\n\n/**\n * @param {Element|string} elementOrSelector\n * @return {Element | null}\n */\nexport function resolveElement (elementOrSelector) {\n  if (typeof elementOrSelector !== 'string') {\n    return elementOrSelector;\n  }\n  return document.querySelector( elementOrSelector );\n}\n\n/**\n * @param {Element} element\n * @return {{top: number, left: number}}\n */\nexport function getElementOffset (element) {\n  if (!element) {\n    return { top: 0, left: 0 };\n  }\n\n  try {\n    // Get document-relative position by adding viewport scroll to viewport-relative gBCR\n    const rect = element.getBoundingClientRect();\n    const win = element.ownerDocument.defaultView;\n    return {\n      top: rect.top + win.pageYOffset,\n      left: rect.left + win.pageXOffset\n    };\n  } catch (e) {\n    return { top: 0, left: 0 };\n  }\n}\n\n/**\n * @param {Element} targetElement\n * @param {Element} relativeElement\n * @return {{ top: number, left: number }}\n */\nexport function getElementRelativeOffset (targetElement, relativeElement) {\n  const targetOffset = getElementOffset(targetElement);\n  const relativeOffset = getElementOffset(relativeElement);\n\n  return {\n    top: targetOffset.top - relativeOffset.top + relativeElement.scrollTop,\n    left: targetOffset.left - relativeOffset.left + relativeElement.scrollLeft\n  };\n}\n\n/**\n * @returns {number}\n */\nexport function getDocumentHeight () {\n  return Math.max(\n    document.body.scrollHeight,\n    document.documentElement.scrollHeight,\n    document.body.offsetHeight,\n    document.documentElement.offsetHeight,\n    document.body.clientHeight,\n    document.documentElement.clientHeight\n  );\n}\n\n/**\n * @returns {number}\n */\nexport function getWindowHeight () {\n  return window.innerHeight ||\n    (document.documentElement || document.body).clientHeight;\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementHeight (element) {\n  return element.innerHeight || element.clientHeight;\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementWidth (element) {\n  return element.innerWidth || element.clientWidth;\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementScrollHeight (element) {\n  return Math.max(\n    element.scrollHeight,\n    element.offsetHeight,\n    element.clientHeight\n  );\n}\n\n/**\n * @param {Element} element\n * @returns {number}\n */\nexport function getElementScrollWidth (element) {\n  return Math.max(\n    element.scrollWidth,\n    element.offsetWidth,\n    element.clientWidth\n  );\n}\n\nconst camelCaseAttrWhiteList = [\n  'viewBox',\n  'gradientTransform'\n];\n\n/**\n * @param {Element} element\n * @param {Object} attrs\n */\nexport function setAttributes (element, attrs = {}) {\n  element = resolveElement( element );\n\n  objectEachKey(attrs, key => {\n    const attr = camelCaseAttrWhiteList.includes( key )\n      ? key\n      : camelToKebabCase( key );\n\n    element.setAttribute( attr, attrs[ key ] );\n  });\n}\n\n/**\n * @param {Element} element\n * @param {Object} attrs\n * @param {string | *} ns\n */\nexport function setAttributesNS (element, attrs = {}, ns = null) {\n  element = resolveElement( element );\n\n  objectEachKey(attrs, key => {\n    const attr = camelCaseAttrWhiteList.includes( key )\n      ? key\n      : camelToKebabCase( key );\n\n    element.setAttributeNS( ns, attr, attrs[ key ] );\n  });\n}\n\n/**\n * @param {Element} element\n * @param {string} attr\n * @param {*} value\n * @param {string | *} ns\n */\nexport function setAttributeNS (element, attr, value, ns) {\n  // it's a magic but it increases speed for 1-2ms on slow devices\n  // prevent from babel optimisation\n  ns = ns || null;\n  element.setAttributeNS( ns, attr, value );\n}\n\n/**\n * @param {Element} element\n * @param {string} className\n */\nexport function hasClass (element, className) {\n  if (element.classList) {\n    return element.classList.contains( className );\n  }\n  return new RegExp('(\\\\s|^)' + className + '(\\\\s|$)').test( element.className );\n}\n\n/**\n * @param {Element} element\n * @param {string|Array<string>} classNames\n */\nexport function addClass (element, classNames = []) {\n  classNames = [].concat( classNames );\n\n  if (element.classList) {\n    return element.classList.add( ...classNames );\n  }\n\n  let className = element.className;\n\n  for (let i = 0; i < classNames.length; ++i) {\n    if (!hasClass( element, classNames[ i ] )) {\n      className += ` ${classNames[ i ]}`;\n    }\n  }\n\n  element.className = className.trim();\n}\n\n/**\n * @param {Element} element\n * @param {string|Array<string>} classNames\n */\nexport function removeClass (element, classNames = []) {\n  classNames = [].concat( classNames );\n\n  if (element.classList) {\n    return element.classList.remove( ...classNames );\n  }\n\n  let existingClasses = element.className.split( ' ' );\n  let classesToDelete = new Set( classNames );\n  let className = '';\n\n  for (let i = 0; i < existingClasses.length; ++i) {\n    if (!classesToDelete.has( existingClasses[ i ] )) {\n      className += ` ${existingClasses[ i ]}`;\n    }\n  }\n\n  element.className = className.trim();\n}\n","/**\n * @param {Element | Window} element\n * @param {string} eventName\n * @param {Function} cb\n */\nexport function addEventListenerOnce (element, eventName, cb) {\n  if (!element) {\n    return console.warn( 'Element is missing' );\n  }\n\n  const listener = ev => {\n    cb( ev );\n    element.removeEventListener( eventName, listener );\n  };\n\n  element.addEventListener( eventName, listener );\n}\n","import { ensureNumber } from \"./index\";\n\n/**\n * Returns path segments\n *\n * @param {string} pathText\n * @return {Array<Array<Array<number>>>}\n */\nexport function parseSimplePathText (pathText) {\n  const parseRegex = /([ML])\\s?(-?\\d+\\.?(?:\\d+)?)\\s(-?\\d+\\.?(?:\\d+)?)/gi;\n\n  const segments = [];\n  let m;\n\n  while ((m = parseRegex.exec( pathText )) !== null) {\n    // This is necessary to avoid infinite loops with zero-width matches\n    if (m.index === parseRegex.lastIndex) {\n      parseRegex.lastIndex++;\n    }\n\n    const type = m[ 1 ];\n    const x = ensureNumber( m[2] );\n    const y = ensureNumber( m[3] );\n\n    if (type === 'm' || !segments.length) {\n      segments.push([ [ x, y ] ]);\n    } else {\n      const lastSegment = segments[ segments.length - 1 ];\n      lastSegment.push([ x, y ]);\n    }\n  }\n\n  return segments;\n}\n\n/**\n * @param {Array<Array<Array<number>>>} segments\n * @return {string}\n */\nexport function segmentsToPathText (segments) {\n  let result = '';\n\n  for (let i = 0; i < segments.length; ++i) {\n    result += 'M ';\n    for (let j = 0; j < segments[ i ].length; ++j) {\n      const coordinates = segments[ i ][ j ];\n      if (j !== 0) {\n        result += 'L ';\n      }\n      result += coordinates.join(' ') + ' ';\n    }\n  }\n\n  return result;\n}\n","export const ROOT_CLASS_NAME = 'telechart-root';\n\n/**\n * @param {string} themeName\n * @returns {string}\n */\nexport function interpolateThemeClass (themeName) {\n  return `${ROOT_CLASS_NAME}_theme_${themeName}`;\n}\n\n/**\n * @type {{default: string, dark: string}}\n */\nexport const ChartThemes = {\n  default: 'default',\n  dark: 'dark'\n};\n\n/**\n * @type {{default: string, dark: string}}\n */\nexport const ChartThemesColors = {\n  default: '#ffffff',\n  dark: '#242F3E'\n};\n","/**\n * @param {Array<*>} arrayA\n * @param {Array<*>} arrayB\n * @param {string | *} key\n * @return {boolean}\n */\nexport function arraysEqual (arrayA, arrayB, key = null) {\n  if (!Array.isArray(arrayA)\n    || !Array.isArray(arrayB)\n    || arrayA.length !== arrayB.length) {\n    return false;\n  }\n  for (let i = 0; i < arrayA.length; ++i) {\n    if (key) {\n      if (arrayA[ i ][ key ] !== arrayB[ i ][ key ]) {\n        return false;\n      }\n    } else if (arrayA[ i ] !== arrayB[ i ]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMinIndex (array, startIndex = 0, endIndex = array.length - 1) {\n  let minIndex = startIndex;\n  for (let i = startIndex + 1; i <= endIndex; ++i) {\n    if (array[ minIndex ] > array[ i ]) {\n      minIndex = i;\n    }\n  }\n  return minIndex;\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMin (array, startIndex = 0, endIndex = array.length - 1) {\n  return array[ arrayMinIndex( array, startIndex, endIndex ) ];\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMaxIndex (array, startIndex = 0, endIndex = array.length - 1) {\n  let maxIndex = startIndex;\n  for (let i = startIndex + 1; i <= endIndex; ++i) {\n    if (array[ maxIndex ] < array[ i ]) {\n      maxIndex = i;\n    }\n  }\n  return maxIndex;\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {number}\n */\nexport function arrayMax (array, startIndex = 0, endIndex = array.length - 1) {\n  return array[ arrayMaxIndex( array, startIndex, endIndex ) ];\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {Array<number>}\n */\nexport function arrayMinMaxIndexes (array, startIndex = 0, endIndex = array.length - 1) {\n  let minIndex = startIndex;\n  let maxIndex = startIndex;\n  for (let i = startIndex + 1; i <= endIndex; ++i) {\n    if (array[ maxIndex ] < array[ i ]) {\n      maxIndex = i;\n    }\n    if (array[ minIndex ] > array[ i ]) {\n      minIndex = i;\n    }\n  }\n  return [ minIndex, maxIndex ];\n}\n\n/**\n * @param {Array<number>} array\n * @param {number?} startIndex\n * @param {number?} endIndex\n * @return {Array<number>}\n */\nexport function arrayMinMax (array, startIndex = 0, endIndex = array.length - 1) {\n  const [ minIndex, maxIndex ] = arrayMinMaxIndexes( array, startIndex, endIndex );\n  return [\n    array[ minIndex ],\n    array[ maxIndex ],\n  ];\n}\n\n/**\n * @param {Array<number>} array\n * @return {number}\n */\nexport function arraySum (array) {\n  let length = array.length;\n  let sum = 0;\n\n  while (length--) {\n    sum += array[ length ];\n  }\n\n  return sum;\n}\n\n/**\n * @param {Array<number>} array\n * @return {number}\n */\nexport function arrayAvg (array) {\n  let length = array.length;\n  let result = arraySum( array );\n\n  // prevent from dividing by zero\n  if (length) {\n    result = result / length;\n  }\n\n  return result;\n}\n\n/**\n * Finds boundary indexes in an array of numbers\n *\n * @param {Array<number>} array\n * @param {number} value\n * @param {number} order\n * @return {[number, number]} Indexes\n * @private\n */\nexport function binarySearchIndexes (array, value, order = 1) {\n  let [ left, right ] = [ 0, array.length - 1 ];\n\n  if (!array.length || order * value < order * array[ left ]) {\n    return [ -1, 0 ];\n  } else if (order * value > order * array[ right ]) {\n    return [ right, right + 1 ];\n  }\n\n  while (right - left > 1) {\n    let mid = left + (( right - left ) >> 1);\n    if (order * value <= order * array[ mid ]) {\n      right = mid;\n    } else {\n      left = mid;\n    }\n  }\n\n  if (array[ right ] === value) {\n    left = right;\n  } else if (array[ left ] === value) {\n    right = left;\n  }\n\n  return [ left, right ];\n}\n\n/**\n * Finds boundary indexes in an array of objects\n *\n * @param {Array<Object>} array\n * @param {number} value\n * @param {string} key\n * @param {number} order\n * @return {[number, number]} Indexes\n * @private\n */\nexport function binarySearchObjectIndexes (array, value, key, order = 1) {\n  let [ left, right ] = [ 0, array.length - 1 ];\n\n  if (!array.length || order * value < order * array[ left ][ key ]) {\n    return [ -1, 0 ];\n  } else if (order * value > order * array[ right ][ key ]) {\n    return [ right, right + 1 ];\n  }\n\n  while (right - left > 1) {\n    let mid = left + (( right - left ) >> 1);\n    if (order * value <= order * array[ mid ][ key ]) {\n      right = mid;\n    } else {\n      left = mid;\n    }\n  }\n\n  if (array[ right ][ key ] === value) {\n    left = right;\n  } else if (array[ left ][ key ] === value) {\n    right = left;\n  }\n\n  return [ left, right ];\n}\n","import { EventEmitter } from '../misc/EventEmitter';\nimport { FRAMES_PER_SECOND } from '../../utils';\n\nexport const AnimationSourceEvents = {\n  UPDATE: 'update'\n};\n\nexport class AnimationSource extends EventEmitter {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _timeElapsed = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _timeScale = 1;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _updateInvokes = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _updatesPerSecond = 60;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _updateEach = 1;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _lastUpdateAt = 0;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _paused = false;\n\n  /**\n   * @param {number} updatesPerSecond\n   * @param {number} timeScale\n   */\n  constructor (updatesPerSecond = 60, timeScale = 1) {\n    super();\n\n    this._updatesPerSecond = Math.min( 60, Math.max( 1e-8, updatesPerSecond ) );\n    this._updateEach = FRAMES_PER_SECOND / this._updatesPerSecond;\n    this._timeScale = timeScale;\n  }\n\n  /**\n   * @param {number} deltaTime\n   */\n  update (deltaTime) {\n    if (this._paused) {\n      return;\n    }\n\n    this._timeElapsed += deltaTime;\n    this._updateInvokes++;\n\n    if (this._updateInvokes % this._updateEach < 1) {\n      this._callUpdate( ( this._timeElapsed - this._lastUpdateAt ) * this._timeScale );\n      this._lastUpdateAt = this._timeElapsed;\n    }\n  }\n\n  /**\n   * Disposes the instance\n   */\n  dispose () {\n    this._paused = true;\n    this.removeAllListeners();\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isPaused () {\n    return this._paused;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isRunning () {\n    return !this._paused;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get timeScale () {\n    return this._timeScale;\n  }\n\n  /**\n   * @param {number} value\n   */\n  set timeScale (value) {\n    this._timeScale = value;\n  }\n\n  /**\n   * @param {number} deltaTime\n   * @private\n   */\n  _callUpdate (deltaTime) {\n    this.emit( AnimationSourceEvents.UPDATE, deltaTime );\n  }\n}\n","import { EventEmitter } from \"./misc/EventEmitter\";\nimport {\n  capitalize,\n  clampNumber,\n  createElement,\n  getElementWidth,\n  resolveElement, setAttributeNS,\n  setAttributes,\n  setAttributesNS\n} from \"../utils\";\n\nconst telechartTitle = `${capitalize( TELECHART_NAME )} ${TELECHART_VERSION} (c) ${TELECHART_AUTHOR}`;\n\nlet INTERNAL_AUTOINCREMENT = 1;\n\nexport class SvgRenderer extends EventEmitter {\n\n  static NS = 'http://www.w3.org/2000/svg';\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = INTERNAL_AUTOINCREMENT++;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _parentContainer = null;\n\n  /**\n   * @type {SVGElement}\n   * @private\n   */\n  _svgContainer = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _minHeight = 450;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _minWidth = 100;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _width = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _height = null;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _isInitialized = false;\n\n  /**\n   * @param {Element|string} contextElement\n   */\n  constructor (contextElement) {\n    super();\n\n    this._parentContainer = resolveElement( contextElement );\n    this._init();\n  }\n\n  /**\n   * @param {*} attrs\n   * @param {Array<Element>} children\n   * @param {Element} parent\n   * @return {Element}\n   */\n  createGroup (attrs = {}, children = [], parent = this._svgContainer) {\n    const group = createElement('g', {\n      useNS: true,\n      attrs\n    }, children, SvgRenderer.NS);\n\n    parent.appendChild( group );\n\n    return group;\n  }\n\n  /**\n   * @param {*} attrs\n   * @param {Array<Element>|*} children\n   * @param {Element} parent\n   * @return {SVGClipPathElement}\n   */\n  createClipPath (attrs = {}, children = [], parent = this._svgContainer) {\n    const clipPath = createElement('clipPath', {\n      useNS: true,\n      attrs\n    }, children, SvgRenderer.NS);\n\n    parent.appendChild( clipPath );\n\n    return clipPath;\n  }\n\n  /**\n   * @param {*} attrs\n   * @param {Array<Element>|*} children\n   * @param {Element} parent\n   * @return {SVGMaskElement}\n   */\n  createMask (attrs = {}, children = [], parent = this._svgContainer) {\n    const mask = createElement('mask', {\n      useNS: true,\n      attrs\n    }, children, SvgRenderer.NS);\n\n    parent.appendChild( mask );\n\n    return mask;\n  }\n\n  /**\n   * @param {*} attrs\n   * @param {Array<*>} stops\n   * @param {Element} parent\n   * @return {SVGLinearGradientElement}\n   */\n  createLinearGradient (attrs = {}, stops = [], parent = this._svgContainer) {\n    const stopElements = stops.map(stopAttrs => {\n      return createElement('stop', {\n        useNS: true,\n        attrs: stopAttrs\n      }, [], SvgRenderer.NS);\n    });\n\n    const gradient = createElement('linearGradient', {\n      useNS: true,\n      attrs\n    }, stopElements, SvgRenderer.NS);\n\n    parent.appendChild( gradient );\n\n    return gradient;\n  }\n\n  /**\n   * @param {string} text\n   * @param {Element} parent\n   * @return {SVGDescElement}\n   */\n  createDesc (text = '', parent = this._svgContainer) {\n    const group = createElement('desc', {\n      useNS: true\n    }, text, SvgRenderer.NS);\n    parent.appendChild( group );\n\n    return group;\n  }\n\n  /**\n   * @param {string} text\n   * @param {Object} attrs\n   * @param {Element} parent\n   * @return {SVGTextElement}\n   */\n  createText (text = '', attrs = {}, parent = this._svgContainer) {\n    const tspan = createElement('tspan', {\n      useNS: true\n    }, text, SvgRenderer.NS);\n\n    const textElement = createElement('text', {\n      useNS: true,\n      attrs\n    }, tspan, SvgRenderer.NS);\n\n    parent.appendChild( textElement );\n\n    return textElement;\n  }\n\n  /**\n   * @param {Element} parent\n   * @return {SVGDefsElement}\n   */\n  createDefs (parent = this._svgContainer) {\n    const element = createElement('defs', {\n      useNS: true\n    }, [], SvgRenderer.NS);\n\n    parent.appendChild( element );\n\n    return element;\n  }\n\n  /**\n   * @param {string} pathText\n   * @param {Object} attrs\n   * @param {Element} parent\n   * @return {SVGPathElement}\n   */\n  createPath (pathText, attrs = {}, parent = this._svgContainer) {\n    Object.assign(attrs, { d: pathText });\n\n    const pathElement = createElement('path', {\n      useNS: true,\n      attrs\n    }, [], SvgRenderer.NS);\n    parent.appendChild( pathElement );\n\n    return pathElement;\n  }\n\n  /**\n   * @param {SVGPathElement} pathElement\n   * @param {string} pathText\n   */\n  updatePath (pathElement, pathText) {\n    setAttributeNS( pathElement, 'd', pathText, null );\n  }\n\n  /**\n   * @param {number} width\n   * @param {number} height\n   * @param {*} attrs\n   * @param {SVGElement | Element} parent\n   * @return {SVGRectElement}\n   */\n  createRect (width, height, attrs = {}, parent = this._svgContainer) {\n    Object.assign(attrs, {\n      width, height\n    });\n\n    const rectElement = createElement('rect', {\n      useNS: true,\n      attrs\n    }, [], SvgRenderer.NS);\n\n    parent.appendChild( rectElement );\n\n    return rectElement;\n  }\n\n  /**\n   * @param {string} selector\n   * @return {Element}\n   */\n  querySelector (selector) {\n    return this._svgContainer.querySelector( selector );\n  }\n\n  /**\n   * @param {string} selector\n   * @return {Array<Element>}\n   */\n  querySelectorAll (selector) {\n    return Array.from( this._svgContainer.querySelectorAll( selector ) );\n  }\n\n  /**\n   * Destroy the renderer\n   */\n  destroy () {\n    this._detachEvents();\n    this._clearParentContainer();\n  }\n\n  /**\n   * @return {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @return {Element}\n   */\n  get parentContainer () {\n    return this._parentContainer;\n  }\n\n  /**\n   * @return {SVGElement}\n   */\n  get svgContainer () {\n    return this._svgContainer;\n  }\n\n  /**\n   * @return {number}\n   */\n  get width () {\n    return this._width;\n  }\n\n  /**\n   * @return {number}\n   */\n  get height () {\n    return this._height;\n  }\n\n  /**\n   * @return {string}\n   */\n  get viewBox () {\n    return [ 0, 0, this._width, this._height ].join( ' ' );\n  }\n\n  /**\n   * @private\n   */\n  _init () {\n    if (this._isInitialized) {\n      return;\n    }\n\n    this._updateDimensions();\n    this._svgContainer = this._createSvgContainer();\n    this._insertSvgContainer();\n\n    this.createDesc( telechartTitle );\n\n    this._attachEvents();\n\n    this._isInitialized = true;\n  }\n\n  /**\n   * @return {Element}\n   * @private\n   */\n  _createSvgContainer () {\n    const parentContainer = this._parentContainer;\n\n    if (!parentContainer) {\n      throw new Error( 'Parent container is not provided' );\n    }\n\n    return createElement('svg', {\n      useNS: false,\n      attrs: {\n        xmlns: SvgRenderer.NS,\n        version: '1.1',\n        width: this._width,\n        height: this._height,\n        viewBox: this.viewBox,\n        class: 'telechart-render'\n      }\n    }, [], SvgRenderer.NS);\n  }\n\n  /**\n   * @private\n   */\n  _insertSvgContainer () {\n    this._clearParentContainer();\n    this._parentContainer.appendChild( this._svgContainer );\n  }\n\n  /**\n   * @private\n   */\n  _updateDimensions () {\n    this._width = clampNumber(\n      getElementWidth( this._parentContainer ),\n      this._minWidth\n    );\n    this._height = this._minHeight;\n\n    if (this._svgContainer) {\n      setAttributes(this._svgContainer, {\n        width: this._width,\n        height: this._height,\n        viewBox: this.viewBox\n      });\n    }\n  }\n\n  /**\n   * @private\n   */\n  _clearParentContainer () {\n    // clears the child content\n    this._parentContainer.innerHTML = '';\n  }\n\n  /**\n   * @private\n   */\n  _onResize (ev) {\n    this._updateDimensions();\n    this.emit( 'resize', ev );\n  }\n\n  /**\n   * @private\n   */\n  _attachEvents () {\n    this._attachResizeListener();\n  }\n\n  /**\n   * @private\n   */\n  _detachEvents () {\n    this._detachResizeListener();\n  }\n\n  /**\n   * @private\n   */\n  _attachResizeListener () {\n    if (this._resizeListener) {\n      this._detachResizeListener();\n    }\n\n    this._resizeListener = this._onResize.bind( this );\n    window.addEventListener( 'resize', this._resizeListener );\n  }\n\n  /**\n   * @private\n   */\n  _detachResizeListener () {\n    if (!this._resizeListener) {\n      return;\n    }\n\n    window.removeEventListener( 'resize', this._resizeListener );\n    this._resizeListener = null;\n  }\n}\n","/**\n * @type {{x: string, line: string}}\n */\nexport const SeriesTypes = {\n  x: 'x',\n  line: 'line'\n};\n","export const PointTypes = {\n  point: 'point',\n  group: 'group',\n};\n\nlet POINT_AUTOINCREMENT = 1;\n\nexport class Point {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = POINT_AUTOINCREMENT++;\n\n  /**\n   * @enum 'point' | 'group'\n   * @type {string}\n   * @private\n   */\n  _type = 'point';\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _x = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _y = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _svgX = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _svgY = 0;\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  constructor (x = 0, y = 0) {\n    this._x = x;\n    this._y = y;\n  }\n\n  /**\n   * @param {string} pointType\n   */\n  setType (pointType = 'point') {\n    this._type = pointType;\n  }\n\n  /**\n   * @param {number} x\n   */\n  setX (x) {\n    this._x = x;\n  }\n\n  /**\n   * @param {number} y\n   */\n  setY (y) {\n    this._y = y;\n  }\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  setXY (x, y) {\n    this.setX( x );\n    this.setY( y );\n  }\n\n  /**\n   * @param {number} x\n   */\n  addX (x) {\n    this._x += x;\n  }\n\n  /**\n   * @param {number} y\n   */\n  addY (y) {\n    this._y += y;\n  }\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  addXY (x, y) {\n    this.addX( x );\n    this.addY( y );\n  }\n\n  /**\n   * @param {number} svgX\n   */\n  setSvgX (svgX) {\n    this._svgX = svgX;\n  }\n\n  /**\n   * @param {number} svgY\n   */\n  setSvgY (svgY) {\n    this._svgY = svgY;\n  }\n\n  /**\n   * @param {number} svgX\n   * @param {number} svgY\n   */\n  setSvgXY (svgX, svgY) {\n    this._svgX = svgX;\n    this._svgY = svgY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get x () {\n    return this._x;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get y () {\n    return this._y;\n  }\n\n  /**\n   * @return {number}\n   */\n  get svgX () {\n    return this._svgX;\n  }\n\n  /**\n   * @return {number}\n   */\n  get svgY () {\n    return this._svgY;\n  }\n\n  /**\n   * @returns {string}\n   */\n  get type () {\n    return this._type;\n  }\n}\n","import { EventEmitter } from '../misc/EventEmitter';\nimport * as timingFunctions from '../../utils';\n\nlet TWEEN_ID = 1;\n\nexport const TweenState = {\n  NOT_STARTED: 1,\n  RUNNING: 2,\n  PAUSED: 3,\n  COMPLETED: 4,\n  CANCELLED: 5\n};\n\nexport const TweenEvents = {\n  STARTED: 'started',\n  PAUSED: 'paused',\n  COMPLETE: 'complete',\n  CANCELLED: 'cancelled'\n};\n\nconst DEFAULT_PARAMS = {\n  timeScale: 1,\n  duration: 500,\n  timingFunction: 'linear'\n};\n\nexport class Tween extends EventEmitter {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = TWEEN_ID++;\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _params = {};\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _state = TweenState.NOT_STARTED;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _timeScale = DEFAULT_PARAMS.timeScale;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _timeElapsed = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _duration = DEFAULT_PARAMS.duration;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _timingFunctionName = DEFAULT_PARAMS.timingFunction;\n\n  /**\n   * @type {Function}\n   * @private\n   */\n  _timingFunction = () => {};\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _target = null;\n\n  /**\n   * @type {Array<string | number>}\n   * @private\n   */\n  _properties = [];\n\n  /**\n   * @type {Array}\n   * @private\n   */\n  _targetValues = [];\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _startValues = [];\n\n  /**\n   * @param {Array<*>} args\n   * @returns {Tween}\n   */\n  static create (...args) {\n    return new Tween( ...args );\n  }\n\n  /**\n   * @param {*} target\n   * @param {string|Array<string | number>} properties\n   * @param {number|Array<number>} targetValues\n   * @param {*} params\n   */\n  constructor (target, properties = [], targetValues = [], params = {}) {\n    super();\n\n    this._target = target;\n    this._properties = [].concat( properties );\n    this._targetValues = [].concat( targetValues );\n    this._initParams( params );\n  }\n\n  /**\n   * @param {number} deltaTime\n   */\n  update (deltaTime) {\n    if (!this.isRunning) {\n      return;\n    }\n\n    deltaTime *= this._timeScale;\n    this._timeElapsed += deltaTime;\n\n    this._updateAnimation( deltaTime );\n    this._checkDuration();\n  }\n\n  /**\n   * Runs animation\n   */\n  start () {\n    if (this.isNotStarted) {\n      this._startValues = this._getPropertyValues( this._properties );\n    }\n    this._state = TweenState.RUNNING;\n    this.emit( TweenEvents.STARTED );\n  }\n\n  /**\n   * Stops animation\n   */\n  pause () {\n    this._state = TweenState.PAUSED;\n    this.emit( TweenEvents.PAUSED );\n  }\n\n  /**\n   * Finish & dispose the tween\n   */\n  finish () {\n    this._state = TweenState.COMPLETED;\n    this.emit( TweenEvents.COMPLETE, this._timeElapsed );\n    this._dispose();\n  }\n\n  /**\n   * Cancels current animation\n   */\n  cancel () {\n    this._state = TweenState.CANCELLED;\n    this.emit( TweenEvents.CANCELLED, this._timeElapsed );\n    this._dispose();\n  }\n\n  /**\n   * @param {Array<number>} targetValues\n   */\n  patchAnimation (targetValues = []) {\n    this._targetValues = targetValues;\n    this._startValues = this._getPropertyValues( this._properties );\n    this._timeElapsed = 0;\n  }\n\n  /**\n   * @param {number} timeScale\n   */\n  setTimeScale (timeScale = 1) {\n    this._timeScale = timeScale;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isNotStarted () {\n    return this._state === TweenState.NOT_STARTED;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isRunning () {\n    return this._state === TweenState.RUNNING;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isPaused () {\n    return this._state === TweenState.PAUSED;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  get isCompleted () {\n    return this._state === TweenState.COMPLETED;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get timeScale () {\n    return this._timeScale;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get duration () {\n    return this._duration;\n  }\n\n  /**\n   * @returns {string}\n   */\n  get timingFunctionName () {\n    return this._timingFunctionName;\n  }\n\n  /**\n   * @returns {Function}\n   */\n  get timingFunction () {\n    return this._timingFunction;\n  }\n\n  /**\n   * @returns {number}\n   */\n  get timeRemaining () {\n    return Math.max( 0, Math.min( this._duration, this._duration - this._timeElapsed ) );\n  }\n\n  /**\n   * @returns {number}\n   */\n  get progress () {\n    return Math.min( 1, Math.max( 0, this._timeElapsed / this._duration ) );\n  }\n\n  /**\n   * @param {*} params\n   * @private\n   */\n  _initParams (params) {\n    let {\n      timeScale,\n      duration,\n      timingFunction\n    } = this._params = Object.assign( {}, DEFAULT_PARAMS, params );\n\n    this._timeScale = timeScale;\n    this._duration = duration;\n    this._timingFunctionName = timingFunction;\n    this._timingFunction = this._getTimingFunction( timingFunction );\n  }\n\n  /**\n   * @param {number} deltaTime\n   * @private\n   */\n  _updateAnimation (deltaTime) {\n    const progress = this.progress;\n    const timingProgress = this._timingFunction( progress );\n\n    for (let i = 0, length = this._properties.length; i < length; ++i) {\n      const property = this._properties[ i ];\n      const delta = ( this._targetValues[ i ] - this._startValues[ i ] ) * timingProgress;\n      this._target[ property ] = this._startValues[ i ] + delta;\n    }\n  }\n\n  /**\n   * @private\n   */\n  _checkDuration () {\n    if (this._timeElapsed >= this._duration) {\n      this.finish();\n    }\n  }\n\n  /**\n   * @param {Array<string>} properties\n   * @returns {Array<number>}\n   * @private\n   */\n  _getPropertyValues (properties = []) {\n    let values = [];\n    for (let i = 0, length = properties.length; i < length; ++i) {\n      values[ i ] = this._getPropertyValue( properties[i] );\n    }\n    return values;\n  }\n\n  /**\n   * @param {string} property\n   * @returns {number}\n   * @private\n   */\n  _getPropertyValue (property) {\n    return this._target[ property ] || 0;\n  }\n\n  /**\n   * @param {string} functionName\n   * @returns {Function}\n   * @private\n   */\n  _getTimingFunction (functionName) {\n    const defaultFunctionName = DEFAULT_PARAMS.timingFunction;\n    return timingFunctions[ functionName ] || timingFunctions[ defaultFunctionName ];\n  }\n\n  /**\n   * Disposes the object\n   *\n   * @private\n   */\n  _dispose () {\n    this._params = null;\n    this._timingFunction = null;\n    this._targetValues = null;\n    this._startValues = null;\n    this._properties = null;\n    this._target = null;\n\n    this.removeAllListeners();\n  }\n}\n","import { EventEmitter } from '../misc/EventEmitter';\nimport { arrayMinMax, arraysEqual, setAttributeNS } from '../../utils';\nimport { Point } from '../point/Point';\nimport { PointGroup } from '../point/PointGroup';\nimport { Tween, TweenEvents } from '../animation/Tween';\n\nlet SERIES_AUTOINCREMENT = 1;\n\nexport const OpacityAnimationType = {\n  hiding: 1,\n  showing: 2\n};\n\nexport class Series extends EventEmitter {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = SERIES_AUTOINCREMENT++;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _parent = null;\n\n  /**\n   * @type {SvgRenderer}\n   * @private\n   */\n  _renderer = null;\n\n  /**\n   * @type {Chart}\n   * @private\n   */\n  _chart = null;\n\n  /**\n   * @type {{xAxis: Array<number>, yAxis: Array<number>, label: string, type: string, name: string, color: string, options: *}}\n   * @private\n   */\n  _settings = {};\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _seriesOptions = {};\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _xAxis = [];\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _yAxis = [];\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _name = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _label = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _color = '#31a8dc';\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _strokeWidth = 1;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _visible = true;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _group = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _pathText = null;\n\n  /**\n   * @type {SVGPathElement}\n   * @private\n   */\n  _pathElement = null;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _pathUpdateNeeded = false;\n\n  /**\n   * @type {Array<Point>}\n   * @private\n   */\n  _points = [];\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMaxY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMinY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _opacity = 1;\n\n  /**\n   * @type {Tween}\n   * @private\n   */\n  _opacityAnimation = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _opacityAnimationType = null;\n\n  /**\n   * @param {SvgRenderer} renderer\n   * @param {Element} parent\n   * @param {*} settings\n   */\n  constructor (renderer, parent, settings = {}) {\n    super();\n\n    this._renderer = renderer;\n    this._parent = parent;\n    this._settings = settings;\n    this._parseSettings();\n  }\n\n  /**\n   * Initializes series with options\n   */\n  initialize () {\n    this._createPoints();\n    this._addEvents();\n  }\n\n  /**\n   * @param {number} deltaTime\n   */\n  update (deltaTime) {\n    if (this._pathUpdateNeeded) {\n      this.updateViewportPoints();\n      this.updatePath();\n\n      this._pathUpdateNeeded = false;\n    }\n\n    if (this._opacityAnimation\n      && this._opacityAnimation.isRunning) {\n      this._opacityAnimation.update( deltaTime );\n      this.updatePathOpacity();\n    }\n  }\n\n  /**\n   * Creates path\n   */\n  firstRender () {\n    if (this._pathElement) {\n      return;\n    }\n\n    // update svgX & svgY for each point\n    this.updateViewportPoints();\n\n    // creates and stores wrapper for following path element\n    this._createGroup();\n\n    // creates and stores initial path element\n    this._createPath();\n  }\n\n  /**\n   * @param {Chart | NavigatorChart | BaseChart} chart\n   */\n  setChart (chart) {\n    this._chart = chart;\n  }\n\n  /**\n   * Shows series on the chart\n   */\n  setVisible () {\n    this._visible = true;\n    this._createShowingAnimation();\n\n    this.emit( 'visibleChange', this._visible );\n  }\n\n  /**\n   * Hides series from the chart\n   */\n  setInvisible () {\n    this._visible = false;\n    this._createHidingAnimation();\n\n    this.emit( 'visibleChange', this._visible );\n  }\n\n  /**\n   * Toggles series\n   */\n  toggleVisible () {\n    this._visible\n      ? this.setInvisible()\n      : this.setVisible();\n  }\n\n  /**\n   * @private\n   */\n  updateLocalExtremes () {\n    const [ rangeStartIndex, rangeEndIndex ] = this._chart._viewportRangeIndexes;\n\n    const [ minValue, maxValue ] = arrayMinMax(\n      this._yAxis, rangeStartIndex, rangeEndIndex\n    );\n\n    this._localMinY = minValue;\n    this._localMaxY = maxValue;\n  }\n\n  /**\n   * Updates viewport points\n   */\n  updateViewportPoints () {\n    this._chart._useViewportPointsInterval\n      ? this.updateViewportPointsByInterval()\n      : this.updateViewportPointsByArray();\n  }\n\n  /**\n   * Updates points by array of points\n   */\n  updateViewportPointsByArray () {\n    const indexes = this._chart._viewportPointsIndexes;\n\n    for (let i = 0; i < indexes.length; ++i) {\n      const pointIndex = indexes[ i ];\n      const point = this._points[ pointIndex ];\n      point.setSvgXY(\n        this._projectXToSvg( point.x ),\n        this._projectYToSvg( point.y ),\n      );\n    }\n  }\n\n  /**\n   * Updates points by interval\n   */\n  updateViewportPointsByInterval () {\n    const [ startIndex, endIndex ] = this._chart._viewportPointsIndexes;\n    for (let i = startIndex; i <= endIndex; ++i) {\n      const point = this._points[ i ];\n      point.setSvgXY(\n        this._projectXToSvg( point.x ),\n        this._projectYToSvg( point.y ),\n      );\n    }\n  }\n\n  /**\n   * Recompute path text\n   */\n  updatePath () {\n    this._updatePathText();\n    this._renderer.updatePath( this._pathElement, this._pathText );\n  }\n\n  /**\n   * Recompute path text\n   */\n  updatePathOpacity () {\n    setAttributeNS( this._pathElement, 'opacity', this._opacity, null );\n  }\n\n  /**\n   * Mark to update path in next animation frame\n   */\n  requestPathUpdate () {\n    this._pathUpdateNeeded = true;\n  }\n\n  /**\n   * @return {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @return {string}\n   */\n  get label () {\n    return this._label;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get isVisible () {\n    return this._visible;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMinY () {\n    return this._localMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMaxY () {\n    return this._localMaxY;\n  }\n\n  /**\n   * @return {string}\n   */\n  get opacityAnimationType () {\n    return this._opacityAnimationType;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get isShowing () {\n    return this._opacityAnimationType === OpacityAnimationType.showing;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get isHiding () {\n    return this._opacityAnimationType === OpacityAnimationType.hiding;\n  }\n\n  /**\n   * @private\n   */\n  _parseSettings () {\n    const {\n      xAxis, yAxis,\n      label, type,\n      color, name,\n      options = {}\n    } = this._settings;\n\n    this._xAxis = xAxis;\n    this._yAxis = yAxis;\n    this._label = label;\n    this._color = color;\n    this._name = name;\n\n    const {\n      strokeWidth = 1\n    } = options;\n\n    this._strokeWidth = strokeWidth;\n\n    this._seriesOptions = options;\n  }\n\n  /**\n   * @private\n   */\n  _createGroup () {\n    this._group = this._renderer.createGroup({\n      class: 'telechart-series-path-group',\n      id: `telechart-path-${this._id}`,\n      x: 0,\n      y: 0\n    }, [], this._parent);\n  }\n\n  /**\n   * @private\n   */\n  _createPath () {\n    this._updatePathText();\n\n    this._pathElement = this._renderer.createPath(this._pathText, {\n      class: 'telechart-series-path',\n      d: this._pathText,\n      fill: 'none',\n      stroke: this._color,\n      strokeWidth: this._strokeWidth,\n      strokeLinejoin: 'round',\n      strokeLinecap: 'round'\n    }, this._group);\n  }\n\n  /**\n   * @private\n   */\n  _updatePathText () {\n    this._pathText = this._chart._useViewportPointsInterval\n      ? this._computePathTextByInterval( this._chart._viewportPointsIndexes )\n      : this._computePathTextByArray( this._chart._viewportPointsIndexes );\n  }\n\n  /**\n   * @private\n   */\n  _createPoints () {\n    const xAxis = this._xAxis;\n    const yAxis = this._yAxis;\n\n    for (let i = 0; i < xAxis.length; ++i) {\n      this._points.push(\n        new Point( xAxis[ i ], yAxis[ i ] )\n      );\n    }\n  }\n\n  /**\n   * @param {number} x\n   * @return {number}\n   * @private\n   */\n  _projectXToSvg (x) {\n    return this._toRelativeX( x ) / this._chart._viewportPixelX;\n  }\n\n  /**\n   * @param {number} y\n   * @return {number}\n   * @private\n   */\n  _projectYToSvg (y) {\n    return this._chart.chartHeight - ( y - this._chart.currentLocalMinY ) / this._chart._viewportPixelY;\n  }\n\n  /**\n   * @private\n   */\n  _addEvents () {\n    this._renderer.on('resize', _ => {\n      this._onRendererResize();\n    });\n  }\n\n  /**\n   * @private\n   */\n  _onRendererResize () {\n    this._pathUpdateNeeded = true;\n  }\n\n  /**\n   * @param {number} x\n   * @return {number}\n   * @private\n   */\n  _toRelativeX (x) {\n    return x - this._chart._viewportRange[ 0 ];\n  }\n\n  /**\n   * @param {Array<number>} indexes\n   * @return {string}\n   * @private\n   */\n  _computePathTextByArray (indexes) {\n    let result = '';\n\n    if (!indexes.length) {\n      return result;\n    }\n\n    result += 'M';\n\n    let point;\n\n    for (let i = 0; i < indexes.length; ++i) {\n      if (i !== 0) {\n        result += 'L';\n      }\n\n      point = this._points[ indexes[ i ] ];\n\n      result += point.svgX + ' ' + point.svgY;\n    }\n\n    return result;\n  }\n\n  /**\n   * @param {Array<number>} interval\n   * @return {string}\n   * @private\n   */\n  _computePathTextByInterval (interval) {\n    let result = '';\n\n    if (!interval.length\n      || interval[ 1 ] - interval[ 0 ] <= 0) {\n      return result;\n    }\n\n    result += 'M';\n\n    const [ startIndex, endIndex ] = interval;\n\n    for (let i = startIndex; i <= endIndex; ++i) {\n      const point = this._points[ i ];\n\n      if (i !== startIndex) {\n        result += 'L';\n      }\n\n      result += point.svgX + ' ' + point.svgY;\n    }\n\n    return result;\n  }\n\n  /**\n   * @private\n   */\n  _createShowingAnimation () {\n    if (this._opacityAnimation\n      && this._opacityAnimationType === OpacityAnimationType.showing) {\n      return;\n    }\n    this._createOpacityAnimation( 1 );\n    this._opacityAnimationType = OpacityAnimationType.showing;\n  }\n\n  /**\n   * @private\n   */\n  _createHidingAnimation () {\n    if (this._opacityAnimation\n      && this._opacityAnimationType === OpacityAnimationType.hiding) {\n      return;\n    }\n    this._createOpacityAnimation( 0 );\n    this._opacityAnimationType = OpacityAnimationType.hiding;\n  }\n\n  /**\n   * @param {number} opacity\n   * @private\n   */\n  _createOpacityAnimation (opacity) {\n    this._opacityAnimation = new Tween(this, '_opacity', opacity, {\n      duration: 300,\n      timingFunction: 'easeInOutQuad'\n    });\n\n    const onFinished = _ => {\n      this._opacityAnimation = null;\n      this._opacityAnimationType = null;\n      this.requestPathUpdate();\n    };\n\n    this._opacityAnimation.on( TweenEvents.COMPLETE, onFinished );\n    this._opacityAnimation.on( TweenEvents.CANCELLED, onFinished );\n\n    this._opacityAnimation.start();\n  }\n}\n","/**\n * @type {{navigatorChart: string, chart: string}}\n */\nexport const ChartTypes = {\n  chart: 'chart',\n  navigatorChart: 'navigatorChart'\n};\n","export const ChartEvents = {\n  SERIES_VISIBLE_CHANGE: 'seriesVisibleChange'\n};\n","import { EventEmitter } from '../misc/EventEmitter';\nimport { SeriesTypes } from '../series/SeriesTypes';\nimport { Series } from '../series/Series';\nimport { arraysEqual, binarySearchIndexes, clampNumber, ensureNumber, isDate, setAttributeNS } from '../../utils';\nimport { Tween, TweenEvents } from '../animation/Tween';\nimport { ChartTypes } from './ChartTypes';\nimport { ChartEvents } from './events/ChartEvents';\n\nlet CHART_ID = 1;\n\nexport class BaseChart extends EventEmitter {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _id = CHART_ID++;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _type = '';\n\n  /**\n   * @type {SvgRenderer}\n   * @private\n   */\n  _renderer = null;\n\n  /**\n   * @type {Object}\n   * @private\n   */\n  _options = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartHeight = 280;\n\n  /**\n   * @type {number}\n   * @private\n   * @default 2\n   */\n  _groupingPixels = 2;\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _xAxis = [];\n\n  /**\n   * @type {Array<Series>}\n   * @private\n   */\n  _series = [];\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _seriesGroup = null;\n\n  /**\n   * @type {SVGDefsElement}\n   * @private\n   */\n  _defs = null;\n\n  /**\n   * @type {SVGMaskElement}\n   * @private\n   */\n  _chartMask = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _chartMaskId = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartMaskPadding = 0;\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _viewportRange = [];\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _viewportRangeIndexes = [];\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _viewportPointsIndexes = [ 0, 0 ];\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _useViewportPointsInterval = false;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportDistance = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportPixelX = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportPixelY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportPadding = 13;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportLeftPaddingScale = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _viewportRightPaddingScale = 0;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _viewportRangeUpdateNeeded = false;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _viewportPointsGroupingNeeded = false;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMinY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _localMaxY = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _currentLocalMinY = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _currentLocalMaxY = null;\n\n  /**\n   * @type {Tween}\n   * @private\n   */\n  _minMaxYAnimation = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _minMaxYAnimationSign = null;\n\n  /**\n   * @type {Tween}\n   * @private\n   */\n  _rangeAnimation = null;\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _rangeAnimationObject = {};\n\n  /**\n   * @param {SvgRenderer} renderer\n   * @param {Object} options\n   */\n  constructor (renderer, options = {}) {\n    super();\n\n    this._renderer = renderer;\n    this._options = options;\n  }\n\n  initialize () {\n    this.resolveDefs();\n    this.createChartMask();\n\n    this.createSeriesGroup();\n    this.createSeries();\n\n    this.addEvents();\n\n    this.setInitialRange();\n    this.approximateViewportPoints();\n  }\n\n  /**\n   * @param {number} deltaTime\n   */\n  update (deltaTime) {\n    let extremesUpdated = false;\n\n    if (this._minMaxYAnimation && this._minMaxYAnimation.isRunning) {\n      this._minMaxYAnimation.update( deltaTime );\n\n      extremesUpdated = true;\n    }\n\n    const hasRangeAnimation = this._rangeAnimation && this._rangeAnimation.isRunning;\n\n    if (this._viewportRangeUpdateNeeded || hasRangeAnimation) {\n      if (hasRangeAnimation) {\n        this._rangeAnimation.update( deltaTime );\n\n        this.updateViewportRange([\n          this._rangeAnimationObject.from,\n          this._rangeAnimationObject.to\n        ], { skipExtremes: false });\n      } else {\n        this.updateViewportRange();\n      }\n\n      this._viewportRangeUpdateNeeded = false;\n    }\n\n    if (this._viewportPointsGroupingNeeded) {\n      this.approximateViewportPoints();\n\n      this._viewportPointsGroupingNeeded = false;\n    }\n\n    if (extremesUpdated) {\n      this.updateViewportPixel();\n    }\n\n    this.eachSeries(line => {\n      const hasOpacityAnimation = line.isHiding;\n      const isNavigatorPath = this._type === ChartTypes.navigatorChart;\n\n      if (extremesUpdated && !(isNavigatorPath && hasOpacityAnimation)) {\n        line.requestPathUpdate();\n      }\n\n      line.update( deltaTime );\n    });\n  }\n\n  /**\n   * Draws initial chart\n   */\n  firstRender () {\n    this.eachSeries(line => line.firstRender());\n  }\n\n  /**\n   * Creates SVG group for storing series paths\n   * @abstract\n   */\n  createSeriesGroup () {\n  }\n\n  /**\n   * Creates array of series\n   */\n  createSeries () {\n    const {\n      series: data,\n      seriesOptions: options = {}\n    } = this._options || {};\n\n    const groupingOptions = options.grouping;\n    if (groupingOptions) {\n      if (groupingOptions.pixels) {\n        this._groupingPixels = ensureNumber( groupingOptions.pixels );\n      }\n    }\n\n    const {\n      columns,\n      types,\n      colors,\n      names\n    } = data;\n\n    const xAxisIndex = columns.findIndex(column => {\n      return types[ column[ 0 ] ] === SeriesTypes.x;\n    });\n    const xAxis = this._xAxis = columns[ xAxisIndex ].slice( 1 );\n\n    let yAxes = columns.slice(); // copy an array to change later\n    yAxes.splice( xAxisIndex, 1 ); // remove x axis from the array\n\n    for (let i = 0; i < yAxes.length; ++i) {\n      const yAxis = yAxes[ i ].slice();\n      const label = yAxis.shift();\n      const type = types[ label ];\n      const color = colors[ label ];\n      const name = names[ label ];\n\n      // prepare series settings\n      const settings = {\n        xAxis, yAxis, label, type,\n        color, name, options: this.extendSeriesOptions( options )\n      };\n\n      // create instance\n      const series = new Series( this._renderer, this._seriesGroup, settings );\n      series.initialize();\n\n      // provide context for each series\n      series.setChart( this );\n\n      this._series.push( series );\n    }\n  }\n\n  /**\n   * Creates or resolves defs element in SVG container\n   */\n  resolveDefs () {\n    if (this._defs) {\n      return;\n    }\n    const defs = this._renderer.svgContainer.querySelector( 'defs' );\n    this._defs = !defs\n      ? this._renderer.createDefs()\n      : defs;\n  }\n\n  /**\n   * Creates clip mask for the chart and top-bottom shadow mask\n   */\n  createChartMask () {\n    const padding = this._chartMaskPadding;\n\n    this._chartMaskId = `telechart-mask-${this.id}`;\n\n    this._chartMask = this.renderer.createMask({\n      id: this._chartMaskId\n    }, [], this.defs);\n\n    const gradientId = `telechart-mask-gradient-${this.id}`;\n    const sharpGradient = this._type === ChartTypes.navigatorChart;\n\n    // create gradient for rectangle\n    this.renderer.createLinearGradient({\n      id: gradientId,\n      gradientTransform: 'rotate(90)'\n    }, [\n      { offset: '0', stopColor: 'white', stopOpacity: 0 },\n      { offset: sharpGradient ? '0.1%' : '5%', stopColor: 'white', stopOpacity: 1 },\n      { offset: '99.9%', stopColor: 'white', stopOpacity: 1 },\n      { offset: '100%', stopColor: 'white', stopOpacity: 0 },\n    ], this.defs);\n\n    // create rectangle with gradient and append to mask\n    this.renderer.createRect(this.chartWidth, this.chartHeight + padding + 1, {\n      fill: `url(#${gradientId})`,\n      x: 0,\n      y: -padding,\n    }, this._chartMask);\n  }\n\n  /**\n   * Sets initial viewport range for the chart\n   */\n  setInitialRange () {\n    this.setViewportRange();\n  }\n\n  /**\n   * @param {number} minX\n   * @param {number} maxX\n   * @param {*} options\n   */\n  animateViewportRangeTo (minX = -Infinity, maxX = Infinity, options = {}) {\n    const {\n      duration = 300,\n      timingFunction = 'easeInOutQuad',\n      preservePadding = false\n    } = options;\n\n    const [ newMinX, newMaxX ] = this._clampViewportRange( minX, maxX, preservePadding );\n\n    if (this._rangeAnimation) {\n      return this._rangeAnimation.patchAnimation( [ newMinX, newMaxX ] );\n    }\n\n    this._rangeAnimationObject = {\n      from: this._viewportRange[ 0 ],\n      to: this._viewportRange[ 1 ]\n    };\n\n    this._rangeAnimation = new Tween(this._rangeAnimationObject, [ 'from', 'to' ], [\n      newMinX, newMaxX\n    ], {\n      duration, timingFunction\n    });\n\n    const onFinished = _ => {\n      this._rangeAnimation = null;\n    };\n\n    this._rangeAnimation.on( TweenEvents.COMPLETE, onFinished );\n    this._rangeAnimation.on( TweenEvents.CANCELLED, onFinished );\n\n    this._rangeAnimation.start();\n  }\n\n  /**\n   * @param {number|Date} minX\n   * @param {number|Date} maxX\n   * @param {boolean} skipExtremes\n   * @param {boolean} preservePadding\n   */\n  setViewportRange (minX = -Infinity, maxX = Infinity, { skipExtremes = false, preservePadding = false } = {}) {\n    // recompute X boundaries\n    this._setViewportRange( minX, maxX, preservePadding );\n\n    // remember last indexes\n    const oldRangeIndexes = this._viewportRangeIndexes;\n\n    // recompute indexes range\n    this._updateViewportIndexes();\n\n    let localExtremesUpdateRequested = false;\n\n    if (!arraysEqual( this._viewportRangeIndexes, oldRangeIndexes )) {\n      // do not recompute groups while first render\n      if (oldRangeIndexes.length > 0) {\n        // recompute approximation in next animation update\n        this._viewportPointsGroupingNeeded = true;\n      }\n\n      localExtremesUpdateRequested = true;\n    }\n\n    const updateExtremes = !skipExtremes && localExtremesUpdateRequested;\n\n    this.eachSeries(line => {\n      // update local extremes only if indexes range changed\n      if (updateExtremes) {\n        // update minY and maxY local values for each line\n        line.updateLocalExtremes();\n      }\n\n      // recompute and repaint path in next animation update\n      line.requestPathUpdate();\n    });\n\n    if (updateExtremes) {\n      // update local extremes on chart level\n      this.updateLocalExtremes();\n    }\n\n    // recompute pixel value (e.g. for animation)\n    this.updateViewportPixel();\n  }\n\n  /**\n   * Recompute key variables for viewport range\n   *\n   * @param {Array<number>} viewportRange\n   * @param {*} options\n   */\n  updateViewportRange (viewportRange = this._viewportRange, options = {}) {\n    const {\n      skipExtremes = true,\n      preservePadding = true\n    } = options;\n\n    // recompute X boundaries\n    this.setViewportRange(\n      viewportRange[ 0 ],\n      viewportRange[ 1 ], {\n        skipExtremes,\n        preservePadding\n      }\n    );\n  }\n\n  /**\n   * Approximate points for better performance\n   */\n  approximateViewportPoints () {\n    let [ startIndex, endIndex ] = this._viewportRangeIndexes;\n\n    startIndex = Math.max( 0, startIndex - 1 );\n    endIndex = Math.min( this._xAxis.length - 1, endIndex + 1 );\n\n    // if we have no enough points\n    // then we don't need to approximate\n    if (endIndex - startIndex < 400) {\n      // just save indexes of points for increase performance\n      // [ startIndex, endIndex ]\n      this._viewportPointsIndexes[ 0 ] = startIndex;\n      this._viewportPointsIndexes[ 1 ] = endIndex;\n      this._useViewportPointsInterval = true;\n\n      // all work done here\n      return;\n    }\n\n    const boostLimit = 500;\n    const boostScale = 1 + this._xAxis.length > boostLimit\n      ? Math.max(0, ( endIndex - startIndex ) / this._xAxis.length ) * 2\n      : 0;\n\n    let groupingDistanceLimitX = boostScale * this._groupingPixels * this._viewportPixelX;\n\n    let viewportIndexes = [];\n    let groupStartIndex = startIndex;\n\n    for (let i = startIndex + 1; i <= endIndex; ++i) {\n      const pointX = this._xAxis[ i ];\n\n      const groupStartDifferenceX = pointX - this._xAxis[ groupStartIndex ];\n\n      if (groupStartDifferenceX >= groupingDistanceLimitX || i === endIndex) {\n        if (groupStartIndex !== i - 1) {\n          // we have 2 or more points to group\n          // [ startIndex, lastIndex ] all indexes inclusive\n          const endIndex = i - 1;\n          const middleIndex = ( groupStartIndex + endIndex ) >> 1;\n          viewportIndexes.push( middleIndex );\n        } else {\n          if (startIndex === i - 1) {\n            // add first point\n            viewportIndexes.push( startIndex );\n          }\n\n          viewportIndexes.push( i );\n        }\n\n        groupStartIndex = i;\n      }\n    }\n\n    this._viewportPointsIndexes = viewportIndexes;\n    this._useViewportPointsInterval = false;\n  }\n\n  /**\n   * Find new local min and max extremes among visible series\n   */\n  updateLocalExtremes () {\n    let localMinY = 0;\n    let localMaxY = 0;\n\n    this.eachSeries(line => {\n      if (!line.isVisible) {\n        // find among visible series\n        return;\n      }\n\n      if (localMinY > line.localMinY) {\n        localMinY = line.localMinY;\n      }\n      if (localMaxY < line.localMaxY) {\n        localMaxY = line.localMaxY;\n      }\n    });\n\n    let oldLocalMinY = this._localMinY;\n    let oldLocalMaxY = this._localMaxY;\n\n    this._localMinY = localMinY;\n    this._localMaxY = localMaxY;\n\n    let updateAnimation = false;\n\n    if (typeof this._currentLocalMinY !== 'number') {\n      // set initial local min y\n      this._currentLocalMinY = this._localMinY;\n    } else if (this._localMinY !== oldLocalMinY) {\n      updateAnimation = true;\n    }\n\n    if (typeof this._currentLocalMaxY !== 'number') {\n      // set initial local max y\n      this._currentLocalMaxY = this._localMaxY;\n    } else if (this._localMaxY !== oldLocalMaxY) {\n      updateAnimation = true;\n    }\n\n    if (updateAnimation) {\n      this._updateOrCreateMinMaxYAnimation();\n    }\n  }\n\n  /**\n   * @param {number} minX\n   * @param {number} maxX\n   * @return {number}\n   */\n  computeViewportPixelX (minX = this._viewportRange[ 0 ], maxX = this._viewportRange[ 1 ]) {\n    return ( maxX - minX ) / this.chartWidth;\n  }\n\n  /**\n   * Updates pixel value for each axis\n   */\n  updateViewportPixel () {\n    this._viewportPixelX = this._viewportDistance / this.chartWidth;\n    this._viewportPixelY = this.currentLocalExtremeDifference / this.chartHeight;\n  }\n\n  /**\n   * @param {number} localMinX\n   * @param {number} localMaxX\n   * @return {number}\n   */\n  computeViewportPadding (localMinX, localMaxX) {\n    return this.computeViewportPixelX( localMinX, localMaxX ) * this._viewportPadding;\n  }\n\n  /**\n   * Initialize chart events\n   */\n  addEvents () {\n    this._renderer.on('resize', _ => {\n      this.onRendererResize();\n    });\n\n    this.eachSeries(line => {\n      line.on('visibleChange', _ => {\n        this.onSeriesVisibleChange( line );\n      });\n    });\n  }\n\n  /**\n   * Resize event handler\n   */\n  onRendererResize () {\n    // making request for future animation update\n    this._viewportRangeUpdateNeeded = true;\n    this._viewportPointsGroupingNeeded = true;\n\n    this._updateMaskDimensions()\n  }\n\n  /**\n   * @param {Series} line\n   */\n  onSeriesVisibleChange (line) {\n    // find new extremes and scale\n    this.updateLocalExtremes();\n    \n    this.emit( ChartEvents.SERIES_VISIBLE_CHANGE, line );\n  }\n\n  /**\n   * @param {string} label\n   * @return {Series}\n   */\n  getSeriesByLabel (label) {\n    return this.findSeries(line => {\n      return line.label === label;\n    });\n  }\n\n  /**\n   * @param {string} label\n   */\n  setSeriesVisible (label) {\n    const series = this.getSeriesByLabel( label );\n    if (series) {\n      series.setVisible();\n    }\n  }\n\n  /**\n   * @param {string} label\n   */\n  setSeriesInvisible (label) {\n    const series = this.getSeriesByLabel( label );\n    if (series) {\n      series.setInvisible();\n    }\n  }\n\n  /**\n   * @param {string} label\n   */\n  toggleSeriesInvisible (label) {\n    const series = this.getSeriesByLabel( label );\n    if (series) {\n      series.toggleVisible();\n    }\n  }\n\n  /**\n   * @param {Function} predicate\n   * @return {Series}\n   */\n  findSeries (predicate) {\n    for (let i = 0; i < this._series.length; ++i) {\n      if (predicate( this._series[ i ] )) {\n        return this._series[ i ];\n      }\n    }\n  }\n\n  /**\n   * @param {Function} fn\n   */\n  eachSeries (fn = () => {}) {\n    for (let i = 0; i < this._series.length; ++i) {\n      fn( this._series[ i ], i );\n    }\n  }\n\n  /**\n   * @param {Object} options\n   * @return {*}\n   */\n  extendSeriesOptions (options) {\n    return options;\n  }\n\n  /**\n   * @param {string} type\n   */\n  setChartType (type) {\n    this._type = type;\n  }\n\n  /**\n   * @return {number}\n   */\n  get id () {\n    return this._id;\n  }\n\n  /**\n   * @return {string}\n   */\n  get chartType () {\n    return this._type;\n  }\n\n  /**\n   * @return {SvgRenderer}\n   */\n  get renderer () {\n    return this._renderer;\n  }\n\n  /**\n   * @return {Array<number>}\n   */\n  get xAxis () {\n    return this._xAxis;\n  }\n\n  /**\n   * @return {Array<number>}\n   */\n  get viewportRange () {\n    return this._viewportRange;\n  }\n\n  /**\n   * @return {Array<number>}\n   */\n  get viewportRangeIndexes () {\n    return this._viewportRangeIndexes;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localExtremeDifference () {\n    return this._localMaxY - this._localMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get currentLocalExtremeDifference () {\n    return this._currentLocalMaxY - this._currentLocalMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMinY () {\n    return this._localMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get localMaxY () {\n    return this._localMaxY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get currentLocalMinY () {\n    return this._currentLocalMinY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get currentLocalMaxY () {\n    return this._currentLocalMaxY;\n  }\n\n  /**\n   * @return {number}\n   */\n  get chartWidth () {\n    return this._renderer.width;\n  }\n\n  /**\n   * @return {number}\n   */\n  get chartHeight () {\n    return this._chartHeight;\n  }\n\n  /**\n   * @return {string}\n   */\n  get chartMaskId () {\n    return this._chartMaskId;\n  }\n\n  /**\n   * @return {Tween}\n   */\n  get minMaxYAnimation () {\n    return this._minMaxYAnimation;\n  }\n\n  /**\n   * @return {SVGDefsElement}\n   */\n  get defs () {\n    return this._defs;\n  }\n\n  /**\n   * @return {number}\n   */\n  get navigatorDistanceScale () {\n    return this._navigatorDistanceScale;\n  }\n\n  /**\n   * @private\n   */\n  _updateViewportIndexes () {\n    const [ rangeStart, rangeEnd ] = this._viewportRange;\n    const [ minLowerIndex, minUpperIndex ] = binarySearchIndexes( this._xAxis, rangeStart );\n    const [ maxLowerIndex, maxUpperIndex ] = binarySearchIndexes( this._xAxis, rangeEnd );\n\n    this._viewportRangeIndexes = [ minUpperIndex, maxLowerIndex ];\n  }\n\n  /**\n   * @param {number} minX\n   * @param {number} maxX\n   * @param {boolean} preservePadding\n   * @private\n   */\n  _setViewportRange (minX, maxX, preservePadding = false) {\n    const [ newMinX, newMaxX ] = this._clampViewportRange( minX, maxX, preservePadding );\n\n    this._viewportRange = [ newMinX, newMaxX ];\n    this._viewportDistance = newMaxX - newMinX;\n  }\n\n  /**\n   * @param {number | Date} minX\n   * @param {number | Date} maxX\n   * @param {boolean} preservePadding\n   * @private\n   */\n  _clampViewportRange (minX, maxX, preservePadding = false) {\n    const xAxis = this._xAxis;\n\n    const globalMinX = xAxis[ 0 ];\n    const globalMaxX = xAxis[ xAxis.length - 1 ];\n\n    if (isDate( minX )) {\n      minX = minX.getTime();\n    }\n    if (isDate( maxX )) {\n      maxX = maxX.getTime();\n    }\n\n    if (minX > maxX) {\n      [ minX, maxX ] = [ maxX, minX ];\n    }\n\n    let newMinX = clampNumber( minX, globalMinX, globalMaxX );\n    let newMaxX = clampNumber( maxX, globalMinX, globalMaxX );\n\n    const actualPaddingX = this.computeViewportPadding( newMinX, newMaxX );\n\n    const receivedLeftPaddingX = clampNumber( newMinX - minX, 0, actualPaddingX );\n    const receivedRightPaddingX = clampNumber( maxX - newMaxX, 0, actualPaddingX );\n\n    if (!preservePadding) {\n      this._viewportLeftPaddingScale = receivedLeftPaddingX / actualPaddingX;\n    }\n    if (this._viewportLeftPaddingScale > 0) {\n      newMinX -= actualPaddingX * this._viewportLeftPaddingScale;\n    }\n\n    if (!preservePadding) {\n      this._viewportRightPaddingScale = receivedRightPaddingX / actualPaddingX;\n    }\n    if (this._viewportRightPaddingScale > 0) {\n      newMaxX += actualPaddingX * this._viewportRightPaddingScale;\n    }\n\n    return [ newMinX, newMaxX ];\n  }\n\n  /**\n   * @private\n   */\n  _updateOrCreateMinMaxYAnimation () {\n    if (!this._minMaxYAnimation) {\n      return this._createMinMaxYAnimation();\n    }\n\n    const currentLocalExtremeDifference = this.currentLocalExtremeDifference;\n    const newLocalExtremeDifference = this.localExtremeDifference;\n    const animationSign = currentLocalExtremeDifference < newLocalExtremeDifference;\n\n    if (animationSign !== this._minMaxYAnimationSign) {\n      return this._createMinMaxYAnimation();\n    }\n\n    this._patchMinMaxYAnimation();\n  }\n\n  /**\n   * @private\n   */\n  _createMinMaxYAnimation () {\n    if (this._minMaxYAnimation) {\n      this._minMaxYAnimation.cancel();\n    }\n\n    this._updateMinMaxAnimationSign();\n\n    this._minMaxYAnimation = new Tween(this, [\n      '_currentLocalMinY',\n      '_currentLocalMaxY'\n    ], [\n      this._localMinY,\n      this._localMaxY\n    ], {\n      duration: 300,\n      timingFunction: 'easeInOutQuad'\n    });\n\n    const onFinished = _ => {\n      this._minMaxYAnimation = null;\n    };\n\n    this._minMaxYAnimation.on( TweenEvents.COMPLETE, onFinished );\n    this._minMaxYAnimation.on( TweenEvents.CANCELLED, onFinished );\n\n    this._minMaxYAnimation.start();\n  }\n\n  /**\n   * @private\n   */\n  _patchMinMaxYAnimation () {\n    this._minMaxYAnimation.patchAnimation([\n      this._localMinY,\n      this._localMaxY\n    ]);\n  }\n\n  /**\n   * @private\n   */\n  _updateMinMaxAnimationSign () {\n    this._minMaxYAnimationSign = this.currentLocalExtremeDifference < this.localExtremeDifference;\n  }\n\n  /**\n   * @private\n   */\n  _updateMaskDimensions () {\n    if (!this._chartMask) {\n      return;\n    }\n    const rect = this._chartMask.querySelector( 'rect' );\n    setAttributeNS( rect, 'width', this.chartWidth, null );\n  }\n}\n","import { BaseChart } from './BaseChart';\nimport { cssText } from '../../utils';\nimport { ChartTypes } from './ChartTypes';\n\nexport class Chart extends BaseChart {\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _type = ChartTypes.chart;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartHeight = 280;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartMaskPadding = 20;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _seriesGroup = null;\n\n  /**\n   * Creates SVG group for storing series paths\n   */\n  createSeriesGroup () {\n    this._seriesGroup = this.renderer.createGroup({\n      class: 'telechart-series-group',\n      transform: `translate(0, 70) scale(1 1)`,\n      mask: `url(#${this.chartMaskId})`\n    });\n\n    this.renderer.createRect(this.renderer.width, '1px', {\n      fill: '#ccc',\n      y: 1,\n      style: cssText({\n        shapeRendering: 'crispEdges'\n      })\n    }, this._seriesGroup);\n\n    this.renderer.createRect(this.renderer.width, '1px', {\n      fill: '#ccc',\n      y: this.chartHeight,\n      style: cssText({\n        shapeRendering: 'crispEdges'\n      })\n    }, this._seriesGroup);\n  }\n\n  /**\n   * @param {number} min\n   * @param {number} max\n   */\n  setNavigationRange (min, max) {\n    const [ minX, maxX ] = this._resolveNavigationRange( min, max );\n\n    this.setViewportRange( minX, maxX );\n  }\n\n  /**\n   * @param {number} min\n   * @param {number} max\n   */\n  animateNavigationRangeTo (min, max) {\n    const [ minX, maxX ] = this._resolveNavigationRange( min, max );\n\n    this.animateViewportRangeTo( minX, maxX );\n  }\n\n  /**\n   * Sets initial viewport range for the chart\n   */\n  setInitialRange () {\n    const globalMinX = this.xAxis[ 0 ];\n    const globalMaxX = this.xAxis[ this.xAxis.length - 1 ];\n    const initialViewport = Math.floor( ( globalMaxX - globalMinX ) * .3 );\n    const viewportPadding = this.computeViewportPadding(\n      globalMaxX - initialViewport,\n      globalMaxX\n    );\n\n    // set initial range\n    this.setViewportRange(\n      globalMaxX - initialViewport - viewportPadding,\n      globalMaxX + viewportPadding\n    );\n  }\n\n  /**\n   * @param {*} options\n   * @return {*}\n   */\n  extendSeriesOptions (options) {\n    return Object.assign({}, options, {\n      strokeWidth: 2\n    });\n  }\n\n  /**\n   * @return {number}\n   */\n  get chartHeight () {\n    return this._chartHeight;\n  }\n\n  /**\n   * @param {number} min\n   * @param {number} max\n   * @private\n   */\n  _resolveNavigationRange (min, max) {\n    const globalMinX = this.xAxis[ 0 ];\n    const globalMaxX = this.xAxis[ this.xAxis.length - 1 ];\n\n    const globalDistance = globalMaxX - globalMinX;\n\n    let minX = globalMinX + min * globalDistance;\n    let maxX = globalMinX + max * globalDistance;\n\n    const padding = this.computeViewportPadding( minX, maxX );\n\n    return [ minX - padding, maxX + padding ];\n  }\n}\n","export class Clock {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _lastUpdateMs = 0;\n\n  constructor () {\n    this._lastUpdateMs = performance.now();\n  }\n\n  /**\n   * @return {number}\n   */\n  getDelta () {\n    const now = performance.now();\n    const delta = now - this._lastUpdateMs;\n    this._lastUpdateMs = now;\n\n    return delta;\n  }\n}\n","export const NavigatorChartEvents = {\n  RANGE_CHANGED: 'rangeChanged',\n  ANIMATE_RANGE: 'animateRange',\n};\n","import { BaseChart } from './BaseChart';\nimport { ChartTypes } from './ChartTypes';\nimport {\n  clampNumber,\n  cssText,\n  getElementOffset, isTouchEventsSupported,\n  passiveIfSupported,\n  setAttributeNS,\n  setAttributesNS\n} from '../../utils';\nimport { NavigatorChartEvents } from './events/NavigatorChartEvents';\nimport { Tween, TweenEvents } from '../animation/Tween';\n\nexport class NavigatorChart extends BaseChart {\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _type = ChartTypes.navigatorChart;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _chartHeight = 45;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _offsetY = 388;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _paddingTopBottom = 2;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _paddingLeftRight = 11;\n\n  /**\n   * @type {number}\n   * @private\n   * @readonly\n   */\n  _chartMaskPadding = 1;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _seriesGroup = null;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _navigatorGroup = null;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _sliderGroup = null;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _slider = null;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _sliderControllerLeft = null;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _sliderControllerRight = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _sliderControllerWidth = isTouchEventsSupported() ? 30 : 20;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _sliderControllerOffset = isTouchEventsSupported() ? 17 : 12;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _sliderWidth = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _sliderLeftRightBorderWidth = 5;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _overlayLeft = null;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _overlayRight = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _overlayLeftWidth = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _overlayRightWidth = 0;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _overlayColor = 'rgba(240, 246, 249, 0.75)';\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  _sliderUpdateNeeded = false;\n\n  /**\n   * @type {Array<number>}\n   * @private\n   */\n  _navigatorRange = [ .7, 1 ];\n\n  /**\n   * @type {Tween}\n   * @private\n   */\n  _navigatorRangeAnimation = null;\n\n  /**\n   * @type {*}\n   * @private\n   */\n  _navigationRangeAnimationObject = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  _navigatorMinRangeDistance = .05;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _navigatorChangeDirection = 'right';\n\n  /**\n   * Initializes navigator chart\n   */\n  initialize () {\n    super.initialize();\n\n    this._updateNavigatorDimensions();\n    this._createNavigatorGroup();\n    this._createOverlays();\n\n    this._createSliderEventsListeners();\n  }\n\n  update (deltaTime) {\n    super.update( deltaTime );\n\n    const hasRangeAnimation = this._navigatorRangeAnimation && this._navigatorRangeAnimation.isRunning;\n    if (hasRangeAnimation) {\n      this._navigatorRangeAnimation.update( deltaTime );\n\n      this.updateNavigationRange(\n        ...[ this._navigationRangeAnimationObject.from, this._navigationRangeAnimationObject.to ]\n      )\n    }\n\n    if (this._sliderUpdateNeeded) {\n      this._updateNavigatorElements();\n\n      this._sliderUpdateNeeded = false;\n    }\n  }\n\n  /**\n   * @param {number} min\n   * @param {number} max\n   * @param {*} options\n   */\n  animateNavigationRangeTo (min = 0, max = 1, options = {}) {\n    const {\n      duration = 300,\n      timingFunction = 'easeInOutQuad'\n    } = options;\n\n    const [ newMin, newMax ] = this._clampNavigationRange( min, max );\n\n    if (this._navigatorRangeAnimation) {\n      return this._navigatorRangeAnimation.patchAnimation( [ newMin, newMax ] );\n    }\n\n    this._navigationRangeAnimationObject = {\n      from: this._navigatorRange[ 0 ],\n      to: this._navigatorRange[ 1 ]\n    };\n\n    this._navigatorRangeAnimation = new Tween(this._navigationRangeAnimationObject, [ 'from', 'to' ], [\n      newMin, newMax\n    ], {\n      duration, timingFunction\n    });\n\n    const onFinished = _ => {\n      this._navigatorRangeAnimation = null;\n    };\n\n    this._navigatorRangeAnimation.on( TweenEvents.COMPLETE, onFinished );\n    this._navigatorRangeAnimation.on( TweenEvents.CANCELLED, onFinished );\n\n    this._navigatorRangeAnimation.start();\n\n    this.emit( NavigatorChartEvents.ANIMATE_RANGE, [ newMin, newMax ] );\n  }\n\n  /**\n   * @param {number} min\n   * @param {number} max\n   * @param {boolean} emitChange\n   */\n  setNavigationRange (min = 0, max = 1, { emitChange = true } = {}) {\n    [ min, max ] = this._clampNavigationRange( min, max );\n    this._navigatorRange = [ min, max ];\n\n    this._updateNavigatorDimensions();\n    this._sliderUpdateNeeded = true;\n\n    if (emitChange) {\n      this.emit( NavigatorChartEvents.RANGE_CHANGED, this._navigatorRange );\n    }\n  }\n\n\n  /**\n   * @param {number} min\n   * @param {number} max\n   */\n  updateNavigationRange (min, max) {\n    this.setNavigationRange( min, max, { emitChange: false } );\n  }\n\n  /**\n   * Creates SVG group for storing series paths\n   */\n  createSeriesGroup () {\n    this._seriesGroup = this.renderer.createGroup({\n      class: 'telechart-navigator-series-group',\n      transform: `translate(0, ${this._offsetY}) scale(1 1)`,\n      mask: `url(#${this.chartMaskId})`\n    });\n  }\n\n  onRendererResize () {\n    super.onRendererResize();\n\n    this._updateNavigatorDimensions();\n    this._sliderUpdateNeeded = true;\n  }\n\n  /**\n   * @return {number}\n   */\n  get chartHeight () {\n    return this._chartHeight;\n  }\n\n  /**\n   * @return {number}\n   */\n  get navigatorWidth () {\n    return this.chartWidth - this._paddingLeftRight * 2;\n  }\n\n  /**\n   * @return {number}\n   */\n  get navigatorHeight () {\n    return this._chartHeight + this._paddingTopBottom * 2;\n  }\n\n  /**\n   * @private\n   */\n  _updateNavigatorDimensions () {\n    const overlayLeftScale = this._navigatorRange[ 0 ];\n    const overlayRightScale = ( 1 - this._navigatorRange[ 1 ] );\n    const navigatorWidth = this.navigatorWidth;\n\n    this._overlayLeftWidth = navigatorWidth * overlayLeftScale;\n    this._overlayRightWidth = navigatorWidth * overlayRightScale;\n    this._sliderWidth = navigatorWidth - this._overlayLeftWidth - this._overlayRightWidth;\n  }\n\n  /**\n   * @private\n   */\n  _createNavigatorGroup () {\n    const offsetY = this._offsetY - this._paddingTopBottom;\n\n    this._navigatorGroup = this.renderer.createGroup({\n      class: 'telechart-navigator',\n      transform: `translate(${this._paddingLeftRight}, ${offsetY}) scale(1 1)`,\n    });\n  }\n\n  /**\n   * @private\n   */\n  _createOverlays () {\n    this._overlayLeft = this.renderer.createRect(this._overlayLeftWidth, this.navigatorHeight, {\n      class: 'telechart-navigator-overlay',\n      x: 0,\n      y: 0,\n      style: cssText({\n        fill: this._overlayColor\n      })\n    }, this._navigatorGroup);\n\n    this._overlayRight = this.renderer.createRect(this._overlayRightWidth, this.navigatorHeight, {\n      class: 'telechart-navigator-overlay',\n      x: this.navigatorWidth - this._overlayRightWidth,\n      y: 0,\n      style: cssText({\n        fill: this._overlayColor\n      })\n    }, this._navigatorGroup);\n\n    // creating slider\n    this._sliderGroup = this.renderer.createGroup({\n      class: 'telechart-navigator-slider-group',\n      transform: `translate(${this._overlayLeftWidth}, 0) scale(1 1)`,\n      fill: 'none'\n    }, [], this._navigatorGroup);\n\n    this._slider = this.renderer.createRect(this._sliderWidth, this.navigatorHeight, {\n      class: 'telechart-navigator-slider',\n      x: 0,\n      y: 0,\n      fill: 'rgba(163, 196, 220, 0.47)'\n    }, this._sliderGroup);\n\n    this._sliderControllerLeft = this.renderer.createRect(this._sliderControllerWidth, this.navigatorHeight, {\n      class: 'telechart-navigator-slider-controller left',\n      x: -this._sliderControllerOffset,\n      y: 0,\n      fill: 'rgba(255,255,255,.0001)'\n    }, this._sliderGroup);\n\n    this._sliderControllerRight = this.renderer.createRect(this._sliderControllerWidth, this.navigatorHeight, {\n      class: 'telechart-navigator-slider-controller right',\n      x: this._sliderWidth - this._sliderControllerWidth + this._sliderControllerOffset,\n      y: 0,\n      fill: 'rgba(255,255,255,.0001)'\n    }, this._sliderGroup);\n\n    // creating mask\n    const maskId = `telechart-navigator-slider-mask-${this.id}`;\n    this._sliderMask = this.renderer.createMask({\n      id: maskId\n    }, [], this.defs);\n\n    this._sliderMaskOuter = this.renderer.createRect(this._sliderWidth, this.navigatorHeight, {\n      x: 0,\n      y: 0,\n      fill: 'white'\n    }, this._sliderMask);\n\n    this._sliderMaskInner = this.renderer.createRect(this._sliderWidth - 2 * this._sliderLeftRightBorderWidth, this.navigatorHeight - 2, {\n      x: this._sliderLeftRightBorderWidth,\n      y: 1,\n      fill: 'black'\n    }, this._sliderMask);\n\n    // connect mask to slider\n    setAttributeNS( this._sliderGroup, 'mask', `url(#${maskId})`, null );\n  }\n\n  /**\n   * @private\n   */\n  _updateNavigatorElements () {\n    // left overlay\n    setAttributeNS( this._overlayLeft, 'width', this._overlayLeftWidth, null );\n\n    // right overlay\n    setAttributeNS( this._overlayRight, 'width', this._overlayRightWidth, null );\n    setAttributeNS( this._overlayRight, 'x', this.navigatorWidth - this._overlayRightWidth, null );\n\n    // slider\n    setAttributeNS( this._sliderGroup, 'transform', `translate(${this._overlayLeftWidth}, 0) scale(1 1)`, null );\n    setAttributeNS( this._slider, 'width', this._sliderWidth, null );\n    setAttributeNS( this._sliderControllerRight, 'x', this._sliderWidth - this._sliderControllerWidth + this._sliderControllerOffset, null );\n\n    // mask\n    setAttributeNS( this._sliderMaskOuter, 'width', this._sliderWidth, null );\n    setAttributesNS(this._sliderMaskInner, {\n      width: Math.max( 0, this._sliderWidth - 2 * this._sliderLeftRightBorderWidth ),\n      height: this.navigatorHeight - 2,\n      x: this._sliderLeftRightBorderWidth\n    });\n  }\n\n  /**\n   * @param {number} min\n   * @param {number} max\n   * @param {boolean} preserveDistance\n   * @return {Array<number>}\n   * @private\n   */\n  _clampNavigationRange (min = 0, max = 1, preserveDistance = false) {\n    const preservedDistance = clampNumber( max - min, this._navigatorMinRangeDistance, 1 );\n\n    min = clampNumber( min, 0, 1 );\n    max = clampNumber( max, 0, 1 );\n\n    const isRightController = this._navigatorChangeDirection === 'right';\n\n    const distance = max - min;\n    const minDistance = preserveDistance\n      ? preservedDistance\n      : this._navigatorMinRangeDistance;\n\n    if (distance < minDistance) {\n      if (isRightController) {\n        if (max - minDistance >= 0) {\n          min = max - minDistance;\n        } else {\n          min = 0;\n          max = minDistance;\n        }\n      } else {\n        if (min + minDistance <= 1) {\n          max = min + minDistance;\n        } else {\n          max = 1;\n          min = 1 - minDistance;\n        }\n      }\n    }\n\n    return [ min, max ];\n  }\n\n  /**\n   * @private\n   */\n  _createSliderEventsListeners () {\n    // slider\n    const touchStartListener = this._onSliderTouchStart.bind( this );\n    const touchMoveListener = this._onSliderTouchMove.bind( this );\n    const mouseDownListener = this._onSliderMouseDown.bind( this );\n\n    this._slider.addEventListener( 'touchstart', touchStartListener, passiveIfSupported );\n    this._slider.addEventListener( 'touchmove', touchMoveListener, passiveIfSupported );\n\n    this._slider.addEventListener( 'mousedown', mouseDownListener );\n\n    // slider controllers\n    // left\n    const controllerLeftTouchStartListener = this._onSliderControllerTouchStart.bind( this, 'left' );\n    const controllerLeftTouchMoveListener = this._onSliderControllerTouchMove.bind( this );\n    const controllerLeftMouseDownListener = this._onSliderControllerMouseDown.bind( this, 'left' );\n\n    //right\n    const controllerRightTouchStartListener = this._onSliderControllerTouchStart.bind( this, 'right' );\n    const controllerRightTouchMoveListener = this._onSliderControllerTouchMove.bind( this );\n    const controllerRightMouseDownListener = this._onSliderControllerMouseDown.bind( this, 'right' );\n\n    // left\n    this._sliderControllerLeft.addEventListener( 'touchstart', controllerLeftTouchStartListener, passiveIfSupported );\n    this._sliderControllerLeft.addEventListener( 'touchmove', controllerLeftTouchMoveListener, passiveIfSupported );\n    this._sliderControllerLeft.addEventListener( 'mousedown', controllerLeftMouseDownListener );\n\n    // right\n    this._sliderControllerRight.addEventListener( 'touchstart', controllerRightTouchStartListener, passiveIfSupported );\n    this._sliderControllerRight.addEventListener( 'touchmove', controllerRightTouchMoveListener, passiveIfSupported );\n    this._sliderControllerRight.addEventListener( 'mousedown', controllerRightMouseDownListener );\n\n    // overlays\n    const overlayLeftClickListener = this._onSliderOverlayClick.bind( this, 'left' );\n    const overlayRightClickListener = this._onSliderOverlayClick.bind( this, 'right' );\n\n    this._overlayLeft.addEventListener( 'click', overlayLeftClickListener );\n    this._overlayRight.addEventListener( 'click', overlayRightClickListener );\n  }\n\n  /**\n   * @param {TouchEvent} ev\n   * @private\n   */\n  _onSliderTouchStart (ev) {\n    const {\n      pageX, pageY\n    } = ev.targetTouches[ 0 ];\n\n    this._sliderStartEvent = {\n      pageX, pageY\n    };\n\n    this._sliderStartPosition = this._navigatorRange.slice();\n  }\n\n  /**\n   * @param {TouchEvent} ev\n   * @private\n   */\n  _onSliderTouchMove (ev) {\n    const targetTouch = ev.targetTouches[ 0 ];\n\n    const {\n      pageX: startPageX\n    } = this._sliderStartEvent;\n\n    const {\n      pageX = 0\n    } = targetTouch;\n\n    const positionDelta = ( startPageX - pageX ) / this.navigatorWidth;\n\n    const startPosition = this._sliderStartPosition;\n\n    let [ min, max ] = this._clampNavigationRange(\n      startPosition[ 0 ] - positionDelta,\n      startPosition[ 1 ] - positionDelta,\n      true\n    );\n\n    this.setNavigationRange( min, max );\n  }\n\n  /**\n   * @param {MouseEvent} ev\n   * @private\n   */\n  _onSliderMouseDown (ev) {\n    const {\n      pageX, pageY\n    } = ev;\n\n    this._sliderStartEvent = {\n      pageX, pageY\n    };\n\n    this._sliderStartPosition = this._navigatorRange.slice();\n\n    const sliderMouseMoveListener = this._onSliderMouseMove.bind( this );\n\n    const lastBodyStyle = document.body.getAttribute( 'style' );\n    setAttributeNS( document.body, 'style', cssText({ cursor: 'grabbing' }), null );\n    setAttributeNS( this._slider, 'style', cssText({ cursor: 'grabbing' }), null );\n\n    document.addEventListener('mousemove', sliderMouseMoveListener);\n    document.addEventListener('mouseup', ev => {\n      if (lastBodyStyle) {\n        setAttributeNS( document.body, 'style', lastBodyStyle, null );\n      } else {\n        document.body.removeAttribute( 'style' );\n      }\n      setAttributeNS( this._slider, 'style', cssText({ cursor: 'grab' }), null );\n\n      document.removeEventListener( 'mousemove', sliderMouseMoveListener )\n    });\n  }\n\n  /**\n   * @param {MouseEvent} ev\n   * @private\n   */\n  _onSliderMouseMove (ev) {\n    ev.preventDefault();\n\n    const {\n      pageX: startPageX\n    } = this._sliderStartEvent;\n\n    const {\n      pageX = 0\n    } = ev;\n\n    const positionDelta = ( startPageX - pageX ) / this.navigatorWidth;\n\n    const startPosition = this._sliderStartPosition;\n\n    let [ min, max ] = this._clampNavigationRange(\n      startPosition[ 0 ] - positionDelta,\n      startPosition[ 1 ] - positionDelta,\n      true\n    );\n\n    this.setNavigationRange( min, max );\n  }\n\n  /**\n   * @param {string} direction\n   * @param {TouchEvent} ev\n   * @private\n   */\n  _onSliderControllerTouchStart (direction, ev) {\n    const {\n      pageX, pageY\n    } = ev.targetTouches[ 0 ];\n\n    this._sliderControllerStartPosition = this._navigatorRange.slice();\n    this._navigatorChangeDirection = direction;\n    this._sliderControllerStartEvent = {\n      pageX, pageY\n    };\n  }\n\n  /**\n   * @param {TouchEvent} ev\n   * @private\n   */\n  _onSliderControllerTouchMove (ev) {\n    if (ev.cancelable) {\n      ev.preventDefault();\n    }\n\n    const targetTouch = ev.targetTouches[ 0 ];\n\n    const {\n      pageX: startPageX\n    } = this._sliderControllerStartEvent;\n\n    const {\n      pageX = 0\n    } = targetTouch;\n\n    const positionDelta = ( startPageX - pageX ) / this.navigatorWidth;\n    const startPosition = this._sliderControllerStartPosition;\n    const isLeft = this._navigatorChangeDirection === 'left';\n\n    let [ min, max ] = [\n      startPosition[ 0 ] - ( isLeft ? positionDelta : 0 ),\n      startPosition[ 1 ] - ( !isLeft ? positionDelta : 0 )\n    ];\n\n    [ min, max ] = this._clampNavigationRange( min, max );\n\n    if (isLeft) {\n      this._sliderControllerStartPosition[ 1 ] = max;\n    } else {\n      this._sliderControllerStartPosition[ 0 ] = min;\n    }\n\n    this.setNavigationRange( min, max );\n  }\n\n  /**\n   * @param {string} direction\n   * @param {MouseEvent} ev\n   * @private\n   */\n  _onSliderControllerMouseDown (direction, ev) {\n    const {\n      pageX, pageY\n    } = ev;\n\n    this._sliderControllerStartPosition = this._navigatorRange.slice();\n    this._navigatorChangeDirection = direction;\n    this._sliderControllerStartEvent = {\n      pageX, pageY\n    };\n\n    const mouseMoveListener = this._onSliderControllerMouseMove.bind( this );\n\n    document.addEventListener('mousemove', mouseMoveListener);\n    document.addEventListener('mouseup', ev => {\n      document.removeEventListener( 'mousemove', mouseMoveListener )\n    });\n  }\n\n  /**\n   * @param {MouseEvent} ev\n   * @private\n   */\n  _onSliderControllerMouseMove (ev) {\n    ev.preventDefault();\n\n    const {\n      pageX: startPageX\n    } = this._sliderControllerStartEvent;\n\n    const {\n      pageX = 0\n    } = ev;\n\n    const positionDelta = ( startPageX - pageX ) / this.navigatorWidth;\n    const startPosition = this._sliderControllerStartPosition;\n    const isLeft = this._navigatorChangeDirection === 'left';\n\n    let [ min, max ] = [\n      startPosition[ 0 ] - ( isLeft ? positionDelta : 0 ),\n      startPosition[ 1 ] - ( !isLeft ? positionDelta : 0 )\n    ];\n\n    [ min, max ] = this._clampNavigationRange( min, max );\n\n    if (isLeft) {\n      this._sliderControllerStartPosition[ 1 ] = max;\n    } else {\n      this._sliderControllerStartPosition[ 0 ] = min;\n    }\n\n    this.setNavigationRange( min, max );\n  }\n\n  /**\n   * @param {string} direction\n   * @param {MouseEvent} ev\n   * @private\n   */\n  _onSliderOverlayClick (direction, ev) {\n    const position = this._resolveNavigatorPosition( ev );\n    const halfDistance = ( this._navigatorRange[ 1 ] - this._navigatorRange[ 0 ] ) * .5;\n\n    const [ min, max ] = this._clampNavigationRange(\n      position - halfDistance,\n      position + halfDistance,\n      true\n    );\n\n    this.animateNavigationRangeTo( min, max );\n  }\n\n  /**\n   * @param {number} pageX\n   * @param {number} pageY\n   * @private\n   */\n  _resolveNavigatorPosition ({ pageX, pageY }) {\n    const { left } = getElementOffset( this._navigatorGroup );\n    return ( pageX - left ) / this.navigatorWidth;\n  }\n}\n","import sourceData from '../samples/chart_data.json';\nimport { Telechart } from '../src';\nimport {\n  addClass, animationTimeout,\n  ChartThemes, ChartThemesColors, clampNumber,\n  createElement,\n  cssText, isBrowserSafari,\n  parseQueryString,\n  removeClass,\n  setAttributes, TimeRanges\n} from '../src/utils';\n\nconst query = parseQueryString( location.search );\nlet currentThemeName = query && query.theme || 'default';\n\nconst largeAxisX = [ 'x' ];\nconst largeAxisY1 = [ 'y0' ];\nconst largeAxisY2 = [ 'y1' ];\nconst size = 1e3;\nconst initialDate = Date.now() - TimeRanges.year * 5;\nconst endDate = Date.now();\nconst dateTick = (endDate - initialDate) / size;\n\nfor (let i = 0; i < size; ++i) {\n  largeAxisX.push( Math.floor( initialDate + dateTick * i + dateTick * (Math.random() * .5 - .5 / 2) ) );\n  largeAxisY1.push( Math.sin( i * .04 ) * 1000 + Math.random() * 10 - 10 / 2 );\n  largeAxisY2.push( Math.cos( i * .04 ) * 600 + Math.random() * 20 - 20 / 2 );\n}\n\nsourceData.push({\n  columns: [\n    largeAxisX,\n    largeAxisY1,\n    largeAxisY2\n  ],\n  names: Object.assign( {}, sourceData[ 0 ].names ),\n  types: Object.assign( {}, sourceData[ 0 ].types ),\n  colors: Object.assign( {}, sourceData[ 0 ].colors )\n});\n\nconst charts = window.charts = [];\n\nconst from = 0;\nconst count = 6;\n\n// initialize charts using requestAnimationFrame\n// for better user experience\nsourceData\n  .slice(from, from + count)\n  .map((chartData, index) => {\n    return animationTimeout( 0 * 20 * index, [ chartData, index ] );\n  })\n  .map(animation => {\n    animation.then(([ chartData, index ]) => createChart( chartData, index )).catch( console.error );\n    return animation;\n  });\n\nupdatePageTheme();\n\nlet buttonContent = `\n  <span class=\"text-switcher\">\n    <span>Switch to </span>\n    <span class=\"text-switcher__switcher\">\n      <span>Night</span>\n      <span>Day</span>\n    </span>\n    <span> Mode</span>\n  </span>\n`;\n\nconst themeButton = createElement('button', {\n  attrs: {\n    class: 'demo-theme-button',\n    style: cssText({\n      opacity: 0\n    })\n  }\n}, buttonContent);\n\nwindow.addEventListener('load', _ => {\n  document.body.appendChild( themeButton );\n\n  themeButton.addEventListener('click', ev => {\n    updateChartsTheme();\n    updatePageTheme();\n  });\n\n  setTimeout(_ => {\n    setAttributes(themeButton, {\n      style: cssText({\n        opacity: 1\n      })\n    });\n  }, 100);\n});\n\nfunction updateChartsTheme () {\n  const isDefaultTheme = currentThemeName === ChartThemes.default;\n  const newTheme = isDefaultTheme\n    ? ChartThemes.dark\n    : ChartThemes.default;\n  currentThemeName = newTheme;\n\n  charts.forEach(chart => {\n    chart.setTheme( newTheme );\n  });\n}\n\nfunction updatePageTheme () {\n  removeClass( document.body, [ 'default-theme', 'dark-theme' ] );\n  addClass( document.body, `${currentThemeName}-theme` );\n\n  if (isBrowserSafari()) {\n    addClass( document.body, 'browser-safari' );\n  }\n\n  setTimeout(_ => {\n    updatePageThemeColor();\n  }, 300);\n}\n\nfunction updatePageThemeColor () {\n  const themeColor = ChartThemesColors[ currentThemeName ];\n\n  let metaTheme = document.querySelector( '[name=\"theme-color\"]' );\n\n  if (!metaTheme) {\n    metaTheme = createElement('meta', {\n      attrs: {\n        name: 'theme-color',\n        content: themeColor\n      }\n    });\n    document.head.appendChild( metaTheme );\n  } else {\n    metaTheme.setAttribute( 'content', themeColor );\n  }\n}\n\nfunction createChart (chartData, index) {\n  const container = document.querySelector( `#telechart-${index + 1}` );\n\n  const start = performance.now();\n  const chart = Telechart.create(container, {\n    title: 'Followers',\n    series: {\n      columns: chartData.columns,\n      names: chartData.names,\n      types: chartData.types,\n      colors: chartData.colors,\n    },\n    seriesOptions: {\n      grouping: {\n        pixels: 2\n      }\n    }\n  });\n\n  console.log( `#${index}`, performance.now() - start, chart );\n\n  // set initial theme\n  chart.setTheme( currentThemeName );\n\n  charts.push( chart );\n}\n\nconst animations = [];\n\nfunction runAnimation (index) {\n  const chart = charts[ index ];\n  let startDate = chart._chart._xAxis[ 0 ];\n  let endDate = chart._chart._xAxis[ chart._chart._xAxis.length - 1 ];\n  let curDate = endDate - (endDate - startDate) * .03;\n  const tickDelta = (endDate - startDate) * .005;\n  let sign = -1;\n\n  function animate () {\n    curDate += sign * tickDelta;\n    chart._chart.setViewportRange( curDate, clampNumber(curDate + tickDelta * 30, startDate + tickDelta ) );\n\n    if (curDate < startDate + 2 * tickDelta) {\n      sign *= -1;\n    } else if (curDate > endDate - tickDelta * 2) {\n      sign *= -1;\n    }\n\n    // stop animation\n    if (!animations.includes( index )) {\n      return;\n    }\n\n    requestAnimationFrame( animate );\n  }\n\n  animations.push( index );\n\n  animate();\n}\n\nfunction stopAnimation (index) {\n  const i = animations.indexOf( index );\n  animations.splice( i, 1 );\n}\n\nfunction toggleAnimation (index) {\n  animations.includes( index )\n    ? stopAnimation( index )\n    : runAnimation( index );\n}\n\nwindow.toggleAnimation = toggleAnimation;\n","import './style/telechart.scss';\n\nimport { AnimationSource, AnimationSourceEvents } from './core/animation/AnimationSource';\nimport { SvgRenderer } from \"./core/SvgRenderer\";\nimport { Chart } from './core/chart/Chart';\nimport { Clock } from './core/misc/Clock';\nimport { NavigatorChart } from './core/chart/NavigatorChart';\nimport { ChartEvents } from './core/chart/events/ChartEvents';\n\nimport {\n  addClass,\n  interpolateThemeClass,\n  removeClass,\n  resolveElement,\n  ChartThemes,\n  setAttributesNS,\n  cssText, createElement, ROOT_CLASS_NAME\n} from \"./utils\";\nimport { NavigatorChartEvents } from './core/chart/events/NavigatorChartEvents';\n\nexport class Telechart {\n\n  /**\n   * @type {Object}\n   * @private\n   */\n  _options = null;\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  _rootElement = null;\n\n  /**\n   * @type {SvgRenderer}\n   * @private\n   */\n  _renderer = null;\n\n  /**\n   * @type {Chart}\n   * @private\n   */\n  _chart = null;\n\n  /**\n   * @type {NavigatorChart}\n   * @private\n   */\n  _navigatorChart = null;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _themeName = ChartThemes.default;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  _title = '';\n\n  /**\n   * @type {SVGTextElement}\n   * @private\n   */\n  _titleElement = null;\n\n  /**\n   * @type {Clock}\n   * @private\n   */\n  _clock = null;\n\n  /**\n   * @type {AnimationSource}\n   * @private\n   */\n  _animationSource = null;\n\n  /**\n   * @static\n   * @param {Element | string} mountTo Element or selector\n   * @param {Object} options\n   */\n  static create (mountTo, options = {}) {\n    const chart = new Telechart();\n\n    chart.setOptions( options );\n    chart.mount( resolveElement( mountTo ) );\n    chart.initialize();\n\n    chart.firstRender();\n\n    return chart;\n  }\n\n  /**\n   * @param {Object} options\n   */\n  setOptions (options = {}) {\n    this._options = options;\n  }\n\n  /**\n   * @param {Element} parent\n   */\n  mount (parent) {\n    const root = createElement('div', {\n      attrs: {\n        class: ROOT_CLASS_NAME\n      }\n    });\n\n    parent.appendChild( root );\n\n    this._rootElement = root;\n    this._renderer = new SvgRenderer( root );\n  }\n\n  /**\n   * Initialize the chart\n   */\n  initialize () {\n    this.setTheme( this._options.theme || ChartThemes.default );\n    this.setTitle( this._options.title );\n\n    // create components\n    this._createChart();\n    this._createNavigatorChart();\n    this._addEventsListeners();\n\n    // create animation loop\n    this._clock = new Clock();\n    this._animationSource = new AnimationSource( 60, 1 ); // fps, timeScale\n    this._animationSource.on(AnimationSourceEvents.UPDATE, deltaTime => {\n      this.update( deltaTime );\n    });\n\n    requestAnimationFrame(_ => {\n      this.animate();\n    });\n  }\n\n  /**\n   * Draws first frame\n   */\n  firstRender () {\n    this._chart.firstRender();\n    this._navigatorChart.firstRender();\n  }\n\n  /**\n   * Animation loop\n   */\n  animate () {\n    const deltaTime = this._clock.getDelta();\n    this._animationSource.update( deltaTime );\n\n    requestAnimationFrame(_ => this.animate());\n  }\n\n  /**\n   * Update loop\n   */\n  update (deltaTime) {\n    this._chart.update( deltaTime );\n    this._navigatorChart.update( deltaTime );\n  }\n\n  /**\n   * @param {string} themeName\n   */\n  setTheme (themeName) {\n    const rootElement = this._rootElement;\n\n    removeClass(\n      rootElement,\n      Object.keys( ChartThemes )\n        .map( interpolateThemeClass )\n    );\n\n    addClass(\n      rootElement,\n      interpolateThemeClass( themeName )\n    );\n\n    this._themeName = themeName;\n  }\n\n  /**\n   * @param {string} title\n   */\n  setTitle (title) {\n    this._title = title;\n\n    !this._titleElement\n      ? this._createTitle( title )\n      : this._updateTitle( title );\n  }\n\n  /**\n   * Destroys the chart instance\n   */\n  destroy () {\n    this._renderer && this._renderer.destroy();\n    this._rootElement = null;\n    this._renderer = null;\n  }\n\n  /**\n   * @return {string}\n   */\n  get themeName () {\n    return this._themeName;\n  }\n\n  /**\n   * @param {string} title\n   * @private\n   */\n  _createTitle (title = this._options.title) {\n    if (!title) {\n      return;\n    }\n\n    const text = this._renderer.createText(title, {\n      class: 'telechart-title',\n      x: 16,\n      y: 36,\n      textAnchor: 'start',\n      style: cssText({\n        opacity: 0\n      })\n    });\n\n    setTimeout(_ => {\n      setAttributesNS(text, {\n        style: cssText({\n          opacity: 1\n        })\n      });\n    }, 200);\n\n    this._titleElement = text;\n  }\n\n  /**\n   * @param {string} title\n   * @private\n   */\n  _updateTitle (title) {\n    if (!this._titleElement) {\n      return;\n    }\n    const tspan = this._titleElement.querySelector( 'tspan' );\n    tspan.textContent = title;\n  }\n\n  /**\n   * @private\n   */\n  _createChart () {\n    this._chart = new Chart(\n      this._renderer,\n      this._options\n    );\n\n    this._chart.initialize();\n  }\n\n  /**\n   * @private\n   */\n  _createNavigatorChart () {\n    this._navigatorChart = new NavigatorChart(\n      this._renderer,\n      this._options\n    );\n\n    this._navigatorChart.initialize();\n  }\n\n  /**\n   * @private\n   */\n  _addEventsListeners () {\n    this._chart.on(ChartEvents.SERIES_VISIBLE_CHANGE, line => {\n      this._navigatorChart.toggleSeriesInvisible( line.label );\n    });\n\n    this._navigatorChart.on(NavigatorChartEvents.RANGE_CHANGED, range => {\n      this._chart.setNavigationRange( ...range );\n    });\n\n    this._navigatorChart.on(NavigatorChartEvents.ANIMATE_RANGE, range => {\n      this._chart.animateNavigationRangeTo( ...range );\n    });\n  }\n}\n"],"sourceRoot":""}